"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[8839],{"./packages/design-system/src/icons/chevron_down_small.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgChevronDownSmall=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,d:"m20 15-4 3-4-3"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgChevronDownSmall)},"./packages/design-system/src/components/disclosure/disclosure.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/theme/constants/index.ts"),_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/icons/chevron_down_small.svg");const rotate={up:[180,0],down:[0,180],left:[-90,0],right:[90,0]},__WEBPACK_DEFAULT_EXPORT__=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_icons__WEBPACK_IMPORTED_MODULE_1__.A).withConfig({displayName:"disclosure__Disclosure",componentId:"sc-1xdydn4-0"})(["height:","px;width:auto;margin:0 -10px;color:",";transition:transform ",";transform:",";"],_theme__WEBPACK_IMPORTED_MODULE_2__.i.ICON_SIZE,(({disabled,theme})=>disabled?theme.colors.fg.disable:theme.colors.fg.secondary),(({duration=0})=>duration),(({direction="down",$isOpen=!1})=>{const[whenClosed,whenOpen]=rotate[direction];return`rotate(${$isOpen?whenOpen:whenClosed}deg);`}))},"./packages/design-system/src/components/dropDown/dropdown.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>dropdown});var react=__webpack_require__("./node_modules/react/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),v4=__webpack_require__("./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js"),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),menu_menu=__webpack_require__("./packages/design-system/src/components/menu/menu.tsx"),constants=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),popup=__webpack_require__("./packages/design-system/src/components/popup/popup.tsx"),useForwardedRef=__webpack_require__("./packages/design-system/src/utils/useForwardedRef.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts");const DropDownContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"dropDown__DropDownContainer",componentId:"sc-vmb8nl-0"})(["display:flex;flex-direction:column;width:100%;"]),Hint=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).attrs({size:types.$.Small}).withConfig({displayName:"dropDown__Hint",componentId:"sc-vmb8nl-1"})(["margin-top:12px;padding-left:2px;color:",";"],(({theme,hasError})=>hasError?theme.colors.fg.negative:theme.colors.fg.tertiary));var select_select=__webpack_require__("./packages/design-system/src/components/dropDown/select/select.tsx"),utils=(__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.find.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.flat-map.js"),__webpack_require__("./packages/design-system/src/components/menu/utils.ts")),useLiveRegion=__webpack_require__("./packages/design-system/src/utils/useLiveRegion.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const dropdown=(0,src.Rf)((function DropDown({ariaLabel,disabled,dropDownLabel,hasError,hint,isKeepMenuOpenOnSelection,onMenuItemClick,options=[],placement=constants.W.Bottom,popupFillWidth=!0,popupZIndex,isInline=!1,selectedValue="",direction="down",className,...rest},forwardedRef){const ref=(0,useForwardedRef.A)(forwardedRef),[dynamicPlacement,setDynamicPlacement]=(0,src.J0)(placement),{activeOption,setIsOpen,isOpen,groups}=function useDropDown({options=[],selectedValue}){const[isOpen,_setIsOpen]=(0,src.J0)(!1),speak=(0,useLiveRegion.A)("assertive"),setIsOpen=(0,src.YQ)(_setIsOpen,300,{leading:!0,trailing:!1}),groups=(0,src.Kr)((()=>(0,utils.f)(options)),[options]),activeOption=(0,src.Kr)((()=>selectedValue&&0!==groups.length?groups.flatMap((optionSet=>optionSet.options)).find((option=>String(option.value).toLowerCase()===String(selectedValue).toLowerCase())):null),[selectedValue,groups]);return(0,src.vJ)((()=>{if(isOpen){const message=options.length?(0,sprintf.A)((0,i18n._n)("%d result found, use left and right or up and down arrow keys to navigate.","%d results found, use left and right or up and down arrow keys to navigate.",options.length,"web-stories"),String(options.length)):(0,i18n.__)("No results found.","web-stories");speak(message)}}),[isOpen,options.length,speak]),{activeOption,groups,isOpen,setIsOpen}}({options,selectedValue}),positionPlacement=(0,src.hb)((popupRef=>{if(!popupRef.current)return;const{bottom,top}=popupRef.current.getBoundingClientRect();dynamicPlacement.startsWith("bottom")&&bottom>=window.innerHeight&&setDynamicPlacement(constants.W.Top),dynamicPlacement.startsWith("top")&&top<=0&&setDynamicPlacement(constants.W.Bottom)}),[dynamicPlacement]),handleSelectClick=(0,src.hb)((event=>{event.preventDefault(),setIsOpen((prevIsOpen=>!prevIsOpen))}),[setIsOpen]),handleDismissMenu=(0,src.hb)((()=>{setIsOpen(!1),ref.current?.focus(),setDynamicPlacement(placement)}),[setIsOpen,ref,placement]),handleMenuItemClick=(0,src.hb)(((event,menuItem)=>{onMenuItemClick?.(event,menuItem),isKeepMenuOpenOnSelection||handleDismissMenu()}),[handleDismissMenu,isKeepMenuOpenOnSelection,onMenuItemClick]),listId=(0,src.Kr)((()=>`list-${(0,v4.A)()}`),[]),selectButtonId=(0,src.Kr)((()=>`select-button-${(0,v4.A)()}`),[]),menu=react.createElement(menu_menu.A,_extends({activeValue:activeOption?.value,parentId:selectButtonId,listId,menuAriaLabel:(0,sprintf.A)((0,i18n.__)("%s Option List Selector","web-stories"),ariaLabel||dropDownLabel),onDismissMenu:handleDismissMenu,handleMenuItemSelect:handleMenuItemClick,groups,isAbsolute:isInline},rest));return react.createElement(DropDownContainer,{className},react.createElement(select_select.A,_extends({activeItemLabel:activeOption?.label,"aria-pressed":isOpen,"aria-disabled":disabled,"aria-expanded":isOpen,"aria-label":ariaLabel||dropDownLabel,"aria-owns":listId,disabled,dropDownLabel,hasError,id:selectButtonId,isOpen,onSelectClick:handleSelectClick,direction,ref},rest)),!disabled&&isInline?isOpen&&menu:react.createElement(popup.A,{anchor:ref,isOpen,placement:dynamicPlacement,refCallback:positionPlacement,fillWidth:popupFillWidth,zIndex:popupZIndex,ignoreMaxOffsetY:!0},menu),hint&&react.createElement(Hint,{hasError},hint))}))},"./packages/design-system/src/components/dropDown/select/select.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>select_select});var react=__webpack_require__("./node_modules/react/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),disclosure=__webpack_require__("./packages/design-system/src/components/disclosure/disclosure.tsx"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),outline=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts");const SelectButton=styled_components_browser_esm.Ay.button.withConfig({displayName:"select__SelectButton",componentId:"sc-9ab8mb-0"})((({theme,hasError,$isOpen,selectButtonStylesOverride,autoHeight})=>(0,styled_components_browser_esm.AH)(["width:100%;height:",";display:flex;align-items:center;justify-content:space-between;border-radius:",";background-color:",";border:1px solid ",";padding:8px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;"," &:hover{border-color:",";}"," &:disabled{pointer-events:none;border-color:",";&:hover{border-color:",";}label,span,svg{color:",";}}",";"],autoHeight?"auto":"36px",theme.borders.radius.small,theme.colors.opacity.footprint,theme.colors.border[$isOpen?"defaultActive":"defaultNormal"],outline.Q,theme.colors.border[$isOpen?"defaultActive":"defaultHover"],hasError&&(0,styled_components_browser_esm.AH)([""," border-color:",";&:active,&:hover,&:focus{border-color:",";}"],outline.Q(theme.colors.interactiveBg.negativeNormal),theme.colors.interactiveBg.negativeNormal,theme.colors.interactiveBg.negativeHover),theme.colors.border.disable,theme.colors.border.disable,theme.colors.fg.disable,selectButtonStylesOverride))),Value=(0,styled_components_browser_esm.Ay)(typography_text.E.Span).attrs({size:types.$.Small}).withConfig({displayName:"select__Value",componentId:"sc-9ab8mb-1"})(["max-width:100%;padding-right:12px;color:",";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;",";"],(({theme})=>theme.colors.fg.primary),(({selectValueStylesOverride})=>selectValueStylesOverride)),LabelText=(0,styled_components_browser_esm.Ay)(typography_text.E.Span).attrs({size:types.$.Small}).withConfig({displayName:"select__LabelText",componentId:"sc-9ab8mb-2"})(["color:",";padding-right:8px;white-space:nowrap;overflow:hidden;text-overflow:clip;"],(({theme})=>theme.colors.fg.secondary)),Label=styled_components_browser_esm.Ay.span.withConfig({displayName:"select__Label",componentId:"sc-9ab8mb-3"})(["display:flex;align-items:center;color:",";cursor:pointer;"],(({theme})=>theme.colors.fg.secondary));function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const select_select=(0,src.Rf)((({activeItemLabel,activeItemRenderer,disabled,dropDownLabel,hasError,isOpen,onSelectClick,placeholder="",direction="down",...rest},ref)=>{const ValueRenderer=activeItemRenderer;return react.createElement(SelectButton,_extends({"aria-haspopup":!0,$isOpen:isOpen,disabled,hasError,onClick:onSelectClick,ref,autoHeight:Boolean(activeItemRenderer)},rest),ValueRenderer?react.createElement(ValueRenderer,null):react.createElement(Value,{selectValueStylesOverride:rest.selectValueStylesOverride},activeItemLabel||placeholder),react.createElement(Label,null,dropDownLabel&&react.createElement(LabelText,null,dropDownLabel),react.createElement(disclosure.A,{direction,$isOpen:isOpen})))}))},"./packages/design-system/src/components/popup/popup.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/utils/noop.ts"),_contexts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/contexts/popup/usePopup.ts"),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/popup/utils/getOffset.ts"),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/popup/utils/getTransforms.ts"),_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/popup/constants.ts");const DEFAULT_TOP_OFFSET=0,DEFAULT_LEFT_OFFSET=0;const __WEBPACK_DEFAULT_EXPORT__=function Popup({anchor,dock,children,renderContents,placement=_constants__WEBPACK_IMPORTED_MODULE_2__.W.Bottom,spacing,isOpen,fillWidth=!1,refCallback=_utils__WEBPACK_IMPORTED_MODULE_3__.l,zIndex=2,ignoreMaxOffsetY,offsetOverride=!1,maxWidth}){const{topOffset=DEFAULT_TOP_OFFSET,leftOffset=DEFAULT_LEFT_OFFSET,isRTL=!1}=(0,_contexts__WEBPACK_IMPORTED_MODULE_4__.A)(),[popupState,setPopupState]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.J0)(null),isMounted=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.li)(!1),popup=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.li)(null),positionPopup=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)((evt=>{if(!isMounted.current||!anchor?.current)return;if(evt instanceof Event&&evt.target instanceof Element&&popup.current?.contains(evt.target))return;const offset=anchor.current?(0,_utils__WEBPACK_IMPORTED_MODULE_5__.A3)({placement,spacing,anchor,dock,popup,isRTL,topOffset,ignoreMaxOffsetY,offsetOverride}):_utils__WEBPACK_IMPORTED_MODULE_5__.Oe,popupRect=popup.current?.getBoundingClientRect();setPopupState({offset:(()=>{if(!popupRect)return null;if(popupRect.x<=leftOffset)switch(placement){case _constants__WEBPACK_IMPORTED_MODULE_2__.W.BottomEnd:case _constants__WEBPACK_IMPORTED_MODULE_2__.W.TopEnd:return{...offset,x:isRTL?offset.x:popupRect.width+leftOffset};case _constants__WEBPACK_IMPORTED_MODULE_2__.W.LeftEnd:case _constants__WEBPACK_IMPORTED_MODULE_2__.W.Left:case _constants__WEBPACK_IMPORTED_MODULE_2__.W.LeftStart:return{...offset,x:isRTL?offset.x:popupRect.width+-popupRect.x-leftOffset};case _constants__WEBPACK_IMPORTED_MODULE_2__.W.BottomStart:case _constants__WEBPACK_IMPORTED_MODULE_2__.W.TopStart:case _constants__WEBPACK_IMPORTED_MODULE_2__.W.RightEnd:case _constants__WEBPACK_IMPORTED_MODULE_2__.W.RightStart:case _constants__WEBPACK_IMPORTED_MODULE_2__.W.Right:return{...offset,x:popupRect.width};default:return{...offset,x:popupRect.width/2+(isRTL?0:leftOffset)}}return isRTL&&popupRect.right>=offset.bodyRight-leftOffset?{...offset,x:offset.bodyRight-popupRect.width-leftOffset}:null})()||offset,height:popupRect?.height||null})}),[anchor,placement,spacing,dock,isRTL,topOffset,leftOffset,ignoreMaxOffsetY,offsetOverride]);return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.vJ)((()=>(isMounted.current=!0,()=>{isMounted.current=!1})),[]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.vJ)((()=>{popupState?.height&&popupState.height!==popup.current?.getBoundingClientRect()?.height&&positionPopup()}),[popupState?.height,positionPopup]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Nf)((()=>{if(isOpen)return isMounted.current=!0,positionPopup(),document.addEventListener("scroll",positionPopup,!0),()=>{document.removeEventListener("scroll",positionPopup,!0),isMounted.current=!1}}),[isOpen,positionPopup]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Nf)((()=>{isMounted.current&&refCallback(popup)}),[popupState,refCallback]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.pO)({current:document.body},positionPopup,[positionPopup]),popupState&&isOpen?(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.d5)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(_constants__WEBPACK_IMPORTED_MODULE_2__.yK,{ref:popup,fillWidth:Boolean(fillWidth),maxWidth,$offset:popupState.offset,topOffset,zIndex,transforms:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.s0)(placement,isRTL)},renderContents?renderContents({propagateDimensionChange:positionPopup}):children),document.body):null}},"./packages/design-system/src/utils/useLiveRegion.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts");const __WEBPACK_DEFAULT_EXPORT__=function useLiveRegion(politeness="polite"){const elementRef=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.li)(null),ensureContainerExists=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((()=>{if(elementRef.current)return()=>{elementRef.current&&(document.body.removeChild(elementRef.current),elementRef.current=null)};const containerId="web-stories-aria-live-region-"+politeness,existingContainer=document.getElementById(containerId);if(existingContainer)return elementRef.current=existingContainer,()=>{elementRef.current=null};const container=document.createElement("div");return container.id=containerId,container.className="web-stories-aria-live-region",container.setAttribute("style","position: absolute;margin: -1px;padding: 0;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);-webkit-clip-path: inset(50%);clip-path: inset(50%);border: 0;word-wrap: normal !important;"),container.setAttribute("aria-live",politeness),container.setAttribute("aria-relevant","additions text"),container.setAttribute("aria-atomic","true"),document.body.appendChild(container),elementRef.current=container,()=>{document.body.removeChild(container),elementRef.current=null}}),[politeness]);return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.vJ)(ensureContainerExists,[ensureContainerExists]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((message=>{if(!elementRef.current)return;ensureContainerExists();const regions=document.querySelectorAll(".web-stories-aria-live-region");for(const region of regions)region.textContent="";elementRef.current.textContent=message}),[ensureContainerExists])}}}]);