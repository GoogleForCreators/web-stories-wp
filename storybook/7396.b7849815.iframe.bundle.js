"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[7396],{"./packages/design-system/src/components/tooltip/tooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>tooltip});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),src=__webpack_require__("./packages/react/src/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),noop=__webpack_require__("./packages/design-system/src/utils/noop.ts"),usePopup=__webpack_require__("./packages/design-system/src/contexts/popup/usePopup.ts"),constants=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),utils=__webpack_require__("./packages/design-system/src/components/keyboard/utils.ts"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),getOffset=__webpack_require__("./packages/design-system/src/components/popup/utils/getOffset.ts"),getTransforms=__webpack_require__("./packages/design-system/src/components/popup/utils/getTransforms.ts");const SvgForTail=styled_components_browser_esm.Ay.svg.withConfig({displayName:"tail__SvgForTail",componentId:"sc-bxihlv-0"})(["position:absolute;width:0;height:0;"]),Tail=styled_components_browser_esm.Ay.span.withConfig({displayName:"tail__Tail",componentId:"sc-bxihlv-1"})(["@supports (clip-path:url('#","')){position:absolute;display:block;height:","px;width:","px;",";background-color:inherit;border:none;border-bottom:none;clip-path:url('#","');}"],"tooltip-tail",8,34,(({placement,translateX,isRTL})=>(({placement,translateX,isRTL})=>{switch(placement){case constants.W.Top:case constants.W.TopStart:case constants.W.TopEnd:return(0,styled_components_browser_esm.AH)(["bottom:-","px;/*! @noflip */ transform:translateX(","px) rotate(180deg);"],7,translateX);case constants.W.Bottom:case constants.W.BottomStart:case constants.W.BottomEnd:return(0,styled_components_browser_esm.AH)(["top:-","px;/*! @noflip */ transform:translateX(","px);"],7,translateX);case constants.W.Left:case constants.W.LeftStart:case constants.W.LeftEnd:return(0,styled_components_browser_esm.AH)(["right:-","px;transform:rotate(",");"],20,isRTL?"-90deg":"90deg");case constants.W.Right:case constants.W.RightStart:case constants.W.RightEnd:return(0,styled_components_browser_esm.AH)(["left:-","px;transform:rotate(",");"],20,isRTL?"90deg":"-90deg");default:return""}})({placement,translateX,isRTL})),"tooltip-tail");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"tooltip__Wrapper",componentId:"sc-128lmkf-0"})(["position:relative;"]),TooltipContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"tooltip__TooltipContainer",componentId:"sc-128lmkf-1"})(["margin:0;display:flex;justify-content:center;align-items:center;text-align:center;flex-direction:row;max-width:14em;transition:0.4s opacity;opacity:",";pointer-events:",";z-index:",";border-radius:4px;background-color:",";filter:drop-shadow(0px 4px 4px rgba(0,0,0,0.25));",""],(({shown})=>shown?1:0),(({shown})=>shown?"all":"none"),(({zIndex})=>zIndex),(({theme})=>theme.colors.inverted.bg.primary),(({styleOverride})=>styleOverride)),TooltipText=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).withConfig({displayName:"tooltip__TooltipText",componentId:"sc-128lmkf-2"})(["color:",";padding:10px;"],(({theme})=>theme.colors.inverted.fg.primary)),getBoundingBoxCenter=({x,width})=>x+width/2;let lastVisibleDelayedTooltip=0;function Tooltip(t0){const $=(0,dist.c)(133);let children,className,forceAnchorRef,popupZIndexOverride,props,styleOverride,t1,t2,t3,t4,t5,t6,title;$[0]!==t0?(({title,shortcut:t1,hasTail:t2,placement:t3,children,onFocus:t4,onBlur:t5,isDelayed:t6,forceAnchorRef,className,popupZIndexOverride,styleOverride,...props}=t0),$[0]=t0,$[1]=children,$[2]=className,$[3]=forceAnchorRef,$[4]=popupZIndexOverride,$[5]=props,$[6]=styleOverride,$[7]=t1,$[8]=t2,$[9]=t3,$[10]=t4,$[11]=t5,$[12]=t6,$[13]=title):(children=$[1],className=$[2],forceAnchorRef=$[3],popupZIndexOverride=$[4],props=$[5],styleOverride=$[6],t1=$[7],t2=$[8],t3=$[9],t4=$[10],t5=$[11],t6=$[12],title=$[13]);const shortcut=void 0===t1?"":t1,hasTail=void 0!==t2&&t2,placement=void 0===t3?constants.W.Bottom:t3,onFocus=void 0===t4?noop.l:t4,onBlur=void 0===t5?noop.l:t5,isDelayed=void 0!==t6&&t6,{leftOffset:t7,isRTL}=(0,usePopup.A)(),leftOffset=void 0===t7?0:t7,[shown,setShown]=(0,src.J0)(!1),[arrowDelta,setArrowDelta]=(0,src.J0)(0),anchorRef=(0,src.li)(null),tooltipRef=(0,src.li)(null),placementRef=(0,src.li)(placement),[dynamicPlacement,setDynamicPlacement]=(0,src.J0)(placement),isMountedRef=(0,src.li)(!1);let t8;$[14]===Symbol.for("react.memo_cache_sentinel")?(t8={},$[14]=t8):t8=$[14];const[popupState,setPopupState]=(0,src.J0)(t8),isPopupMountedRef=(0,src.li)(!1),popupRef=(0,src.li)(null),isOpen=Boolean(shown&&(shortcut||title));let t9;$[15]===Symbol.for("react.memo_cache_sentinel")?(t9={},$[15]=t9):t9=$[15];const[dynamicOffset,setDynamicOffset]=(0,src.J0)(t9);let t10,t11;$[16]!==placement?(t10=()=>({x:placement.startsWith("left")||placement.startsWith("right")?8:0,y:placement.startsWith("top")||placement.startsWith("bottom")?8:0}),t11=[placement],$[16]=placement,$[17]=t10,$[18]=t11):(t10=$[17],t11=$[18]);const spacing=(0,src.Kr)(t10,t11);let t12,t13;$[19]!==anchorRef||$[20]!==forceAnchorRef?(t12=()=>forceAnchorRef||anchorRef,$[19]=anchorRef,$[20]=forceAnchorRef,$[21]=t12):t12=$[21],$[22]!==forceAnchorRef?(t13=[forceAnchorRef],$[22]=forceAnchorRef,$[23]=t13):t13=$[23];const getAnchor=(0,src.hb)(t12,t13);let t14,t15;$[24]!==anchorRef||$[25]!==dynamicPlacement||$[26]!==getAnchor||$[27]!==isPopupMountedRef||$[28]!==isRTL||$[29]!==popupRef||$[30]!==setPopupState||$[31]!==spacing?(t14=()=>{isPopupMountedRef.current&&anchorRef?.current&&setPopupState({offset:anchorRef.current?(0,getOffset.A3)({placement:dynamicPlacement,spacing,anchor:getAnchor(),popup:popupRef,isRTL,ignoreMaxOffsetY:!0}):void 0})},$[24]=anchorRef,$[25]=dynamicPlacement,$[26]=getAnchor,$[27]=isPopupMountedRef,$[28]=isRTL,$[29]=popupRef,$[30]=setPopupState,$[31]=spacing,$[32]=t14):t14=$[32],$[33]!==dynamicPlacement||$[34]!==getAnchor||$[35]!==isRTL||$[36]!==spacing?(t15=[dynamicPlacement,spacing,getAnchor,isRTL],$[33]=dynamicPlacement,$[34]=getAnchor,$[35]=isRTL,$[36]=spacing,$[37]=t15):t15=$[37];const positionPopup=(0,src.hb)(t14,t15);let t16,t17;$[38]!==dynamicPlacement||$[39]!==isRTL||$[40]!==leftOffset||$[41]!==setDynamicOffset||$[42]!==setDynamicPlacement?(t16=(t17,t18)=>{const{offset}=t17,{left,right,height}=t18;if(!offset)return;const neededVerticalSpace=offset.y+height+8,shouldMoveToTop=dynamicPlacement.startsWith("bottom")&&neededVerticalSpace>=window.innerHeight,isOverFlowingLeft=Math.trunc(left)<(isRTL?0:leftOffset),isOverFlowingRight=isRTL&&Math.trunc(right)>offset.bodyRight-leftOffset;shouldMoveToTop?dynamicPlacement.endsWith("-start")?setDynamicPlacement(constants.W.TopStart):dynamicPlacement.endsWith("-end")?setDynamicPlacement(constants.W.TopEnd):setDynamicPlacement(constants.W.Top):isOverFlowingLeft?setDynamicOffset({x:(isRTL?0:leftOffset)-left}):isOverFlowingRight&&setDynamicOffset({x:offset.bodyRight-right-leftOffset})},$[38]=dynamicPlacement,$[39]=isRTL,$[40]=leftOffset,$[41]=setDynamicOffset,$[42]=setDynamicPlacement,$[43]=t16):t16=$[43],$[44]!==dynamicPlacement||$[45]!==isRTL||$[46]!==leftOffset?(t17=[dynamicPlacement,isRTL,leftOffset],$[44]=dynamicPlacement,$[45]=isRTL,$[46]=leftOffset,$[47]=t17):t17=$[47];const positionPlacement=(0,src.hb)(t16,t17);let t18,t19;$[48]!==getAnchor||$[49]!==popupState||$[50]!==positionPlacement||$[51]!==setArrowDelta||$[52]!==tooltipRef?(t18=()=>{const anchor=getAnchor(),anchorElBoundingBox=anchor.current?.getBoundingClientRect(),tooltipElBoundingBox=tooltipRef.current?.getBoundingClientRect();if(!tooltipElBoundingBox||!anchorElBoundingBox)return;positionPlacement(popupState,tooltipElBoundingBox);const delta=getBoundingBoxCenter(anchorElBoundingBox)-getBoundingBoxCenter(tooltipElBoundingBox);setArrowDelta(delta)},$[48]=getAnchor,$[49]=popupState,$[50]=positionPlacement,$[51]=setArrowDelta,$[52]=tooltipRef,$[53]=t18):t18=$[53],$[54]!==getAnchor||$[55]!==popupState||$[56]!==positionPlacement?(t19=[positionPlacement,popupState,getAnchor],$[54]=getAnchor,$[55]=popupState,$[56]=positionPlacement,$[57]=t19):t19=$[57];const positionArrow=(0,src.hb)(t18,t19);let t20;$[58]!==placementRef||$[59]!==setDynamicPlacement?(t20=()=>{setDynamicPlacement(placementRef.current)},$[58]=placementRef,$[59]=setDynamicPlacement,$[60]=t20):t20=$[60];const resetPlacement=(0,src.YQ)(t20,100),delayRef=(0,src.li)(null);let t21,t22;$[61]!==delayRef||$[62]!==isDelayed||$[63]!==isMountedRef||$[64]!==setShown?(t21=()=>{const handle=()=>{isMountedRef.current&&setShown(!0)};if(isDelayed){performance.now()-lastVisibleDelayedTooltip<500&&handle(),delayRef.current&&clearTimeout(delayRef.current),delayRef.current=setTimeout(handle,1e3)}else handle()},$[61]=delayRef,$[62]=isDelayed,$[63]=isMountedRef,$[64]=setShown,$[65]=t21):t21=$[65],$[66]!==isDelayed?(t22=[isDelayed],$[66]=isDelayed,$[67]=t22):t22=$[67];const onHover=(0,src.hb)(t21,t22);let t23,t24;$[68]!==delayRef||$[69]!==isDelayed||$[70]!==resetPlacement||$[71]!==setShown||$[72]!==shown?(t23=()=>{setShown(!1),resetPlacement(),isDelayed&&delayRef.current&&(clearTimeout(delayRef.current),shown&&(lastVisibleDelayedTooltip=performance.now()))},$[68]=delayRef,$[69]=isDelayed,$[70]=resetPlacement,$[71]=setShown,$[72]=shown,$[73]=t23):t23=$[73],$[74]!==isDelayed||$[75]!==resetPlacement||$[76]!==shown?(t24=[resetPlacement,isDelayed,shown],$[74]=isDelayed,$[75]=resetPlacement,$[76]=shown,$[77]=t24):t24=$[77];const onHoverOut=(0,src.hb)(t23,t24);let t25,t26,t27,t28,t29,t30,t31,t32,t33,t34,t35,t36,t37,t38,t39;return $[78]!==isMountedRef?(t25=()=>(isMountedRef.current=!0,()=>{isMountedRef.current=!1}),$[78]=isMountedRef,$[79]=t25):t25=$[79],$[80]===Symbol.for("react.memo_cache_sentinel")?(t26=[],$[80]=t26):t26=$[80],(0,src.vJ)(t25,t26),$[81]!==isPopupMountedRef?(t27=()=>(isPopupMountedRef.current=!0,()=>{isPopupMountedRef.current=!1}),$[81]=isPopupMountedRef,$[82]=t27):t27=$[82],$[83]===Symbol.for("react.memo_cache_sentinel")?(t28=[],$[83]=t28):t28=$[83],(0,src.vJ)(t27,t28),$[84]!==isOpen||$[85]!==isPopupMountedRef||$[86]!==positionPopup?(t29=()=>{if(isOpen)return isPopupMountedRef.current=!0,positionPopup(),document.addEventListener("scroll",positionPopup,!0),()=>{document.removeEventListener("scroll",positionPopup,!0),isPopupMountedRef.current=!1}},$[84]=isOpen,$[85]=isPopupMountedRef,$[86]=positionPopup,$[87]=t29):t29=$[87],$[88]!==isOpen||$[89]!==positionPopup?(t30=[isOpen,positionPopup],$[88]=isOpen,$[89]=positionPopup,$[90]=t30):t30=$[90],(0,src.Nf)(t29,t30),$[91]!==isPopupMountedRef||$[92]!==positionArrow?(t31=()=>{isPopupMountedRef.current&&positionArrow()},$[91]=isPopupMountedRef,$[92]=positionArrow,$[93]=t31):t31=$[93],$[94]!==positionArrow?(t32=[positionArrow],$[94]=positionArrow,$[95]=t32):t32=$[95],(0,src.Nf)(t31,t32),$[96]===Symbol.for("react.memo_cache_sentinel")?(t33={current:document.body},$[96]=t33):t33=$[96],$[97]!==positionPopup?(t34=[positionPopup],$[97]=positionPopup,$[98]=t34):t34=$[98],(0,src.pO)(t33,positionPopup,t34),$[99]!==onFocus||$[100]!==setShown?(t35=e=>{setShown(!0),onFocus(e)},$[99]=onFocus,$[100]=setShown,$[101]=t35):t35=$[101],$[102]!==onBlur||$[103]!==resetPlacement||$[104]!==setShown?(t36=e_0=>{setShown(!1),onBlur(e_0),resetPlacement()},$[102]=onBlur,$[103]=resetPlacement,$[104]=setShown,$[105]=t36):t36=$[105],$[106]!==anchorRef||$[107]!==children||$[108]!==onHover||$[109]!==onHoverOut||$[110]!==props||$[111]!==t35||$[112]!==t36?(t37=react.createElement(Wrapper,_extends({onPointerEnter:onHover,onPointerLeave:onHoverOut,onFocus:t35,onBlur:t36,ref:anchorRef},props),children),$[106]=anchorRef,$[107]=children,$[108]=onHover,$[109]=onHoverOut,$[110]=props,$[111]=t35,$[112]=t36,$[113]=t37):t37=$[113],$[114]!==arrowDelta||$[115]!==className||$[116]!==dynamicOffset||$[117]!==dynamicPlacement||$[118]!==hasTail||$[119]!==isOpen||$[120]!==isRTL||$[121]!==popupRef||$[122]!==popupState||$[123]!==popupZIndexOverride||$[124]!==shortcut||$[125]!==shown||$[126]!==styleOverride||$[127]!==title||$[128]!==tooltipRef?(t38=popupState?.offset&&isOpen?(0,src.d5)(react.createElement(constants.yK,{ref:popupRef,$offset:dynamicOffset?{...popupState.offset,x:(popupState.offset?.x||0)+(dynamicOffset?.x||0)}:popupState.offset,noOverFlow:!0,zIndex:popupZIndexOverride||2,transforms:(0,getTransforms.s0)(dynamicPlacement,isRTL)},react.createElement(TooltipContainer,{className,ref:tooltipRef,shown,zIndex:popupZIndexOverride||2,styleOverride},react.createElement(TooltipText,{size:types.$.XSmall},shortcut?`${title} (${(0,utils.KV)(shortcut)})`:title),hasTail&&react.createElement(react.Fragment,null,react.createElement(SvgForTail,null,react.createElement("clipPath",{id:"tooltip-tail",clipPathUnits:"objectBoundingBox"},react.createElement("path",{d:"M1,1 L0.868,1 C0.792,1,0.72,0.853,0.676,0.606 L0.585,0.098 C0.562,-0.033,0.513,-0.033,0.489,0.098 L0.399,0.606 C0.355,0.853,0.283,1,0.207,1 L0,1 L1,1"}))),react.createElement(Tail,{placement:dynamicPlacement,translateX:-(dynamicOffset?.x||0)||arrowDelta,isRTL})))),document.body):null,$[114]=arrowDelta,$[115]=className,$[116]=dynamicOffset,$[117]=dynamicPlacement,$[118]=hasTail,$[119]=isOpen,$[120]=isRTL,$[121]=popupRef,$[122]=popupState,$[123]=popupZIndexOverride,$[124]=shortcut,$[125]=shown,$[126]=styleOverride,$[127]=title,$[128]=tooltipRef,$[129]=t38):t38=$[129],$[130]!==t37||$[131]!==t38?(t39=react.createElement(react.Fragment,null,t37,t38),$[130]=t37,$[131]=t38,$[132]=t39):t39=$[132],t39}const tooltip=Tooltip;Tooltip.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{title:{required:!0,tsType:{name:"string"},description:""},shortcut:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},hasTail:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},placement:{required:!1,tsType:{name:"Placement"},description:"",defaultValue:{value:"Placement.Bottom",computed:!0}},isDelayed:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},forceAnchorRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"HTMLElement"}],raw:"RefObject<HTMLElement>"},description:""},popupZIndexOverride:{required:!1,tsType:{name:"number"},description:""},styleOverride:{required:!1,tsType:{name:"Interpolation",elements:[{name:"ThemedStyledProps",elements:[{name:"object"},{name:"theme"}],raw:"ThemedStyledProps<object, Theme>"}],raw:"Interpolation<ThemedStyledProps<object, Theme>>"},description:""},onFocus:{defaultValue:{value:"() => undefined",computed:!1},required:!1},onBlur:{defaultValue:{value:"() => undefined",computed:!1},required:!1}},composes:["ComponentPropsWithoutRef"]}}}]);