"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[5967],{"./packages/design-system/src/components/contextMenu/components/icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_visuallyHidden__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/visuallyHidden.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const IconWrapper=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"icon__IconWrapper",componentId:"sc-c43rae-0"})(["width:32px;height:32px;display:flex;align-items:center;justify-content:center;> *{flex:1;}"]);const __WEBPACK_DEFAULT_EXPORT__=function Icon(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(14);let children,props,t1,title;$[0]!==t0?(({children,title,className:t1,...props}=t0),$[0]=t0,$[1]=children,$[2]=props,$[3]=t1,$[4]=title):(children=$[1],props=$[2],t1=$[3],title=$[4]);const className=void 0===t1?"":t1;let t2,t3,t4;return $[5]!==title?(t2=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_visuallyHidden__WEBPACK_IMPORTED_MODULE_3__.s,null,title),$[5]=title,$[6]=t2):t2=$[6],$[7]!==children||$[8]!==className||$[9]!==props?(t3=react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconWrapper,_extends({className},props),children),$[7]=children,$[8]=className,$[9]=props,$[10]=t3):t3=$[10],$[11]!==t2||$[12]!==t3?(t4=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,t2,t3),$[11]=t2,$[12]=t3,$[13]=t4):t4=$[13],t4}},"./packages/design-system/src/components/contextMenu/components/item.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>item});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),src=__webpack_require__("./packages/react/src/index.ts"),components_button=__webpack_require__("./packages/design-system/src/components/contextMenu/components/button.tsx"),components_shortcut=__webpack_require__("./packages/design-system/src/components/contextMenu/components/shortcut.ts");const suffix=styled_components_browser_esm.Ay.div.withConfig({displayName:"suffix__Suffix",componentId:"sc-xb7uiq-0"})(["position:relative;svg{width:32px;color:",";position:absolute;right:-14px;top:-16px;}"],(({theme})=>theme.colors.fg.secondary));function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const StyledButton=(0,styled_components_browser_esm.Ay)(components_button.A).withConfig({displayName:"item__StyledButton",componentId:"sc-1w2myxt-0"})(["",""],(({supportsIcon})=>supportsIcon&&"\n    svg {\n      width: 32px;\n      position: absolute;\n      margin-left: -12px;\n    }\n    span {\n      padding-left: 18px;\n      font-size: 12px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  ")),item=(0,src.Rf)((function MenuItem(t0,ref){const $=(0,dist.c)(19);let SuffixIcon,buttonProps,className,icon,label,shortcut,t1,t2,t3;return $[0]!==t0?(({label,shortcut,icon,SuffixIcon,className,...buttonProps}=t0),$[0]=t0,$[1]=SuffixIcon,$[2]=buttonProps,$[3]=className,$[4]=icon,$[5]=label,$[6]=shortcut):(SuffixIcon=$[1],buttonProps=$[2],className=$[3],icon=$[4],label=$[5],shortcut=$[6]),$[7]!==shortcut?(t1=shortcut&&react.createElement(components_shortcut.A,null,shortcut.display),$[7]=shortcut,$[8]=t1):t1=$[8],$[9]!==SuffixIcon?(t2=SuffixIcon&&react.createElement(suffix,null,react.createElement(SuffixIcon,null)),$[9]=SuffixIcon,$[10]=t2):t2=$[10],$[11]!==buttonProps||$[12]!==className||$[13]!==icon||$[14]!==label||$[15]!==ref||$[16]!==t1||$[17]!==t2?(t3=react.createElement(StyledButton,_extends({className,ref},buttonProps),icon,label,t1,t2),$[11]=buttonProps,$[12]=className,$[13]=icon,$[14]=label,$[15]=ref,$[16]=t1,$[17]=t2,$[18]=t3):t3=$[18],t3}))},"./packages/design-system/src/components/contextMenu/components/shortcut.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_typography_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts");const __WEBPACK_DEFAULT_EXPORT__=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_typography_text__WEBPACK_IMPORTED_MODULE_1__.E.Kbd).attrs({size:_theme__WEBPACK_IMPORTED_MODULE_2__.$.XSmall}).withConfig({displayName:"shortcut__Shortcut",componentId:"sc-1ru49ss-0"})(["color:",";"],(({theme})=>theme.colors.fg.secondary))},"./packages/design-system/src/components/visuallyHidden.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>VisuallyHidden});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/theme/helpers/visuallyHidden.ts");const VisuallyHidden=styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay.span.withConfig({displayName:"visuallyHidden__VisuallyHidden",componentId:"sc-35d3te-0"})(["",";"],_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.Q)},"./packages/story-editor/src/app/media/utils/useVideoElementTranscoding.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_components_videoTrim_useVideoTrim__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/story-editor/src/components/videoTrim/useVideoTrim.js"),___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/app/index.js"),_useFFmpeg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/app/media/utils/useFFmpeg.ts");function _temp2(t0){const{state:t1,actions:t2}=t0,{hasTrimMode}=t1,{toggleTrimMode}=t2;return{hasTrimMode,toggleTrimMode}}function _temp(t0){const{state:t1,actions:t2}=t0,{canTranscodeResource,isNewResourceMuting,isElementTrimming}=t1,{muteExistingVideo}=t2;return{canTranscodeResource,isNewResourceMuting,isElementTrimming,muteExistingVideo}}const __WEBPACK_DEFAULT_EXPORT__=function useVideoElementTranscoding(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(30),{resource,elementId,isSingleElement:t1}=t0,isSingleElement=void 0===t1||t1,{isTranscodingEnabled}=(0,_useFFmpeg__WEBPACK_IMPORTED_MODULE_4__.A)(),{muteExistingVideo:muteExistingVideo_0,isElementTrimming:isElementTrimming_0,isNewResourceMuting:isNewResourceMuting_0,canTranscodeResource:canTranscodeResource_0}=(0,___WEBPACK_IMPORTED_MODULE_3__.HZ)(_temp),{isMuted,id:t2}=resource,resourceId=void 0===t2?0:t2;let t3;$[0]!==elementId||$[1]!==isElementTrimming_0||$[2]!==isSingleElement?(t3=!!isSingleElement&&isElementTrimming_0(elementId),$[0]=elementId,$[1]=isElementTrimming_0,$[2]=isSingleElement,$[3]=t3):t3=$[3];const isTrimming=t3;let t4;$[4]!==isNewResourceMuting_0||$[5]!==resourceId?(t4=isNewResourceMuting_0(resourceId),$[4]=isNewResourceMuting_0,$[5]=resourceId,$[6]=t4):t4=$[6];const isMuting=t4;let t5,t6;$[7]!==muteExistingVideo_0||$[8]!==resource?(t5=()=>{muteExistingVideo_0({resource})},t6=[resource,muteExistingVideo_0],$[7]=muteExistingVideo_0,$[8]=resource,$[9]=t5,$[10]=t6):(t5=$[9],t6=$[10]);const handleMute=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)(t5,t6),shouldDisableVideoActions=!canTranscodeResource_0(resource);let t7;$[11]!==canTranscodeResource_0||$[12]!==isMuted||$[13]!==isMuting||$[14]!==isSingleElement||$[15]!==isTranscodingEnabled||$[16]!==resource?(t7=isTranscodingEnabled&&isSingleElement&&(!isMuted&&canTranscodeResource_0(resource)||isMuting),$[11]=canTranscodeResource_0,$[12]=isMuted,$[13]=isMuting,$[14]=isSingleElement,$[15]=isTranscodingEnabled,$[16]=resource,$[17]=t7):t7=$[17];const canMute=t7,{hasTrimMode:hasTrimMode_0,toggleTrimMode:toggleTrimMode_0}=(0,_components_videoTrim_useVideoTrim__WEBPACK_IMPORTED_MODULE_2__.A)(_temp2);let t8,t9,t10;return $[18]!==canMute||$[19]!==hasTrimMode_0||$[20]!==isMuting||$[21]!==isTrimming||$[22]!==shouldDisableVideoActions?(t8={canTrim:hasTrimMode_0,canMute,isTrimming,isMuting,isDisabled:shouldDisableVideoActions},$[18]=canMute,$[19]=hasTrimMode_0,$[20]=isMuting,$[21]=isTrimming,$[22]=shouldDisableVideoActions,$[23]=t8):t8=$[23],$[24]!==handleMute||$[25]!==toggleTrimMode_0?(t9={handleMute,handleTrim:toggleTrimMode_0},$[24]=handleMute,$[25]=toggleTrimMode_0,$[26]=t9):t9=$[26],$[27]!==t8||$[28]!==t9?(t10={state:t8,actions:t9},$[27]=t8,$[28]=t9,$[29]=t10):t10=$[29],t10}},"./packages/story-editor/src/components/canvas/editLayerFocusManager/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{wn:()=>constants,Ay:()=>provider,in:()=>editLayerFocusManager_useEditLayerFocusManager,ec:()=>editLayerFocusManager_useFocusGroupRef});var react=__webpack_require__("./node_modules/react/index.js"),src=__webpack_require__("./packages/react/src/index.ts");const context=(0,src.q6)(null),INITIAL_STATE={cleanup:null,focusGroups:{},cleanupCallbacks:{}},reduction={addNodeToGroup:(state,action)=>{const{groupId,nodeTuple}=action.payload,nodeGroup=state.focusGroups[groupId]||[];let newNodeGroup=[];const index=nodeGroup.findIndex((_nodeTuple=>_nodeTuple[0]===nodeTuple[0]));return newNodeGroup=-1===index?[...nodeGroup,nodeTuple]:[...nodeGroup.slice(0,index),nodeTuple,...nodeGroup.slice(0,index+1)],{...state,focusGroups:{...state.focusGroups,[groupId]:newNodeGroup}}},removeNodeFromGroup:(state,action)=>{const{groupId,nodeTuple}=action.payload,newNodeGroup=(state.focusGroups[groupId]||[]).filter((_nodeTuple=>_nodeTuple[0]!==nodeTuple[0]));return{...state,focusGroups:{...state.focusGroups,[groupId]:newNodeGroup}}},setFocusGroupCleanup:(state,action)=>{const{groupId,cleanup}=action.payload;return{...state,activeGroupKey:groupId,cleanupCallbacks:{...state.cleanupCallbacks,[groupId]:cleanup}}}};var dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);function KeyBindings(t0){const $=(0,dist.c)(13),{uuid,node,focusGroup,exitFocusGroup}=t0;let t1,t2;$[0]!==focusGroup||$[1]!==uuid?(t1=e=>{e.preventDefault();const navigateFocusGroup=function createNavigateFocusGroup(uuid,focusGroup){return function navigateFocusGroup(step){if(!focusGroup)return;const currentIndex=focusGroup.findIndex((nodeTuple=>nodeTuple[0]===uuid));if(-1===currentIndex)return;const nextIndex=function wrapIndex(i,length){return(i%length+length)%length}(currentIndex+step,focusGroup.length),[,node]=focusGroup[nextIndex];node?.focus()}}(uuid,focusGroup);e.shiftKey?navigateFocusGroup(-1):navigateFocusGroup(1)},t2=[focusGroup,uuid],$[0]=focusGroup,$[1]=uuid,$[2]=t1,$[3]=t2):(t1=$[2],t2=$[3]);const traverseFocusGroup=(0,src.hb)(t1,t2);let t3,t4;$[4]!==exitFocusGroup?(t3=e_0=>{e_0.preventDefault(),exitFocusGroup?.()},t4=[exitFocusGroup],$[4]=exitFocusGroup,$[5]=t3,$[6]=t4):(t3=$[5],t4=$[6]);const handleEsc=(0,src.hb)(t3,t4);let t5,t6,t7,t8;return $[7]===Symbol.for("react.memo_cache_sentinel")?(t5={key:["tab"],allowDefault:!0,editable:!0,shift:!0},$[7]=t5):t5=$[7],$[8]!==traverseFocusGroup?(t6=[traverseFocusGroup],$[8]=traverseFocusGroup,$[9]=t6):t6=$[9],(0,keyboard._h)(node,t5,traverseFocusGroup,t6),$[10]===Symbol.for("react.memo_cache_sentinel")?(t7={key:["esc"],allowDefault:!0,editable:!0},$[10]=t7):t7=$[10],$[11]!==handleEsc?(t8=[handleEsc],$[11]=handleEsc,$[12]=t8):t8=$[12],(0,keyboard._h)(node,t7,handleEsc,t8),null}KeyBindings.propTypes={uuid:prop_types_default().string.isRequired,node:"undefined"!=typeof Element?prop_types_default().instanceOf(Element).isRequired:prop_types_default().any.isRequired,focusGroup:prop_types_default().array.isRequired,exitFocusGroup:prop_types_default().func};const keyBindings=KeyBindings;const provider=function EditLayerFocusManager({children}){const[state,actions]=(0,src.Fm)(INITIAL_STATE,reduction),stateRef=(0,src.li)(state);stateRef.current=state;const enterFocusGroup=(0,src.hb)((({groupId})=>{const nodeTuple=stateRef.current.focusGroups?.[groupId]?.[0];if(nodeTuple){const[,node]=nodeTuple;node.focus()}}),[stateRef]),focusGroups=Object.entries(state.focusGroups),focusGroupCleanupCallbacks=state.cleanupCallbacks;return react.createElement(context.Provider,{value:{enterFocusGroup,setFocusGroupCleanup:actions.setFocusGroupCleanup,actions}},focusGroups.map((([groupId_0,focusGroup])=>focusGroup.map((([uuid,node_0])=>node_0&&react.createElement(keyBindings,{key:uuid,uuid,node:node_0,focusGroup,exitFocusGroup:focusGroupCleanupCallbacks[groupId_0]}))))),children)};var v4=__webpack_require__("./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js");function _temp(value){return value.actions}const editLayerFocusManager_useFocusGroupRef=function useFocusGroupRef(groupId){const $=(0,dist.c)(5),actions=(0,src.i7)(context,_temp),uuid=(0,src.FF)(v4.A);let t0,t1;return $[0]!==actions||$[1]!==groupId||$[2]!==uuid?(t0=node=>{null!==node?actions.addNodeToGroup({groupId,nodeTuple:[uuid,node]}):actions.removeNodeFromGroup({groupId,nodeTuple:[uuid,node]})},t1=[actions,groupId,uuid],$[0]=actions,$[1]=groupId,$[2]=uuid,$[3]=t0,$[4]=t1):(t0=$[3],t1=$[4]),(0,src.hb)(t0,t1)};const editLayerFocusManager_useEditLayerFocusManager=function useEditLayerFocusManager(selector){return(0,src.i7)(context,selector??src.D_)},constants={EDIT_ELEMENT:"EDIT_ELEMENT",ELEMENT_SELECTION:"ELEMENT_SELECTION"}},"./packages/story-editor/src/components/floatingMenu/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$7:()=>SELECTED_ELEMENT_TYPES,Vd:()=>TOOLBAR_POSITIONS,iN:()=>hasDesignMenu});var _googleforcreators_elements__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/elements/src/index.ts");const SELECTED_ELEMENT_TYPES={..._googleforcreators_elements__WEBPACK_IMPORTED_MODULE_0__.bV,MULTIPLE:"multiple",NONE:"none"},TOOLBAR_POSITIONS={ELEMENT:"FIXED_TO_ELEMENT",TOP:"FIXED_TO_TOP"};function hasDesignMenu(type){switch(type){case SELECTED_ELEMENT_TYPES.MULTIPLE:return!0;case SELECTED_ELEMENT_TYPES.NONE:return!1;default:return(0,_googleforcreators_elements__WEBPACK_IMPORTED_MODULE_0__.zh)(type)?.hasDesignMenu}}},"./packages/story-editor/src/components/floatingMenu/menu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>menu});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),useLiveRegion=__webpack_require__("./packages/design-system/src/utils/useLiveRegion.ts"),contextMenu=__webpack_require__("./packages/design-system/src/components/contextMenu/contextMenu.tsx"),zIndex=__webpack_require__("./packages/story-editor/src/constants/zIndex.ts"),editLayerFocusManager=__webpack_require__("./packages/story-editor/src/components/canvas/editLayerFocusManager/index.js");const context=(0,src.q6)({state:{},actions:{}});const use=function useFloatingMenu(selector){return(0,src.i7)(context,selector??src.D_)};function FloatingMenuProvider(t0){const $=(0,dist.c)(6),{handleDismiss,children}=t0;let t1,t2;$[0]===Symbol.for("react.memo_cache_sentinel")?(t1={},$[0]=t1):t1=$[0],$[1]!==handleDismiss?(t2={state:t1,actions:{handleDismiss}},$[1]=handleDismiss,$[2]=t2):t2=$[2];const value=t2;let t3;return $[3]!==children||$[4]!==value?(t3=react.createElement(context.Provider,{value},children),$[3]=children,$[4]=value,$[5]=t3):t3=$[5],t3}FloatingMenuProvider.propTypes={children:prop_types_default().node,handleDismiss:prop_types_default().func.isRequired};const provider=FloatingMenuProvider;var constants=__webpack_require__("./packages/story-editor/src/components/floatingMenu/constants.js"),border_box=__webpack_require__("./packages/design-system/src/icons/border_box.svg"),tracking_src=__webpack_require__("./packages/tracking/src/index.ts"),masks_src=__webpack_require__("./packages/masks/src/index.ts"),app=__webpack_require__("./packages/story-editor/src/app/index.js"),shared=__webpack_require__("./packages/story-editor/src/components/panels/design/border/shared.js"),popup_constants=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),color=__webpack_require__("./packages/story-editor/src/components/form/color/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function FloatingColor(props){const $=(0,dist.c)(9),{hasInputs,hasEyedropper,allowsGradient:t0}=props,allowsGradient=void 0===t0||t0;let t1;$[0]!==hasEyedropper||$[1]!==hasInputs?(t1=function getWidth(hasInputs,hasEyedropper){return(hasInputs?184:60)+(hasEyedropper?38:0)}(hasInputs,hasEyedropper),$[0]=hasEyedropper,$[1]=hasInputs,$[2]=t1):t1=$[2];const width=t1,t2=!hasEyedropper;let t3,t4;return $[3]===Symbol.for("react.memo_cache_sentinel")?(t3=(0,i18n.__)("Color input (floating menu)","web-stories"),$[3]=t3):t3=$[3],$[4]!==allowsGradient||$[5]!==props||$[6]!==t2||$[7]!==width?(t4=react.createElement(color.A,_extends({width,maxHeight:362,pickerPlacement:popup_constants.W.TopStart,isInDesignMenu:!0,allowsGradient,allowsSavedColors:!0,allowsSavedColorDeletion:!1,pickerHasEyedropper:t2,containerLabelBase:t3},props)),$[4]=allowsGradient,$[5]=props,$[6]=t2,$[7]=width,$[8]=t4):t4=$[8],t4}FloatingColor.propTypes={hasInputs:prop_types_default().bool,hasEyedropper:prop_types_default().bool,allowsGradient:prop_types_default().bool};const shared_color=FloatingColor;var focusTrapButton=__webpack_require__("./packages/story-editor/src/components/floatingMenu/elements/shared/focusTrapButton.js"),icon=__webpack_require__("./packages/design-system/src/components/contextMenu/components/icon.tsx"),components_tooltip=__webpack_require__("./packages/story-editor/src/components/tooltip/index.js"),button_constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),components_button=__webpack_require__("./packages/design-system/src/components/contextMenu/components/button.tsx");function toggleButton_extends(){return toggleButton_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},toggleButton_extends.apply(null,arguments)}const ToggleButton=(0,src.Rf)((function ToggleButton(t0,ref){const $=(0,dist.c)(11);let children,isToggled,rest,t1;$[0]!==t0?(({isToggled,children,...rest}=t0),$[0]=t0,$[1]=children,$[2]=isToggled,$[3]=rest):(children=$[1],isToggled=$[2],rest=$[3]),$[4]!==isToggled?(t1="boolean"==typeof isToggled?{type:isToggled?button_constants.VQ.Secondary:button_constants.VQ.Tertiary,"aria-pressed":isToggled,role:"button"}:{},$[4]=isToggled,$[5]=t1):t1=$[5];const toggleProps=t1;let t2;return $[6]!==children||$[7]!==ref||$[8]!==rest||$[9]!==toggleProps?(t2=react.createElement(components_button.A,toggleButton_extends({ref},toggleProps,rest),children),$[6]=children,$[7]=ref,$[8]=rest,$[9]=toggleProps,$[10]=t2):t2=$[10],t2}));ToggleButton.propTypes={isToggled:prop_types_default().bool,children:prop_types_default().node};const toggleButton=ToggleButton;function icon_extends(){return icon_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},icon_extends.apply(null,arguments)}const IconButton=(0,src.ph)((0,src.Rf)((function IconButton(t0,ref){const $=(0,dist.c)(18);let Icon,rest,t1,title;$[0]!==t0?(({Icon,title,hasTooltip:t1,...rest}=t0),$[0]=t0,$[1]=Icon,$[2]=rest,$[3]=t1,$[4]=title):(Icon=$[1],rest=$[2],t1=$[3],title=$[4]);const t2=void 0===t1||t1?title:void 0;let t3,t4,t5,t6;return $[5]!==Icon?(t3=react.createElement(Icon,null),$[5]=Icon,$[6]=t3):t3=$[6],$[7]!==t3||$[8]!==title?(t4=react.createElement(icon.A,{title},t3),$[7]=t3,$[8]=title,$[9]=t4):t4=$[9],$[10]!==ref||$[11]!==rest||$[12]!==t4||$[13]!==title?(t5=react.createElement(toggleButton,icon_extends({"aria-label":title,ref,tabIndex:-1},rest),t4),$[10]=ref,$[11]=rest,$[12]=t4,$[13]=title,$[14]=t5):t5=$[14],$[15]!==t2||$[16]!==t5?(t6=react.createElement(components_tooltip.A,{placement:popup_constants.W.Bottom,title:t2},t5),$[15]=t2,$[16]=t5,$[17]=t6):t6=$[17],t6})));IconButton.propTypes={Icon:prop_types_default().object.isRequired,onClick:prop_types_default().func.isRequired,hasTooltip:prop_types_default().bool,title:prop_types_default().string};const shared_icon=IconButton;var numericInput=__webpack_require__("./packages/design-system/src/components/input/numericInput.tsx"),contextMenu_constants=__webpack_require__("./packages/design-system/src/components/contextMenu/constants.ts");const input=(0,styled_components_browser_esm.Ay)(numericInput.A).attrs({inputClassName:contextMenu_constants.D}).withConfig({displayName:"input__Input",componentId:"sc-79zl03-0"})(["width:70px;flex:0 0 70px;"]);const shared_separator=__webpack_require__("./packages/design-system/src/components/contextMenu/components/separator.tsx").A;function text_extends(){return text_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},text_extends.apply(null,arguments)}const Button=(0,styled_components_browser_esm.Ay)(components_button.A).withConfig({displayName:"text__Button",componentId:"sc-fb6dx4-0"})(["font-size:14px;padding:0 12px;font-weight:normal;letter-spacing:normal;"]),TextButton=(0,src.ph)((function TextButton(t0){const $=(0,dist.c)(6);let rest,text,t1;return $[0]!==t0?(({text,...rest}=t0),$[0]=t0,$[1]=rest,$[2]=text):(rest=$[1],text=$[2]),$[3]!==rest||$[4]!==text?(t1=react.createElement(Button,text_extends({forcePadding:!0},rest,{tabIndex:-1}),text),$[3]=rest,$[4]=text,$[5]=t1):t1=$[5],t1}));TextButton.propTypes={text:prop_types_default().string.isRequired,onClick:prop_types_default().func.isRequired};const shared_text=TextButton;var story=__webpack_require__("./packages/story-editor/src/app/story/index.ts"),objectPick=__webpack_require__("./packages/story-editor/src/utils/objectPick.ts");const shared_useProperties=function useProperties(propertyList){const $=(0,dist.c)(2);let t0;return $[0]!==propertyList?(t0=t1=>{const{state:t2}=t1,{selectedElements}=t2;return(0,objectPick.A)(selectedElements[0],propertyList)},$[0]=propertyList,$[1]=t0):t0=$[1],(0,story.P3)(t0)};var useRichTextFormatting=__webpack_require__("./packages/story-editor/src/components/panels/design/textStyle/useRichTextFormatting.js"),updateProperties=__webpack_require__("./packages/story-editor/src/components/style/updateProperties.js"),getUpdatedSizeAndPosition=__webpack_require__("./packages/story-editor/src/utils/getUpdatedSizeAndPosition.js");function _temp(t0){const{state,actions}=t0;return{selectedElementIds:state.selectedElementIds,updateElementsById:actions.updateElementsById}}const shared_useTextToggle=function useTextToggle(t0){const $=(0,dist.c)(16),{currentValue,handler,eventName}=t0;let t1;$[0]===Symbol.for("react.memo_cache_sentinel")?(t1=["content"],$[0]=t1):t1=$[0];const{content}=shared_useProperties(t1),{selectedElementIds,updateElementsById}=(0,app.P3)(_temp);let t2,t3;$[1]!==eventName||$[2]!==selectedElementIds||$[3]!==updateElementsById?(t2=update=>{(0,tracking_src.sx)("floating_menu",{name:eventName,element:"text"}),updateElementsById({elementIds:selectedElementIds,properties:element=>{const updates=(0,updateProperties.A)(element,update,!0),sizeUpdates=(0,getUpdatedSizeAndPosition.A)({...element,...updates});return{...updates,...sizeUpdates}}})},t3=[updateElementsById,selectedElementIds,eventName],$[1]=eventName,$[2]=selectedElementIds,$[3]=updateElementsById,$[4]=t2,$[5]=t3):(t2=$[4],t3=$[5]);const pushUpdate=(0,src.hb)(t2,t3);let t4;$[6]!==content?(t4=[{content,type:"text"}],$[6]=content,$[7]=t4):t4=$[7];const{textInfo,handlers}=(0,useRichTextFormatting.A)(t4,pushUpdate);let t5;$[8]!==currentValue||$[9]!==handler||$[10]!==handlers||$[11]!==textInfo?(t5=()=>{(0,handlers[handler])(!textInfo[currentValue])},$[8]=currentValue,$[9]=handler,$[10]=handlers,$[11]=textInfo,$[12]=t5):t5=$[12];const toggle=t5,t6=textInfo[currentValue];let t7;return $[13]!==t6||$[14]!==toggle?(t7={isToggled:t6,toggle},$[13]=t6,$[14]=toggle,$[15]=t7):t7=$[15],t7},Container=styled_components_browser_esm.Ay.div.withConfig({displayName:"borderWidthAndColor__Container",componentId:"sc-1qijom4-0"})(["display:flex;align-items:center;"]),Dash=styled_components_browser_esm.Ay.div.withConfig({displayName:"borderWidthAndColor__Dash",componentId:"sc-1qijom4-1"})(["width:8px;height:1px;background-color:",";"],(({theme})=>theme.colors.border.defaultNormal));const BLACK={color:{r:0,g:0,b:0}},WIDTH_LABEL=(0,i18n.__)("Border width","web-stories"),COLOR_LABEL=(0,i18n.__)("Border color","web-stories");const borderWidthAndColor=function BorderWidthAndColor(){const inputRef=(0,src.li)(),buttonRef=(0,src.li)(),{border=shared.$,mask,type}=shared_useProperties(["border","mask","type"]),{selectedElementIds,updateElementsById}=(0,app.P3)((({state,actions})=>({selectedElementIds:state.selectedElementIds,updateElementsById:actions.updateElementsById}))),hasUniformBorder=border?.left===border?.right&&border?.left===border?.top&&border?.left===border?.bottom;if(!border?.lockedWidth&&!hasUniformBorder)return null;const canHaveBorderOpacity=(0,masks_src.Fn)({mask}),hasBorderWidth=function getHasBorderWidth(border){if(!border)return!1;const{left,right,top,bottom}=border;return Boolean(left||right||top||bottom)}(border);return react.createElement(Container,null,react.createElement(focusTrapButton.A,{ref:buttonRef,inputRef,inputLabel:WIDTH_LABEL},react.createElement(input,{tabIndex:-1,ref:inputRef,suffix:react.createElement(border_box.A,null),value:border?.left||0,"aria-label":WIDTH_LABEL,onChange:(_,value_1)=>{return value=value_1,(0,tracking_src.sx)("floating_menu",{name:"set_border_width",element:type}),void updateElementsById({elementIds:selectedElementIds,properties:({border:oldBorder})=>({border:{locked:!0,color:border?.color,...oldBorder,left:value,right:value,top:value,bottom:value}})});var value},onKeyDown:e=>{(0,focusTrapButton.t)(e,buttonRef)}})),hasBorderWidth&&react.createElement(react.Fragment,null,react.createElement(Dash,null),react.createElement(shared_color,{tabIndex:-1,label:COLOR_LABEL,value:border?.color||BLACK,onChange:value_0=>{(0,tracking_src.sx)("floating_menu",{name:"set_border_color",element:type}),updateElementsById({elementIds:selectedElementIds,properties:({border:oldBorder_0})=>({border:{...oldBorder_0,color:value_0}})})},hasInputs:!1,hasEyedropper:!1,allowsOpacity:canHaveBorderOpacity,allowsGradient:!1,allowsSavedColors:!1})))};var corner=__webpack_require__("./packages/design-system/src/icons/corner.svg"),radius=__webpack_require__("./packages/story-editor/src/components/panels/design/sizePosition/radius.js");const CORNER_LABEL=(0,i18n.__)("Corner Radius","web-stories");function borderRadius_temp(t0){const{state,actions}=t0;return{selectedElementIds:state.selectedElementIds,updateElementsById:actions.updateElementsById}}const borderRadius=function BorderRadius(){const $=(0,dist.c)(20),inputRef=(0,src.li)(),buttonRef=(0,src.li)();let t0;$[0]===Symbol.for("react.memo_cache_sentinel")?(t0=["borderRadius","mask","type"],$[0]=t0):t0=$[0];const{borderRadius:t1,mask,type}=shared_useProperties(t0),borderRadius=void 0===t1?radius.w:t1,{selectedElementIds,updateElementsById}=(0,app.P3)(borderRadius_temp),canHaveBorderRadius=(0,masks_src.Fn)({mask}),hasUniformBorder=borderRadius.topLeft===borderRadius.topRight&&borderRadius.topLeft===borderRadius.bottomLeft&&borderRadius.topLeft===borderRadius.bottomRight;if(!canHaveBorderRadius||!borderRadius.locked&&!hasUniformBorder)return null;let t2;$[1]!==selectedElementIds||$[2]!==type||$[3]!==updateElementsById?(t2=value=>{(0,tracking_src.sx)("floating_menu",{name:"set_border_radius",element:type}),updateElementsById({elementIds:selectedElementIds,properties:{borderRadius:{locked:!0,topLeft:value,topRight:value,bottomRight:value,bottomLeft:value}}})},$[1]=selectedElementIds,$[2]=type,$[3]=updateElementsById,$[4]=t2):t2=$[4];const onChange=t2;let t3,t4,t5,t6,t7,t8;return $[5]===Symbol.for("react.memo_cache_sentinel")?(t3=react.createElement(corner.A,null),$[5]=t3):t3=$[5],$[6]!==onChange?(t4=(_,value_0)=>onChange(value_0),$[6]=onChange,$[7]=t4):t4=$[7],$[8]!==buttonRef?(t5=e=>{(0,focusTrapButton.t)(e,buttonRef)},$[8]=buttonRef,$[9]=t5):t5=$[9],$[10]!==borderRadius.topLeft||$[11]!==inputRef||$[12]!==t4||$[13]!==t5?(t6=react.createElement(input,{tabIndex:-1,ref:inputRef,suffix:t3,value:borderRadius.topLeft,"aria-label":CORNER_LABEL,onChange:t4,onKeyDown:t5}),$[10]=borderRadius.topLeft,$[11]=inputRef,$[12]=t4,$[13]=t5,$[14]=t6):t6=$[14],$[15]===Symbol.for("react.memo_cache_sentinel")?(t7=react.createElement(shared_separator,null),$[15]=t7):t7=$[15],$[16]!==buttonRef||$[17]!==inputRef||$[18]!==t6?(t8=react.createElement(focusTrapButton.A,{ref:buttonRef,inputRef,inputLabel:CORNER_LABEL},t6,t7),$[16]=buttonRef,$[17]=inputRef,$[18]=t6,$[19]=t8):t8=$[19],t8};var cross=__webpack_require__("./packages/design-system/src/icons/cross.svg");function Dismiss(t0){const $=(0,dist.c)(8),{isMultiple}=t0;let t1;$[0]===Symbol.for("react.memo_cache_sentinel")?(t1=["type"],$[0]=t1):t1=$[0];const{type}=shared_useProperties(t1),{handleDismiss:handleDismiss_0}=use(dismiss_temp);let t2;$[1]!==handleDismiss_0||$[2]!==isMultiple||$[3]!==type?(t2=()=>{(0,tracking_src.sx)("floating_menu",{name:"dismiss_menu",element:isMultiple?"multiple":type}),handleDismiss_0()},$[1]=handleDismiss_0,$[2]=isMultiple,$[3]=type,$[4]=t2):t2=$[4];const handleClick=t2;let t3,t4;return $[5]===Symbol.for("react.memo_cache_sentinel")?(t3=(0,i18n.__)("Dismiss menu","web-stories"),$[5]=t3):t3=$[5],$[6]!==handleClick?(t4=react.createElement(shared_icon,{Icon:cross.A,title:t3,onClick:handleClick}),$[6]=handleClick,$[7]=t4):t4=$[7],t4}function dismiss_temp(t0){const{actions:t1}=t0,{handleDismiss}=t1;return{handleDismiss}}const dismiss=Dismiss;Dismiss.propTypes={isMultiple:prop_types_default().bool};var distribute_horizontal=__webpack_require__("./packages/design-system/src/icons/distribute_horizontal.svg"),distribute_vertical=__webpack_require__("./packages/design-system/src/icons/distribute_vertical.svg"),align_left=__webpack_require__("./packages/design-system/src/icons/align_left.svg"),align_center=__webpack_require__("./packages/design-system/src/icons/align_center.svg"),align_right=__webpack_require__("./packages/design-system/src/icons/align_right.svg"),align_top=__webpack_require__("./packages/design-system/src/icons/align_top.svg"),align_middle=__webpack_require__("./packages/design-system/src/icons/align_middle.svg"),align_bottom=__webpack_require__("./packages/design-system/src/icons/align_bottom.svg"),useAlignment=__webpack_require__("./packages/story-editor/src/components/panels/design/alignment/useAlignment.js");function elementAlignment_temp(t0){const{state,actions}=t0;return{selectedElements:state.selectedElements,selectedElementIds:state.selectedElementIds,updateElementsById:actions.updateElementsById}}const elementAlignment=function ElementAlignment(){const $=(0,dist.c)(36),{selectedElements,selectedElementIds,updateElementsById}=(0,app.P3)(elementAlignment_temp);let t0;$[0]!==selectedElementIds||$[1]!==updateElementsById?(t0=callback=>{updateElementsById({elementIds:selectedElementIds,properties:callback})},$[0]=selectedElementIds,$[1]=updateElementsById,$[2]=t0):t0=$[2];const updateElements=t0;let t1;$[3]!==selectedElements||$[4]!==updateElements?(t1={selectedElements,updateElements,isFloatingMenu:!0},$[3]=selectedElements,$[4]=updateElements,$[5]=t1):t1=$[5];const{isDistributionEnabled,handleAlignLeft,handleAlignCenter,handleAlignRight,handleAlignTop,handleAlignMiddle,handleAlignBottom,handleHorizontalDistribution,handleVerticalDistribution}=(0,useAlignment.A)(t1);let t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15;return $[6]!==handleHorizontalDistribution||$[7]!==handleVerticalDistribution||$[8]!==isDistributionEnabled?(t2=isDistributionEnabled&&react.createElement(react.Fragment,null,react.createElement(shared_icon,{Icon:distribute_horizontal.A,title:(0,i18n.__)("Distribute horizontally","web-stories"),onClick:handleHorizontalDistribution}),react.createElement(shared_icon,{Icon:distribute_vertical.A,title:(0,i18n.__)("Distribute vertically","web-stories"),onClick:handleVerticalDistribution}),react.createElement(shared_separator,null)),$[6]=handleHorizontalDistribution,$[7]=handleVerticalDistribution,$[8]=isDistributionEnabled,$[9]=t2):t2=$[9],$[10]===Symbol.for("react.memo_cache_sentinel")?(t3=(0,i18n.__)("Align left","web-stories"),$[10]=t3):t3=$[10],$[11]!==handleAlignLeft?(t4=react.createElement(shared_icon,{Icon:align_left.A,title:t3,onClick:handleAlignLeft}),$[11]=handleAlignLeft,$[12]=t4):t4=$[12],$[13]===Symbol.for("react.memo_cache_sentinel")?(t5=(0,i18n.__)("Align center","web-stories"),$[13]=t5):t5=$[13],$[14]!==handleAlignCenter?(t6=react.createElement(shared_icon,{Icon:align_center.A,title:t5,onClick:handleAlignCenter}),$[14]=handleAlignCenter,$[15]=t6):t6=$[15],$[16]===Symbol.for("react.memo_cache_sentinel")?(t7=(0,i18n.__)("Align right","web-stories"),$[16]=t7):t7=$[16],$[17]!==handleAlignRight?(t8=react.createElement(shared_icon,{Icon:align_right.A,title:t7,onClick:handleAlignRight}),$[17]=handleAlignRight,$[18]=t8):t8=$[18],$[19]===Symbol.for("react.memo_cache_sentinel")?(t9=(0,i18n.__)("Align top","web-stories"),$[19]=t9):t9=$[19],$[20]!==handleAlignTop?(t10=react.createElement(shared_icon,{Icon:align_top.A,title:t9,onClick:handleAlignTop}),$[20]=handleAlignTop,$[21]=t10):t10=$[21],$[22]===Symbol.for("react.memo_cache_sentinel")?(t11=(0,i18n.__)("Align vertical center","web-stories"),$[22]=t11):t11=$[22],$[23]!==handleAlignMiddle?(t12=react.createElement(shared_icon,{Icon:align_middle.A,title:t11,onClick:handleAlignMiddle}),$[23]=handleAlignMiddle,$[24]=t12):t12=$[24],$[25]===Symbol.for("react.memo_cache_sentinel")?(t13=(0,i18n.__)("Align bottom","web-stories"),$[25]=t13):t13=$[25],$[26]!==handleAlignBottom?(t14=react.createElement(shared_icon,{Icon:align_bottom.A,title:t13,onClick:handleAlignBottom}),$[26]=handleAlignBottom,$[27]=t14):t14=$[27],$[28]!==t10||$[29]!==t12||$[30]!==t14||$[31]!==t2||$[32]!==t4||$[33]!==t6||$[34]!==t8?(t15=react.createElement(react.Fragment,null,t2,t4,t6,t8,t10,t12,t14),$[28]=t10,$[29]=t12,$[30]=t14,$[31]=t2,$[32]=t4,$[33]=t6,$[34]=t8,$[35]=t15):t15=$[35],t15};var mirror_leftright=__webpack_require__("./packages/design-system/src/icons/mirror_leftright.svg");function useFlip_temp(t0){const{state,actions}=t0;return{selectedElementIds:state.selectedElementIds,updateElementsById:actions.updateElementsById}}const shared_useFlip=function useFlip(property){const $=(0,dist.c)(10);let t0;$[0]===Symbol.for("react.memo_cache_sentinel")?(t0=["flip","type"],$[0]=t0):t0=$[0];const{flip,type}=shared_useProperties(t0),{selectedElementIds,updateElementsById}=(0,story.P3)(useFlip_temp);let t1;$[1]!==property||$[2]!==selectedElementIds||$[3]!==type||$[4]!==updateElementsById?(t1=()=>{(0,tracking_src.sx)("floating_menu",{name:`set_flip_${property}`,element:type}),updateElementsById({elementIds:selectedElementIds,properties:oldElement=>({flip:{...oldElement.flip,[property]:Boolean(!oldElement.flip?.[property]||!1)}})})},$[1]=property,$[2]=selectedElementIds,$[3]=type,$[4]=updateElementsById,$[5]=t1):t1=$[5];const toggle=t1,t2=flip?.[property]||!1;let t3;return $[6]!==property||$[7]!==t2||$[8]!==toggle?(t3={[property]:t2,toggle},$[6]=property,$[7]=t2,$[8]=toggle,$[9]=t3):t3=$[9],t3};const flipHorizontal=function FlipHorizontal(){const $=(0,dist.c)(4),{horizontal,toggle}=shared_useFlip("horizontal");let t0,t1;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=(0,i18n.__)("Flip horizontally","web-stories"),$[0]=t0):t0=$[0],$[1]!==horizontal||$[2]!==toggle?(t1=react.createElement(shared_icon,{Icon:mirror_leftright.A,title:t0,onClick:toggle,isToggled:horizontal}),$[1]=horizontal,$[2]=toggle,$[3]=t1):t1=$[3],t1};var mirror_updown=__webpack_require__("./packages/design-system/src/icons/mirror_updown.svg");const flipVertical=function FlipVertical(){const $=(0,dist.c)(4),{vertical,toggle}=shared_useFlip("vertical");let t0,t1;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=(0,i18n.__)("Flip vertically","web-stories"),$[0]=t0):t0=$[0],$[1]!==toggle||$[2]!==vertical?(t1=react.createElement(shared_icon,{Icon:mirror_updown.A,title:t0,onClick:toggle,isToggled:vertical}),$[1]=toggle,$[2]=vertical,$[3]=t1):t1=$[3],t1};var storyFontPicker=__webpack_require__("./packages/story-editor/src/components/storyFontPicker/index.js");const StyledFontPicker=(0,styled_components_browser_esm.Ay)(storyFontPicker.A).withConfig({displayName:"fontFamily__StyledFontPicker",componentId:"sc-sk3dxe-0"})(["width:164px;"]),listStyleOverrides=(0,styled_components_browser_esm.AH)(["max-height:200px;"]),containerStyleOverrides=(0,styled_components_browser_esm.AH)(["border:1px solid ",";"],(({theme})=>theme.colors.border.defaultNormal));function fontFamily_temp(t0){const{state}=t0;return{selectedElements:state.selectedElements}}const fontFamily=function FontFamily(){const $=(0,dist.c)(2),{selectedElements}=(0,story.P3)(fontFamily_temp);let t0;return $[0]!==selectedElements?(t0=react.createElement(StyledFontPicker,{tabIndex:-1,listStyleOverrides,containerStyleOverrides,selectedElements}),$[0]=selectedElements,$[1]=t0):t0=$[1],t0};var styles=__webpack_require__("./packages/story-editor/src/components/panels/shared/styles.js"),font=__webpack_require__("./packages/story-editor/src/components/panels/design/textStyle/font.js");const fontSize_Input=(0,styled_components_browser_esm.Ay)(numericInput.A).attrs({inputClassName:contextMenu_constants.D}).withConfig({displayName:"fontSize__Input",componentId:"sc-17k2x26-0"})(["width:50px;flex:0 0 50px;"]),FONT_SIZE_LABEL=(0,i18n.__)("Font size","web-stories");function fontSize_temp(t0){const{state,actions}=t0;return{fontSize:state.selectedElements[0].fontSize,selectedElementIds:state.selectedElementIds,updateElementsById:actions.updateElementsById}}const fontSize=function FontSize(){const $=(0,dist.c)(17),inputRef=(0,src.li)(),buttonRef=(0,src.li)(),{fontSize,selectedElementIds,updateElementsById}=(0,app.P3)(fontSize_temp);let t0,t1;$[0]!==selectedElementIds||$[1]!==updateElementsById?(t0=update=>{(0,tracking_src.sx)("floating_menu",{name:"set_font_size"}),updateElementsById({elementIds:selectedElementIds,properties:element=>{const updates=(0,updateProperties.A)(element,update,!0),sizeUpdates=(0,getUpdatedSizeAndPosition.A)({...element,...updates});return{...updates,...sizeUpdates}}})},t1=[selectedElementIds,updateElementsById],$[0]=selectedElementIds,$[1]=updateElementsById,$[2]=t0,$[3]=t1):(t0=$[2],t1=$[3]);const onChange=(0,src.hb)(t0,t1);let t2,t3,t4,t5;return $[4]!==onChange?(t2=(evt,value)=>onChange({fontSize:value}),$[4]=onChange,$[5]=t2):t2=$[5],$[6]!==buttonRef?(t3=e=>{(0,focusTrapButton.t)(e,buttonRef)},$[6]=buttonRef,$[7]=t3):t3=$[7],$[8]!==fontSize||$[9]!==inputRef||$[10]!==t2||$[11]!==t3?(t4=react.createElement(fontSize_Input,{tabIndex:-1,ref:inputRef,"aria-label":FONT_SIZE_LABEL,isFloat:!0,value:fontSize,onChange:t2,min:font.s.FONT_SIZE.MIN,max:font.s.FONT_SIZE.MAX,placeholder:fontSize,containerStyleOverride:styles.t,selectButtonStylesOverride:styles.Y,onKeyDown:t3}),$[8]=fontSize,$[9]=inputRef,$[10]=t2,$[11]=t3,$[12]=t4):t4=$[12],$[13]!==buttonRef||$[14]!==inputRef||$[15]!==t4?(t5=react.createElement(focusTrapButton.A,{ref:buttonRef,inputRef,inputLabel:FONT_SIZE_LABEL},t4),$[13]=buttonRef,$[14]=inputRef,$[15]=t4,$[16]=t5):t5=$[16],t5};var color_drop=__webpack_require__("./packages/design-system/src/icons/color_drop.svg"),sizePosition_opacity=__webpack_require__("./packages/story-editor/src/components/panels/design/sizePosition/opacity.js");const layerOpacity_Input=(0,styled_components_browser_esm.Ay)(numericInput.A).withConfig({displayName:"layerOpacity__Input",componentId:"sc-1pptz1t-0"})(["width:82px;flex:0 0 82px;"]),OPACITY_LABEL=(0,i18n.__)("Opacity in percent","web-stories");function layerOpacity_temp(t0){const{state,actions}=t0;return{selectedElementIds:state.selectedElementIds,updateElementsById:actions.updateElementsById}}const layerOpacity=function LayerOpacity(){const $=(0,dist.c)(18),inputRef=(0,src.li)(),buttonRef=(0,src.li)();let t0;$[0]===Symbol.for("react.memo_cache_sentinel")?(t0=["opacity","type"],$[0]=t0):t0=$[0];const{opacity,type}=shared_useProperties(t0),{selectedElementIds,updateElementsById}=(0,app.P3)(layerOpacity_temp);let t1;$[1]!==selectedElementIds||$[2]!==type||$[3]!==updateElementsById?(t1=(_,value)=>{(0,tracking_src.sx)("floating_menu",{name:"set_opacity",element:type}),updateElementsById({elementIds:selectedElementIds,properties:()=>({opacity:value??100})})},$[1]=selectedElementIds,$[2]=type,$[3]=updateElementsById,$[4]=t1):t1=$[4];const handleOpacityChange=t1;let t2,t3;$[5]===Symbol.for("react.memo_cache_sentinel")?(t2=react.createElement(color_drop.A,null),t3=(0,i18n._x)("%","Percentage","web-stories"),$[5]=t2,$[6]=t3):(t2=$[5],t3=$[6]);const t4=opacity||0;let t5,t6,t7;return $[7]!==buttonRef?(t5=e=>{(0,focusTrapButton.t)(e,buttonRef)},$[7]=buttonRef,$[8]=t5):t5=$[8],$[9]!==handleOpacityChange||$[10]!==inputRef||$[11]!==t4||$[12]!==t5?(t6=react.createElement(layerOpacity_Input,{ref:inputRef,tabIndex:-1,suffix:t2,unit:t3,value:t4,"aria-label":OPACITY_LABEL,onChange:handleOpacityChange,inputClassName:contextMenu_constants.D,onKeyDown:t5,min:sizePosition_opacity.s.OPACITY.MIN,max:sizePosition_opacity.s.OPACITY.MAX}),$[9]=handleOpacityChange,$[10]=inputRef,$[11]=t4,$[12]=t5,$[13]=t6):t6=$[13],$[14]!==buttonRef||$[15]!==inputRef||$[16]!==t6?(t7=react.createElement(focusTrapButton.A,{ref:buttonRef,inputRef,inputLabel:OPACITY_LABEL},t6),$[14]=buttonRef,$[15]=inputRef,$[16]=t6,$[17]=t7):t7=$[17],t7};var loopPanelContent=__webpack_require__("./packages/story-editor/src/components/panels/shared/media/loopPanelContent.js");const StyledLoopContent=(0,styled_components_browser_esm.Ay)(loopPanelContent.A).withConfig({displayName:"loop__StyledLoopContent",componentId:"sc-154lze5-0"})(["gap:8px;"]);function _temp2(t0){const{loop:oldLoop}=t0;return{loop:!oldLoop}}function loop_temp(t0){const{state,actions}=t0;return{selectedElementIds:state.selectedElementIds,updateElementsById:actions.updateElementsById}}const loop=function Loop(){const $=(0,dist.c)(7);let t0;$[0]===Symbol.for("react.memo_cache_sentinel")?(t0=["loop"],$[0]=t0):t0=$[0];const{loop}=shared_useProperties(t0),{selectedElementIds,updateElementsById}=(0,app.P3)(loop_temp);let t1;$[1]!==selectedElementIds||$[2]!==updateElementsById?(t1=()=>{(0,tracking_src.sx)("floating_menu",{name:"set_loop"}),updateElementsById({elementIds:selectedElementIds,properties:_temp2})},$[1]=selectedElementIds,$[2]=updateElementsById,$[3]=t1):t1=$[3];const handleChange=t1;let t2;return $[4]!==handleChange||$[5]!==loop?(t2=react.createElement(StyledLoopContent,{tabIndex:-1,loop,onChange:handleChange}),$[4]=handleChange,$[5]=loop,$[6]=t2):t2=$[6],t2};var highlights=__webpack_require__("./packages/story-editor/src/app/highlights/index.ts");function more_temp2(t0){const{state}=t0;return state.selectedElements[0].type}function more_temp(t0){const{setHighlights}=t0;return setHighlights}const more=function More(){const $=(0,dist.c)(6),setHighlights_0=(0,highlights.N)(more_temp),selectedElementType=(0,app.P3)(more_temp2);let t0;$[0]!==selectedElementType||$[1]!==setHighlights_0?(t0=()=>{setHighlights_0({highlight:highlights.xP.StylePane}),(0,tracking_src.sx)("floating_menu",{name:"click_more_button",element:selectedElementType})},$[0]=selectedElementType,$[1]=setHighlights_0,$[2]=t0):t0=$[2];const handleHighlightDesignPanel=t0;let t1,t2;return $[3]===Symbol.for("react.memo_cache_sentinel")?(t1=(0,i18n._x)("More","Link to more options in design panel for selected element","web-stories"),$[3]=t1):t1=$[3],$[4]!==handleHighlightDesignPanel?(t2=react.createElement(shared_text,{text:t1,onClick:handleHighlightDesignPanel}),$[4]=handleHighlightDesignPanel,$[5]=t2):t2=$[5],t2};var muted=__webpack_require__("./packages/design-system/src/icons/muted.svg"),useVideoElementTranscoding=__webpack_require__("./packages/story-editor/src/app/media/utils/useVideoElementTranscoding.js");const mute=function Mute(){const $=(0,dist.c)(12);let t0;$[0]===Symbol.for("react.memo_cache_sentinel")?(t0=["id","resource"],$[0]=t0):t0=$[0];const{id:elementId,resource}=shared_useProperties(t0);let t1;$[1]!==elementId||$[2]!==resource?(t1={elementId,resource},$[1]=elementId,$[2]=resource,$[3]=t1):t1=$[3];const{state:t2,actions:t3}=(0,useVideoElementTranscoding.A)(t1),{canMute,isMuting,isDisabled}=t2,{handleMute}=t3;if(!canMute)return null;let t4;$[4]!==isMuting?(t4=isMuting?(0,i18n.__)("Removing audio","web-stories"):(0,i18n.__)("Remove audio","web-stories"),$[4]=isMuting,$[5]=t4):t4=$[5];const title=t4;let t5;$[6]!==handleMute?(t5=e=>{(0,tracking_src.sx)("floating_menu",{name:"set_mute"}),handleMute(e)},$[6]=handleMute,$[7]=t5):t5=$[7];const handleChange=t5,t6=isDisabled||isMuting;let t7;return $[8]!==handleChange||$[9]!==t6||$[10]!==title?(t7=react.createElement(shared_icon,{Icon:muted.A,title,disabled:t6,onClick:handleChange}),$[8]=handleChange,$[9]=t6,$[10]=title,$[11]=t7):t7=$[11],t7};function shapeColor_temp(t0){const{state,actions}=t0;return{backgroundColor:state.selectedElements[0].backgroundColor,selectedElementIds:state.selectedElementIds,updateElementsById:actions.updateElementsById}}const shapeColor=function ShapeColor(){const $=(0,dist.c)(8),{backgroundColor,selectedElementIds,updateElementsById}=(0,app.P3)(shapeColor_temp);let t0,t1;$[0]!==selectedElementIds||$[1]!==updateElementsById?(t0=value=>{(0,tracking_src.sx)("floating_menu",{name:"set_shape_color",element:"shape"}),updateElementsById({elementIds:selectedElementIds,properties:()=>({backgroundColor:value})})},t1=[selectedElementIds,updateElementsById],$[0]=selectedElementIds,$[1]=updateElementsById,$[2]=t0,$[3]=t1):(t0=$[2],t1=$[3]);const onChange=(0,src.hb)(t0,t1);let t2,t3;return $[4]===Symbol.for("react.memo_cache_sentinel")?(t2=(0,i18n.__)("Shape color","web-stories"),$[4]=t2):t2=$[4],$[5]!==backgroundColor||$[6]!==onChange?(t3=react.createElement(shared_color,{tabIndex:-1,label:t2,value:backgroundColor,allowsSavedColors:!0,onChange,hasInputs:!0,hasEyedropper:!0,allowsOpacity:!0,allowsGradient:!0,opacityFocusTrap:!0,colorFocusTrap:!0}),$[5]=backgroundColor,$[6]=onChange,$[7]=t3):t3=$[7],t3};var item=__webpack_require__("./packages/design-system/src/components/contextMenu/components/item.tsx"),localStore=__webpack_require__("./packages/design-system/src/utils/localStore.ts"),checkmark_small=__webpack_require__("./packages/design-system/src/icons/checkmark_small.svg"),settings=__webpack_require__("./packages/design-system/src/icons/settings.svg");function settings_extends(){return settings_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},settings_extends.apply(null,arguments)}const MenuItem=(0,styled_components_browser_esm.Ay)(item.A).withConfig({displayName:"settings__MenuItem",componentId:"sc-aqi6f7-0"})(["span{font-size:14px;font-weight:400;}"]),StyledIconButton=(0,styled_components_browser_esm.Ay)(shared_icon).withConfig({displayName:"settings__StyledIconButton",componentId:"sc-aqi6f7-1"})(["svg{width:24px;height:24px;}"]),SubMenuContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"settings__SubMenuContainer",componentId:"sc-aqi6f7-2"})(["position:absolute;top:calc(var(--height) + ","px);z-index:9999;"],3),LOCAL_STORAGE_KEY=localStore.$.ELEMENT_TOOLBAR_SETTINGS;function _temp5(t0){const{key,...menuItemProps}=t0;return react.createElement(MenuItem,settings_extends({key},menuItemProps))}function _temp4(value){return!value}function _temp3(){return localStore.x.getItemByKey(LOCAL_STORAGE_KEY)||{}}function settings_temp2(t0){const{setHighlights}=t0;return setHighlights}function settings_temp(t0){const{actions,state}=t0;return{setFloatingMenuPosition:actions.setFloatingMenuPosition,setDisplayFloatingMenu:actions.setDisplayFloatingMenu,floatingMenuPosition:state.floatingMenuPosition}}const elements_settings=function Settings(){const $=(0,dist.c)(63),[isMenuOpen,setIsMenuOpen]=(0,src.J0)(!1),{setFloatingMenuPosition,setDisplayFloatingMenu,floatingMenuPosition}=(0,app.yu)(settings_temp),setHighlights_0=(0,highlights.N)(settings_temp2),buttonRef=(0,src.li)(),subMenuRef=(0,src.li)(),[offsetLeft,setOffsetLeft]=(0,src.J0)(0);let t0,t1,t2;$[0]!==buttonRef.current?.parentNode.offsetLeft||$[1]!==setOffsetLeft?(t0=()=>setOffsetLeft(buttonRef.current?.parentNode.offsetLeft+-8),$[0]=buttonRef.current?.parentNode.offsetLeft,$[1]=setOffsetLeft,$[2]=t0):t0=$[2],$[3]===Symbol.for("react.memo_cache_sentinel")?(t1=[],$[3]=t1):t1=$[3],(0,src.vJ)(t0,t1),$[4]!==setIsMenuOpen?(t2=()=>setIsMenuOpen(!1),$[4]=setIsMenuOpen,$[5]=t2):t2=$[5];const handleCloseMenu=t2;let t3;$[6]===Symbol.for("react.memo_cache_sentinel")?(t3=[],$[6]=t3):t3=$[6];const local=(0,src.Kr)(_temp3,t3);let t4;$[7]!==local||$[8]!==setFloatingMenuPosition?(t4=position=>{setFloatingMenuPosition(position),localStore.x.setItemByKey(LOCAL_STORAGE_KEY,{...local,position}),(0,tracking_src.sx)("floating_menu",{name:"reposition_menu",position})},$[7]=local,$[8]=setFloatingMenuPosition,$[9]=t4):t4=$[9];const handleToolbarPosition=t4;let t5,t6;$[10]!==local||$[11]!==setDisplayFloatingMenu||$[12]!==setHighlights_0?(t5=()=>{setDisplayFloatingMenu(!1),localStore.x.setItemByKey(LOCAL_STORAGE_KEY,{...local,isDisplayed:!1}),setHighlights_0({highlight:highlights.xP.ElementToolbarToggle}),(0,tracking_src.sx)("floating_menu",{name:"persistent_menu_hide"})},t6=[local,setDisplayFloatingMenu,setHighlights_0],$[10]=local,$[11]=setDisplayFloatingMenu,$[12]=setHighlights_0,$[13]=t5,$[14]=t6):(t5=$[13],t6=$[14]);const hideFloatingMenu=(0,src.hb)(t5,t6);let t7,t8,t9,t10,t11,t12,t13,t14,t15,t16,t17;$[15]===Symbol.for("react.memo_cache_sentinel")?(t7=react.createElement("span",null,(0,i18n.__)("Fix to element","web-stories")),$[15]=t7):t7=$[15],$[16]!==handleToolbarPosition?(t8=()=>handleToolbarPosition(constants.Vd.ELEMENT),$[16]=handleToolbarPosition,$[17]=t8):t8=$[17],$[18]!==floatingMenuPosition?(t9=floatingMenuPosition&&floatingMenuPosition!==constants.Vd.ELEMENT?null:react.createElement(checkmark_small.A,null),$[18]=floatingMenuPosition,$[19]=t9):t9=$[19],$[20]!==t8||$[21]!==t9?(t10={key:constants.Vd.ELEMENT,label:t7,onClick:t8,supportsIcon:!0,icon:t9},$[20]=t8,$[21]=t9,$[22]=t10):t10=$[22],$[23]===Symbol.for("react.memo_cache_sentinel")?(t11=react.createElement("span",null,(0,i18n.__)("Fix to top","web-stories")),$[23]=t11):t11=$[23],$[24]!==handleToolbarPosition?(t12=()=>handleToolbarPosition(constants.Vd.TOP),$[24]=handleToolbarPosition,$[25]=t12):t12=$[25],$[26]!==floatingMenuPosition?(t13=floatingMenuPosition===constants.Vd.TOP?react.createElement(checkmark_small.A,null):null,$[26]=floatingMenuPosition,$[27]=t13):t13=$[27],$[28]!==t12||$[29]!==t13?(t14={key:constants.Vd.TOP,label:t11,onClick:t12,supportsIcon:!0,icon:t13},$[28]=t12,$[29]=t13,$[30]=t14):t14=$[30],$[31]===Symbol.for("react.memo_cache_sentinel")?(t15=react.createElement("span",null,(0,i18n.__)("Always hide","web-stories")),$[31]=t15):t15=$[31],$[32]!==hideFloatingMenu?(t16={key:"hide",label:t15,supportsIcon:!0,onClick:()=>hideFloatingMenu()},$[32]=hideFloatingMenu,$[33]=t16):t16=$[33],$[34]!==t10||$[35]!==t14||$[36]!==t16?(t17=[t10,t14,t16],$[34]=t10,$[35]=t14,$[36]=t16,$[37]=t17):t17=$[37];const subMenuItems=t17;let t18,t19;$[38]===Symbol.for("react.memo_cache_sentinel")?(t18=(0,i18n.__)("Menu settings","web-stories"),$[38]=t18):t18=$[38],$[39]!==setIsMenuOpen?(t19=()=>setIsMenuOpen(_temp4),$[39]=setIsMenuOpen,$[40]=t19):t19=$[40];const t20=!isMenuOpen;let t21;$[41]!==buttonRef||$[42]!==isMenuOpen||$[43]!==t19||$[44]!==t20?(t21=react.createElement(StyledIconButton,{ref:buttonRef,Icon:settings.A,title:t18,onClick:t19,"aria-haspopup":"menu","aria-expanded":isMenuOpen,hasTooltip:t20}),$[41]=buttonRef,$[42]=isMenuOpen,$[43]=t19,$[44]=t20,$[45]=t21):t21=$[45];const t22=`${offsetLeft}px`;let t23,t24,t25,t26,t27,t28;return $[46]!==t22?(t23={left:t22},$[46]=t22,$[47]=t23):t23=$[47],$[48]===Symbol.for("react.memo_cache_sentinel")?(t24=(0,i18n.__)("Toolbar position options","web-stories"),$[48]=t24):t24=$[48],$[49]!==subMenuItems?(t25=subMenuItems.map(_temp5),$[49]=subMenuItems,$[50]=t25):t25=$[50],$[51]!==buttonRef||$[52]!==handleCloseMenu||$[53]!==isMenuOpen||$[54]!==t25?(t26=react.createElement(contextMenu.A,{onDismiss:handleCloseMenu,isOpen:isMenuOpen,onCloseSubMenu:handleCloseMenu,"aria-label":t24,isSubMenu:!0,isSecondary:!0,parentMenuRef:buttonRef},t25),$[51]=buttonRef,$[52]=handleCloseMenu,$[53]=isMenuOpen,$[54]=t25,$[55]=t26):t26=$[55],$[56]!==subMenuRef||$[57]!==t23||$[58]!==t26?(t27=react.createElement(SubMenuContainer,{ref:subMenuRef,style:t23},t26),$[56]=subMenuRef,$[57]=t23,$[58]=t26,$[59]=t27):t27=$[59],$[60]!==t21||$[61]!==t27?(t28=react.createElement(react.Fragment,null,t21,t27),$[60]=t21,$[61]=t27,$[62]=t28):t28=$[62],t28};var align_text_left=__webpack_require__("./packages/design-system/src/icons/align_text_left.svg"),align_text_center=__webpack_require__("./packages/design-system/src/icons/align_text_center.svg"),align_text_right=__webpack_require__("./packages/design-system/src/icons/align_text_right.svg"),align_text_justified=__webpack_require__("./packages/design-system/src/icons/align_text_justified.svg"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),disclosure=__webpack_require__("./packages/design-system/src/components/disclosure/disclosure.tsx");const textAlign_SubMenuContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"textAlign__SubMenuContainer",componentId:"sc-1i0z5qr-0"})(["position:absolute;top:calc(var(--height) + ","px);z-index:9999;"],3),StyledMenuButton=(0,styled_components_browser_esm.Ay)(components_button.A).withConfig({displayName:"textAlign__StyledMenuButton",componentId:"sc-1i0z5qr-1"})(["flex:0 0 60px;height:36px;border:1px solid ",";padding:2px 0;border-radius:4px;"],(({theme})=>theme.colors.border.defaultNormal)),StyledMenuIcon=(0,styled_components_browser_esm.Ay)(icon.A).withConfig({displayName:"textAlign__StyledMenuIcon",componentId:"sc-1i0z5qr-2"})(["width:auto;display:flex;overflow:hidden;svg{width:32px;}svg:last-child{margin-left:-8px;}"]),ALIGNMENTS=[{value:"left",icon:align_text_left.A,label:(0,i18n.__)("Align text left","web-stories")},{value:"center",icon:align_text_center.A,label:(0,i18n.__)("Align text center","web-stories")},{value:"right",icon:align_text_right.A,label:(0,i18n.__)("Align text right","web-stories")},{value:"justify",icon:align_text_justified.A,label:(0,i18n.__)("Align text justified","web-stories")}];function textAlign_temp3(value_1){return!value_1}function textAlign_temp2(node){node&&setTimeout((()=>node.focus()))}function textAlign_temp(t0){const{state,actions}=t0;return{selectedElementIds:state.selectedElementIds,updateElementsById:actions.updateElementsById}}const textAlign=function TextAlign(){const $=(0,dist.c)(55);let t0;$[0]===Symbol.for("react.memo_cache_sentinel")?(t0=["textAlign"],$[0]=t0):t0=$[0];const{textAlign:t1}=shared_useProperties(t0),textAlign=void 0===t1?"left":t1,{selectedElementIds,updateElementsById}=(0,app.P3)(textAlign_temp),[isMenuOpen,setMenuOpen]=(0,src.J0)(!1),subMenuRef=(0,src.li)(),buttonRef=(0,src.li)(),[offsetLeft,setOffsetLeft]=(0,src.J0)(0);let t2,t3;$[1]!==buttonRef.current||$[2]!==setOffsetLeft?(t2=()=>{buttonRef.current?setOffsetLeft(buttonRef.current?.parentNode.offsetLeft+-8):setOffsetLeft(-8)},$[1]=buttonRef.current,$[2]=setOffsetLeft,$[3]=t2):t2=$[3],$[4]===Symbol.for("react.memo_cache_sentinel")?(t3=[],$[4]=t3):t3=$[4],(0,src.vJ)(t2,t3);const currentIconMounted=textAlign_temp2;let t4;$[5]!==textAlign?(t4=ALIGNMENTS.find((t5=>{const{value}=t5;return value===textAlign}))||ALIGNMENTS[0],$[5]=textAlign,$[6]=t4):t4=$[6];const{icon:CurrentIcon,label:currentLabel}=t4;let t5;$[7]!==selectedElementIds||$[8]!==updateElementsById?(t5=value_0=>()=>{(0,tracking_src.sx)("floating_menu",{name:`set_text_alignment_${value_0}`,element:"text"}),updateElementsById({elementIds:selectedElementIds,properties:{textAlign:value_0}})},$[7]=selectedElementIds,$[8]=updateElementsById,$[9]=t5):t5=$[9];const handleTextAlign=t5;let t6;$[10]!==buttonRef.current||$[11]!==setMenuOpen?(t6=()=>{setMenuOpen(!1),buttonRef.current.focus()},$[10]=buttonRef.current,$[11]=setMenuOpen,$[12]=t6):t6=$[12];const handleCloseMenu=t6;let t7;$[13]===Symbol.for("react.memo_cache_sentinel")?(t7=(0,i18n.__)("Change text alignment","web-stories"),$[13]=t7):t7=$[13];const buttonLabel=t7,tooltip=isMenuOpen?"":buttonLabel;let t8,t9,t10,t11,t12,t13,t14,t15,t16;$[14]!==setMenuOpen?(t8=()=>setMenuOpen(!0),$[14]=setMenuOpen,$[15]=t8):t8=$[15],$[16]===Symbol.for("react.memo_cache_sentinel")?(t9=[],$[16]=t9):t9=$[16],(0,keyboard._h)(buttonRef,"down",t8,t9),$[17]!==setMenuOpen?(t10=()=>setMenuOpen(textAlign_temp3),$[17]=setMenuOpen,$[18]=t10):t10=$[18],$[19]!==CurrentIcon||$[20]!==currentLabel?(t11=react.createElement(CurrentIcon,{role:"img","aria-label":currentLabel}),$[19]=CurrentIcon,$[20]=currentLabel,$[21]=t11):t11=$[21],$[22]===Symbol.for("react.memo_cache_sentinel")?(t12={marginLeft:-8,marginRight:0},$[22]=t12):t12=$[22],$[23]!==isMenuOpen?(t13=react.createElement(disclosure.A,{style:t12,$isOpen:isMenuOpen}),$[23]=isMenuOpen,$[24]=t13):t13=$[24],$[25]!==t11||$[26]!==t13||$[27]!==tooltip?(t14=react.createElement(StyledMenuIcon,{title:tooltip},t11,t13),$[25]=t11,$[26]=t13,$[27]=tooltip,$[28]=t14):t14=$[28],$[29]!==buttonRef||$[30]!==isMenuOpen||$[31]!==t10||$[32]!==t14?(t15=react.createElement(StyledMenuButton,{tabIndex:-1,ref:buttonRef,onClick:t10,"aria-haspopup":"menu","aria-expanded":isMenuOpen,"aria-label":buttonLabel},t14),$[29]=buttonRef,$[30]=isMenuOpen,$[31]=t10,$[32]=t14,$[33]=t15):t15=$[33],$[34]!==t15||$[35]!==tooltip?(t16=react.createElement(components_tooltip.A,{placement:popup_constants.W.Bottom,title:tooltip},t15),$[34]=t15,$[35]=tooltip,$[36]=t16):t16=$[36];const t17=`${offsetLeft}px`;let t18,t19,t20,t21,t22,t23;return $[37]!==t17?(t18={left:t17},$[37]=t17,$[38]=t18):t18=$[38],$[39]===Symbol.for("react.memo_cache_sentinel")?(t19=(0,i18n.__)("Text alignment options","web-stories"),$[39]=t19):t19=$[39],$[40]!==handleTextAlign||$[41]!==textAlign?(t20=ALIGNMENTS.map((t21=>{const{value:value_2,icon,label}=t21;return react.createElement(shared_icon,{isToggled:value_2===textAlign,ref:value_2===textAlign?currentIconMounted:null,key:value_2,Icon:icon,title:label,onClick:handleTextAlign(value_2)})})),$[40]=handleTextAlign,$[41]=textAlign,$[42]=t20):t20=$[42],$[43]!==buttonRef||$[44]!==handleCloseMenu||$[45]!==isMenuOpen||$[46]!==t20?(t21=react.createElement(contextMenu.A,{onDismiss:handleCloseMenu,isOpen:isMenuOpen,onCloseSubMenu:handleCloseMenu,"aria-label":t19,isSubMenu:!0,isSecondary:!0,parentMenuRef:buttonRef,isHorizontal:!0},t20),$[43]=buttonRef,$[44]=handleCloseMenu,$[45]=isMenuOpen,$[46]=t20,$[47]=t21):t21=$[47],$[48]!==subMenuRef||$[49]!==t18||$[50]!==t21?(t22=react.createElement(textAlign_SubMenuContainer,{ref:subMenuRef,style:t18},t21),$[48]=subMenuRef,$[49]=t18,$[50]=t21,$[51]=t22):t22=$[51],$[52]!==t16||$[53]!==t22?(t23=react.createElement(react.Fragment,null,t16,t22),$[52]=t16,$[53]=t22,$[54]=t23):t23=$[54],t23};var hasGradient=__webpack_require__("./packages/patterns/src/hasGradient.ts"),createSolid=__webpack_require__("./packages/patterns/src/createSolid.ts"),src_constants=__webpack_require__("./packages/patterns/src/constants.ts"),story_editor_src_constants=__webpack_require__("./packages/story-editor/src/constants/index.ts");function textColor_temp(t0){const{state,actions}=t0;return{selectedElementIds:state.selectedElementIds,updateElementsById:actions.updateElementsById}}const textColor=function TextColor(){const $=(0,dist.c)(14);let t0;$[0]===Symbol.for("react.memo_cache_sentinel")?(t0=["content"],$[0]=t0):t0=$[0];const{content}=shared_useProperties(t0),{selectedElementIds,updateElementsById}=(0,app.P3)(textColor_temp);let t1,t2;$[1]!==selectedElementIds||$[2]!==updateElementsById?(t1=update=>{(0,tracking_src.sx)("floating_menu",{name:"set_text_color",element:"text"}),updateElementsById({elementIds:selectedElementIds,properties:element=>(0,updateProperties.A)(element,update,!0)})},t2=[updateElementsById,selectedElementIds],$[1]=selectedElementIds,$[2]=updateElementsById,$[3]=t1,$[4]=t2):(t1=$[3],t2=$[4]);const pushUpdate=(0,src.hb)(t1,t2),onColorChange=color=>{(0,hasGradient.A)(color)?(handleSetColor((0,createSolid.A)(0,0,0)),handleSetGradientColor(color)):(handleSetGradientColor(src_constants.vK),handleSetColor(color))};let t3;$[5]!==content?(t3=[{content,type:"text"}],$[5]=content,$[6]=t3):t3=$[6];const{textInfo:t4,handlers:t5}=(0,useRichTextFormatting.A)(t3,pushUpdate),{color:color_0,gradientColor}=t4,{handleSetColor:t6,handleSetGradientColor:t7}=t5,handleSetColor=t6,handleSetGradientColor=t7;let t8;$[7]!==color_0||$[8]!==gradientColor?(t8=gradientColor===story_editor_src_constants.jW?story_editor_src_constants.jW:(0,hasGradient.A)(gradientColor)?gradientColor:color_0,$[7]=color_0,$[8]=gradientColor,$[9]=t8):t8=$[9];const colorInputValue=t8;let t9,t10;return $[10]===Symbol.for("react.memo_cache_sentinel")?(t9=(0,i18n.__)("Text color","web-stories"),$[10]=t9):t9=$[10],$[11]!==colorInputValue||$[12]!==onColorChange?(t10=react.createElement(shared_color,{tabIndex:-1,label:t9,allowsSavedColors:!0,value:colorInputValue,onChange:onColorChange,hasInputs:!1,hasEyedropper:!0,allowsOpacity:!0,allowsGradient:!0}),$[11]=colorInputValue,$[12]=onColorChange,$[13]=t10):t10=$[13],t10};var letter_b_bold=__webpack_require__("./packages/design-system/src/icons/letter_b_bold.svg");const toggleBold=function ToggleBold(){const $=(0,dist.c)(5);let t0;$[0]===Symbol.for("react.memo_cache_sentinel")?(t0={currentValue:"isBold",handler:"handleClickBold",eventName:"set_bold"},$[0]=t0):t0=$[0];const{isToggled,toggle}=shared_useTextToggle(t0);let t1,t2;return $[1]===Symbol.for("react.memo_cache_sentinel")?(t1=(0,i18n.__)("Toggle bold","web-stories"),$[1]=t1):t1=$[1],$[2]!==isToggled||$[3]!==toggle?(t2=react.createElement(shared_icon,{isToggled,Icon:letter_b_bold.A,title:t1,onClick:toggle,tabIndex:-1}),$[2]=isToggled,$[3]=toggle,$[4]=t2):t2=$[4],t2};var letter_i_italic=__webpack_require__("./packages/design-system/src/icons/letter_i_italic.svg");const toggleItalics=function ToggleItalics(){const $=(0,dist.c)(5);let t0;$[0]===Symbol.for("react.memo_cache_sentinel")?(t0={currentValue:"isItalic",handler:"handleClickItalic",eventName:"set_italic"},$[0]=t0):t0=$[0];const{isToggled,toggle}=shared_useTextToggle(t0);let t1,t2;return $[1]===Symbol.for("react.memo_cache_sentinel")?(t1=(0,i18n.__)("Toggle italic","web-stories"),$[1]=t1):t1=$[1],$[2]!==isToggled||$[3]!==toggle?(t2=react.createElement(shared_icon,{isToggled,Icon:letter_i_italic.A,title:t1,onClick:toggle,tabIndex:-1}),$[2]=isToggled,$[3]=toggle,$[4]=t2):t2=$[4],t2};var letter_u_underline=__webpack_require__("./packages/design-system/src/icons/letter_u_underline.svg");const toggleUnderline=function ToggleUnderline(){const $=(0,dist.c)(5);let t0;$[0]===Symbol.for("react.memo_cache_sentinel")?(t0={currentValue:"isUnderline",handler:"handleClickUnderline",eventName:"set_underline"},$[0]=t0):t0=$[0];const{isToggled,toggle}=shared_useTextToggle(t0);let t1,t2;return $[1]===Symbol.for("react.memo_cache_sentinel")?(t1=(0,i18n.__)("Toggle underline","web-stories"),$[1]=t1):t1=$[1],$[2]!==isToggled||$[3]!==toggle?(t2=react.createElement(shared_icon,{isToggled,Icon:letter_u_underline.A,title:t1,onClick:toggle,tabIndex:-1}),$[2]=isToggled,$[3]=toggle,$[4]=t2):t2=$[4],t2};var scissors=__webpack_require__("./packages/design-system/src/icons/scissors.svg");const trim=function Trim(){const $=(0,dist.c)(12);let t0;$[0]===Symbol.for("react.memo_cache_sentinel")?(t0=["id","resource"],$[0]=t0):t0=$[0];const{id:elementId,resource}=shared_useProperties(t0);let t1;$[1]!==elementId||$[2]!==resource?(t1={elementId,resource},$[1]=elementId,$[2]=resource,$[3]=t1):t1=$[3];const{state:t2,actions:t3}=(0,useVideoElementTranscoding.A)(t1),{canTrim,isTrimming,isDisabled}=t2,{handleTrim}=t3;if(!canTrim)return null;let t4;$[4]!==isTrimming?(t4=isTrimming?(0,i18n.__)("Trimming video","web-stories"):(0,i18n.__)("Trim video","web-stories"),$[4]=isTrimming,$[5]=t4):t4=$[5];const title=t4;let t5;$[6]!==handleTrim?(t5=e=>{(0,tracking_src.sx)("floating_menu",{name:"set_trim"}),handleTrim(e)},$[6]=handleTrim,$[7]=t5):t5=$[7];const handleClick=t5,t6=isDisabled||isTrimming;let t7;return $[8]!==handleClick||$[9]!==t6||$[10]!==title?(t7=react.createElement(shared_icon,{Icon:scissors.A,title,disabled:t6,onClick:handleClick}),$[8]=handleClick,$[9]=t6,$[10]=title,$[11]=t7):t7=$[11],t7};var trash=__webpack_require__("./packages/design-system/src/icons/trash.svg");function Trash(t0){const $=(0,dist.c)(3),{title,handleRemove}=t0;let t1;return $[0]!==handleRemove||$[1]!==title?(t1=react.createElement(shared_icon,{Icon:trash.A,title,onClick:handleRemove}),$[0]=handleRemove,$[1]=title,$[2]=t1):t1=$[2],t1}const elements_trash=Trash;Trash.propTypes={title:prop_types_default().string,handleRemove:prop_types_default().func};const menus_image=(0,src.ph)((function FloatingImageMenu(){const $=(0,dist.c)(1);let t0;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=react.createElement(react.Fragment,null,react.createElement(layerOpacity,null),react.createElement(shared_separator,null),react.createElement(flipHorizontal,null),react.createElement(flipVertical,null),react.createElement(shared_separator,null),react.createElement(borderWidthAndColor,null),react.createElement(shared_separator,null),react.createElement(more,null),react.createElement(shared_separator,null),react.createElement(elements_settings,null),react.createElement(dismiss,null)),$[0]=t0):t0=$[0],t0})),multiple=(0,src.ph)((function FloatingMultipleMenu(){const $=(0,dist.c)(1);let t0;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=react.createElement(react.Fragment,null,react.createElement(elementAlignment,null),react.createElement(shared_separator,null),react.createElement(elements_settings,null),react.createElement(dismiss,{isMultiple:!0})),$[0]=t0):t0=$[0],t0})),shape=(0,src.ph)((function FloatingShapeMenu(){const $=(0,dist.c)(1);let t0;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=react.createElement(react.Fragment,null,react.createElement(shapeColor,null),react.createElement(shared_separator,null),react.createElement(borderRadius,null),react.createElement(flipHorizontal,null),react.createElement(flipVertical,null),react.createElement(shared_separator,null),react.createElement(borderWidthAndColor,null),react.createElement(shared_separator,null),react.createElement(more,null),react.createElement(shared_separator,null),react.createElement(elements_settings,null),react.createElement(dismiss,null)),$[0]=t0):t0=$[0],t0})),sticker=(0,src.ph)((function FloatingStickerMenu(){const $=(0,dist.c)(1);let t0;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=react.createElement(react.Fragment,null,react.createElement(layerOpacity,null),react.createElement(shared_separator,null),react.createElement(flipHorizontal,null),react.createElement(flipVertical,null),react.createElement(shared_separator,null),react.createElement(more,null),react.createElement(shared_separator,null),react.createElement(elements_settings,null),react.createElement(dismiss,null)),$[0]=t0):t0=$[0],t0})),menus_text=(0,src.ph)((function FloatingTextMenu(){const $=(0,dist.c)(1);let t0;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=react.createElement(react.Fragment,null,react.createElement(fontFamily,null),react.createElement(fontSize,null),react.createElement(textAlign,null),react.createElement(toggleBold,null),react.createElement(toggleItalics,null),react.createElement(toggleUnderline,null),react.createElement(shared_separator,null),react.createElement(textColor,null),react.createElement(shared_separator,null),react.createElement(more,null),react.createElement(shared_separator,null),react.createElement(elements_settings,null),react.createElement(dismiss,null)),$[0]=t0):t0=$[0],t0})),video=(0,src.ph)((function FloatingVideoMenu(){const $=(0,dist.c)(1);let t0;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=react.createElement(react.Fragment,null,react.createElement(layerOpacity,null),react.createElement(shared_separator,null),react.createElement(flipHorizontal,null),react.createElement(flipVertical,null),react.createElement(shared_separator,null),react.createElement(borderWidthAndColor,null),react.createElement(shared_separator,null),react.createElement(loop,null),react.createElement(trim,null),react.createElement(mute,null),react.createElement(shared_separator,null),react.createElement(more,null),react.createElement(shared_separator,null),react.createElement(elements_settings,null),react.createElement(dismiss,null)),$[0]=t0):t0=$[0],t0}));var config=__webpack_require__("./packages/story-editor/src/app/config/index.ts"),productDropdown=__webpack_require__("./packages/story-editor/src/components/library/panes/shopping/productDropdown.js");const StyledDropDown=(0,styled_components_browser_esm.Ay)(productDropdown.A).withConfig({displayName:"product__StyledDropDown",componentId:"sc-6kpcrl-0"})(["width:240px;"]),FloatingProductMenu=(0,src.ph)((function FloatingProductMenu(){const $=(0,dist.c)(15),{selectedElement,updateSelectedElements,deleteSelectedElements}=(0,story.P3)(product_temp),{shoppingProvider}=(0,config.UK)(),isShoppingEnabled="none"!==shoppingProvider;let t0,t1;$[0]!==updateSelectedElements?(t0=product=>updateSelectedElements({properties:{product}}),t1=[updateSelectedElements],$[0]=updateSelectedElements,$[1]=t0,$[2]=t1):(t0=$[1],t1=$[2]);const setProduct=(0,src.hb)(t0,t1);let t2,t3,t4,t5,t6,t7;return $[3]!==isShoppingEnabled||$[4]!==selectedElement?.product||$[5]!==setProduct?(t2=isShoppingEnabled&&react.createElement(react.Fragment,null,react.createElement(StyledDropDown,{product:selectedElement?.product,setProduct}),react.createElement(shared_separator,null)),$[3]=isShoppingEnabled,$[4]=selectedElement?.product,$[5]=setProduct,$[6]=t2):t2=$[6],$[7]===Symbol.for("react.memo_cache_sentinel")?(t3=(0,i18n.__)("Remove product","web-stories"),$[7]=t3):t3=$[7],$[8]!==deleteSelectedElements?(t4=react.createElement(elements_trash,{title:t3,handleRemove:deleteSelectedElements}),$[8]=deleteSelectedElements,$[9]=t4):t4=$[9],$[10]===Symbol.for("react.memo_cache_sentinel")?(t5=react.createElement(elements_settings,null),t6=react.createElement(dismiss,null),$[10]=t5,$[11]=t6):(t5=$[10],t6=$[11]),$[12]!==t2||$[13]!==t4?(t7=react.createElement(react.Fragment,null,t2,t4,t5,t6),$[12]=t2,$[13]=t4,$[14]=t7):t7=$[14],t7})),product=FloatingProductMenu;function product_temp(t0){const{actions,state}=t0;return{updateSelectedElements:actions.updateSelectedElements,selectedElement:state.selectedElements[0],deleteSelectedElements:actions.deleteSelectedElements}}const audioSticker=(0,src.ph)((function FloatingAudioStickerMenu(){const $=(0,dist.c)(1);let t0;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=react.createElement(react.Fragment,null,react.createElement(layerOpacity,null),react.createElement(shared_separator,null),react.createElement(flipHorizontal,null),react.createElement(flipVertical,null),react.createElement(shared_separator,null),react.createElement(more,null),react.createElement(shared_separator,null),react.createElement(elements_settings,null),react.createElement(dismiss,null)),$[0]=t0):t0=$[0],t0})),FloatingMenuSelector=(0,src.ph)((function FloatingMenuSelector(t0){const $=(0,dist.c)(8),{selectedElementType}=t0;switch(selectedElementType){case constants.$7.MULTIPLE:{let t1;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t1=react.createElement(multiple,null),$[0]=t1):t1=$[0],t1}case constants.$7.GIF:case constants.$7.IMAGE:{let t1;return $[1]===Symbol.for("react.memo_cache_sentinel")?(t1=react.createElement(menus_image,null),$[1]=t1):t1=$[1],t1}case constants.$7.SHAPE:{let t1;return $[2]===Symbol.for("react.memo_cache_sentinel")?(t1=react.createElement(shape,null),$[2]=t1):t1=$[2],t1}case constants.$7.STICKER:{let t1;return $[3]===Symbol.for("react.memo_cache_sentinel")?(t1=react.createElement(sticker,null),$[3]=t1):t1=$[3],t1}case constants.$7.TEXT:{let t1;return $[4]===Symbol.for("react.memo_cache_sentinel")?(t1=react.createElement(menus_text,null),$[4]=t1):t1=$[4],t1}case constants.$7.VIDEO:{let t1;return $[5]===Symbol.for("react.memo_cache_sentinel")?(t1=react.createElement(video,null),$[5]=t1):t1=$[5],t1}case constants.$7.PRODUCT:{let t1;return $[6]===Symbol.for("react.memo_cache_sentinel")?(t1=react.createElement(product,null),$[6]=t1):t1=$[6],t1}case constants.$7.AUDIO_STICKER:{let t1;return $[7]===Symbol.for("react.memo_cache_sentinel")?(t1=react.createElement(audioSticker,null),$[7]=t1):t1=$[7],t1}default:return null}}));FloatingMenuSelector.propTypes={selectedElementType:prop_types_default().string.isRequired};const selector=FloatingMenuSelector,FLOATING_MENU_MESSAGE=(0,i18n.__)("To exit the floating menu, press Escape.","web-stories"),MenuWrapper=styled_components_browser_esm.Ay.section.withConfig({displayName:"menu__MenuWrapper",componentId:"sc-pi2qzl-0"})(["display:flex;position:absolute;z-index:",";visibility:",";transition:140ms opacity;"],zIndex.Ry,(({visuallyHidden})=>visuallyHidden?"hidden":"visible")),FloatingMenu=(0,src.ph)((0,src.Rf)((function FloatingMenu(t0,ref){const $=(0,dist.c)(23),{selectionIdentifier,selectedElementType,handleDismiss,visuallyHidden}=t0,focusGroupRef=(0,editLayerFocusManager.ec)(editLayerFocusManager.wn.EDIT_ELEMENT),speak=(0,useLiveRegion.A)();let t1,t2;$[0]!==speak?(t1=()=>{speak(FLOATING_MENU_MESSAGE)},t2=[speak],$[0]=speak,$[1]=t1,$[2]=t2):(t1=$[1],t2=$[2]);const announceKeyboardControls=(0,src.hb)(t1,t2);let t3,t4,t5,t6,t7,t8,t9,t10;return $[3]!==ref?(t3=()=>{const node=ref.current,updateSize=()=>{node.style.width="";const bounds=node.getBoundingClientRect();node.style.setProperty("--width",`${bounds.width.toFixed(2)}px`),node.style.setProperty("--height",`${bounds.height.toFixed(2)}px`),node.style.width="var(--width)"};updateSize();const observer=new MutationObserver(updateSize),menu=node.querySelector("[role=menu]");return observer.observe(menu,{childList:!0}),()=>observer.disconnect()},$[3]=ref,$[4]=t3):t3=$[4],$[5]!==ref||$[6]!==selectionIdentifier?(t4=[ref,selectionIdentifier],$[5]=ref,$[6]=selectionIdentifier,$[7]=t4):t4=$[7],(0,src.Nf)(t3,t4),$[8]===Symbol.for("react.memo_cache_sentinel")?(t5=(0,i18n.__)("Design menu","web-stories"),$[8]=t5):t5=$[8],$[9]===Symbol.for("react.memo_cache_sentinel")?(t6=(0,i18n.__)("Design options for selected element","web-stories"),$[9]=t6):t6=$[9],$[10]!==selectedElementType?(t7=react.createElement(selector,{selectedElementType}),$[10]=selectedElementType,$[11]=t7):t7=$[11],$[12]!==announceKeyboardControls||$[13]!==focusGroupRef||$[14]!==t7?(t8=react.createElement(contextMenu.A,{isInline:!0,isHorizontal:!0,isSecondary:!0,isAlwaysVisible:!0,tabIndex:-1,ref:focusGroupRef,dismissOnEscape:!1,onFocus:announceKeyboardControls,"aria-label":t6,onMouseDown:menu_temp,popoverZIndex:zIndex.Ry},t7),$[12]=announceKeyboardControls,$[13]=focusGroupRef,$[14]=t7,$[15]=t8):t8=$[15],$[16]!==handleDismiss||$[17]!==t8?(t9=react.createElement(provider,{handleDismiss},t8),$[16]=handleDismiss,$[17]=t8,$[18]=t9):t9=$[18],$[19]!==ref||$[20]!==t9||$[21]!==visuallyHidden?(t10=react.createElement(MenuWrapper,{ref,"aria-label":t5,visuallyHidden},t9),$[19]=ref,$[20]=t9,$[21]=visuallyHidden,$[22]=t10):t10=$[22],t10})));FloatingMenu.propTypes={handleDismiss:prop_types_default().func.isRequired,selectedElementType:prop_types_default().string.isRequired,selectionIdentifier:prop_types_default().string.isRequired,visuallyHidden:prop_types_default().bool};const menu=FloatingMenu;function menu_temp(e){e.stopPropagation()}},"./packages/story-editor/src/components/fontPicker/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/datalist/list/styled.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/components/datalist/datalist.tsx"),_app__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/app/index.js"),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/constants/index.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Rf)((function FontPicker(t0,ref){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(55),{zIndex,onChange,currentValue,highlightStylesOverride,showDropdownLabel,listStyleOverrides,containerStyleOverrides,className,tabIndex}=t0,{fonts:t1,recentFonts:t2,curatedFonts:t3,customFonts:t4,ensureMenuFontsLoaded,ensureCustomFontsLoaded,getFontsBySearch,loadCustomFonts,loadCuratedFonts}=(0,_app__WEBPACK_IMPORTED_MODULE_3__.Ln)(_temp);let t5;$[0]!==t1?(t5=void 0===t1?[]:t1,$[0]=t1,$[1]=t5):t5=$[1];const fonts=t5;let t6;$[2]!==t2?(t6=void 0===t2?[]:t2,$[2]=t2,$[3]=t6):t6=$[3];const recentFonts=t6;let t7;$[4]!==t3?(t7=void 0===t3?[]:t3,$[4]=t3,$[5]=t7):t7=$[5];const curatedFonts=t7;let t8;$[6]!==t4?(t8=void 0===t4?[]:t4,$[6]=t4,$[7]=t8):t8=$[7];const customFonts=t8;let t10,t9,t11,t12;$[8]!==loadCuratedFonts||$[9]!==loadCustomFonts?(t9=()=>{loadCustomFonts(),loadCuratedFonts()},t10=[loadCustomFonts,loadCuratedFonts],$[8]=loadCuratedFonts,$[9]=loadCustomFonts,$[10]=t10,$[11]=t9):(t10=$[10],t9=$[11]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.vJ)(t9,t10),$[12]!==customFonts||$[13]!==fonts?(t11=()=>{const map=new Map;return fonts.forEach((f=>{map.set(f.id,f)})),customFonts?.forEach((f_0=>{map.set(f_0.id,f_0)})),map},t12=[fonts,customFonts],$[12]=customFonts,$[13]=fonts,$[14]=t11,$[15]=t12):(t11=$[14],t12=$[15]);const fontMap=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t11,t12);let t13,t14;$[16]!==ensureCustomFontsLoaded||$[17]!==ensureMenuFontsLoaded||$[18]!==fontMap?(t13=observedFonts=>{observedFonts.length&&(ensureMenuFontsLoaded(observedFonts.filter((fontName=>"fonts.google.com"===fontMap.get(fontName)?.service))),ensureCustomFontsLoaded(observedFonts.filter((fontName_0=>"custom"===fontMap.get(fontName_0)?.service))))},t14=[fontMap,ensureCustomFontsLoaded,ensureMenuFontsLoaded],$[16]=ensureCustomFontsLoaded,$[17]=ensureMenuFontsLoaded,$[18]=fontMap,$[19]=t13,$[20]=t14):(t13=$[19],t14=$[20]);const onObserve=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t13,t14);let t15,t16;$[21]!==currentValue?(t15=(t17,_ref)=>{const{option,...rest}=t17;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.ph,_extends({ref:_ref},rest,{fontFamily:"fonts.google.com"===option.service?`'${option.name}::MENU'`:option.name}),currentValue===option.id&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.cp,{"aria-label":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Selected","web-stories")}),option.name)},t16=[currentValue],$[21]=currentValue,$[22]=t15,$[23]=t16):(t15=$[22],t16=$[23]);const renderer=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t15,t16);let t17,t18;$[24]!==customFonts||$[25]!==recentFonts?(t17=()=>[...customFonts?.length?[{label:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Your fonts","web-stories"),options:customFonts}]:[],...recentFonts?.length?[{label:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Recently used","web-stories"),options:recentFonts}]:[]],t18=[customFonts,recentFonts],$[24]=customFonts,$[25]=recentFonts,$[26]=t17,$[27]=t18):(t17=$[26],t18=$[27]);const priorityOptionGroups=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t17,t18);let t19,t20,t21,t22;$[28]===Symbol.for("react.memo_cache_sentinel")?(t19=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Available font families","web-stories"),t20=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Font family","web-stories"),$[28]=t19,$[29]=t20):(t19=$[28],t20=$[29]),$[30]===Symbol.for("react.memo_cache_sentinel")?(t21=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Recommended","web-stories"),$[30]=t21):t21=$[30],$[31]===Symbol.for("react.memo_cache_sentinel")?(t22=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Search results","web-stories"),$[31]=t22):t22=$[31];const t23=_constants__WEBPACK_IMPORTED_MODULE_4__.jW===currentValue?"":currentValue,t24=_constants__WEBPACK_IMPORTED_MODULE_4__.jW===currentValue?_constants__WEBPACK_IMPORTED_MODULE_4__.Q6:currentValue;let t25;$[32]!==renderer?(t25=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Rf)(renderer),$[32]=renderer,$[33]=t25):t25=$[33];const t26=!fonts?.length;let t27,t28;return $[34]!==showDropdownLabel?(t27=showDropdownLabel?(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Font","web-stories"):null,$[34]=showDropdownLabel,$[35]=t27):t27=$[35],$[36]!==className||$[37]!==containerStyleOverrides||$[38]!==curatedFonts||$[39]!==fonts||$[40]!==getFontsBySearch||$[41]!==highlightStylesOverride||$[42]!==listStyleOverrides||$[43]!==onChange||$[44]!==onObserve||$[45]!==priorityOptionGroups||$[46]!==ref||$[47]!==t23||$[48]!==t24||$[49]!==t25||$[50]!==t26||$[51]!==t27||$[52]!==tabIndex||$[53]!==zIndex?(t28=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.A,{ref,zIndex,tabIndex,highlightStylesOverride,"data-testid":"font",title:t19,dropdownButtonLabel:t20,options:fonts,primaryOptions:curatedFonts,primaryLabel:t21,priorityOptionGroups,searchResultsLabel:t22,selectedId:t23,placeholder:t24,hasSearch:!0,getOptionsByQuery:getFontsBySearch,onChange,onObserve,renderer:t25,disabled:t26,dropDownLabel:t27,listStyleOverrides,containerStyleOverrides,className}),$[36]=className,$[37]=containerStyleOverrides,$[38]=curatedFonts,$[39]=fonts,$[40]=getFontsBySearch,$[41]=highlightStylesOverride,$[42]=listStyleOverrides,$[43]=onChange,$[44]=onObserve,$[45]=priorityOptionGroups,$[46]=ref,$[47]=t23,$[48]=t24,$[49]=t25,$[50]=t26,$[51]=t27,$[52]=tabIndex,$[53]=zIndex,$[54]=t28):t28=$[54],t28}));function _temp(t0){const{actions,state}=t0;return{getFontsBySearch:actions.getFontsBySearch,ensureMenuFontsLoaded:actions.ensureMenuFontsLoaded,ensureCustomFontsLoaded:actions.ensureCustomFontsLoaded,loadCuratedFonts:actions.loadCuratedFonts,loadCustomFonts:actions.loadCustomFonts,recentFonts:state.recentFonts,curatedFonts:state.curatedFonts,fonts:state.fonts,customFonts:state.customFonts}}},"./packages/story-editor/src/components/form/stackable/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>stackableGroup,H:()=>stackableInput});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),outline=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),numericInput=__webpack_require__("./packages/design-system/src/components/input/numericInput.tsx");const inputContainerStyleOverride=(0,styled_components_browser_esm.AH)(["position:relative;:focus-within{z-index:1;",";}"],(({theme})=>outline.g(theme.colors.border.focus,theme.colors.bg.secondary))),iconCss=(0,styled_components_browser_esm.AH)(["width:29px;height:29px;"]),stackableInput=(0,styled_components_browser_esm.Ay)(numericInput.A).withConfig({displayName:"stackableInput__StackableInput",componentId:"sc-bgp531-0"})(["svg{","}& > div{border-radius:0;margin-left:-1px;padding:2px 7px 2px 12px;",";}"],iconCss,inputContainerStyleOverride),StackableContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"stackableGroup__StackableContainer",componentId:"sc-ogfpu5-0"})(["display:flex;max-width:",";& > ","{border-radius:0;&:first-of-type > div{border-top-left-radius:4px;border-bottom-left-radius:4px;margin-left:0;}&:last-of-type > div{border-top-right-radius:4px;border-bottom-right-radius:4px;}}",""],(({locked})=>locked?"106px":"none"),stackableInput,(({$stackableGroupStyleOverride})=>$stackableGroupStyleOverride));function StackableGroup(t0){const $=(0,dist.c)(5),{children,locked,className,stackableGroupStyleOverride}=t0;let t1;return $[0]!==children||$[1]!==className||$[2]!==locked||$[3]!==stackableGroupStyleOverride?(t1=react.createElement(StackableContainer,{$stackableGroupStyleOverride:stackableGroupStyleOverride,locked,className},children),$[0]=children,$[1]=className,$[2]=locked,$[3]=stackableGroupStyleOverride,$[4]=t1):t1=$[4],t1}StackableGroup.propTypes={children:prop_types_default().node,locked:prop_types_default().bool,className:prop_types_default().string,stackableGroupStyleOverride:prop_types_default().array};const stackableGroup=StackableGroup},"./packages/story-editor/src/components/library/panes/shopping/productDropdown.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/datalist/datalist.tsx"),_googleforcreators_elements__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/elements/src/index.ts"),_app__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/app/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function ProductDropdown({product,setProduct,...rest}){const initialProducts=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Kr)((()=>[{id:product?.productId,name:product?.productTitle,product}]),[product]),[isLoading,setIsLoading]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.J0)(!1),[initialOptions,setInitialOptions]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.J0)(initialProducts),{actions:{getProducts}}=(0,_app__WEBPACK_IMPORTED_MODULE_3__.M1)(),{isSaving,currentPageProductIds}=(0,_app__WEBPACK_IMPORTED_MODULE_3__.P3)((({state:{meta:{isSaving},currentPage}})=>({isSaving,currentPageProductIds:currentPage?.elements?.filter((({type})=>type===_googleforcreators_elements__WEBPACK_IMPORTED_MODULE_2__.bV.PRODUCT)).filter((({product:p})=>p.productId!==product.productId)).map((({product:p})=>p?.productId))}))),getProductsByQuery=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)((async(value="")=>{const{products}=await getProducts(value);return products.filter((p=>p.productImages.length&&!currentPageProductIds.includes(p.productId))).map((p=>({name:p.productTitle,id:p.productId,product:p})))}),[currentPageProductIds,getProducts]);(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.vJ)((()=>{(async()=>{try{setIsLoading(!0);const products=await getProductsByQuery();setInitialOptions(products)}catch{setInitialOptions(initialProducts)}finally{setIsLoading(!1)}})()}),[initialProducts]);const dropDownParams={hasSearch:!0,lightMode:!0,onChange:({product:newProduct})=>setProduct(newProduct),getOptionsByQuery:getProductsByQuery,selectedId:product?.productId,dropDownLabel:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Product","web-stories"),disabled:isSaving,primaryOptions:isLoading?initialProducts:initialOptions,zIndex:10};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.A,_extends({options:initialOptions,searchResultsLabel:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Search results","web-stories"),"aria-label":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Product","web-stories")},dropDownParams,rest))}},"./packages/story-editor/src/components/panels/design/alignment/useAlignment.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_units__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/units/src/constants.ts"),_googleforcreators_units__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/units/src/getBoundRect.ts"),_googleforcreators_units__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/units/src/dimensions.ts"),_googleforcreators_units__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/units/src/calcRotatedObjectPositionAndSize.ts"),_googleforcreators_tracking__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/tracking/src/index.ts");const PAGE_RECT={startX:0,startY:0,endX:_googleforcreators_units__WEBPACK_IMPORTED_MODULE_3__.bj,endY:_googleforcreators_units__WEBPACK_IMPORTED_MODULE_3__.WY,width:_googleforcreators_units__WEBPACK_IMPORTED_MODULE_3__.bj,height:_googleforcreators_units__WEBPACK_IMPORTED_MODULE_3__.WY},ALIGNMENT_LEFT="left",ALIGNMENT_RIGHT="right",ALIGNMENT_TOP="top",ALIGNMENT_BOTTOM="bottom";function _temp5(sum_0,element_4){return sum_0+element_4.frameHeight}function _temp4(a_0,b_0){return(a_0.frameY+a_0.frameHeight)/2-(b_0.frameY+b_0.frameHeight)/2}function _temp3(sum,element_2){return sum+element_2.frameWidth}function _temp2(a,b){return(a.frameX+a.frameWidth)/2-(b.frameX+b.frameWidth)/2}function _temp(item){const{id,groupId,x,y,width,height,rotationAngle}=item;let frameX=x,frameY=y,frameWidth=width,frameHeight=height;if(rotationAngle){const elementFrame=(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_6__.A)(rotationAngle,x,y,width,height);frameX=elementFrame.x,frameY=elementFrame.y,frameWidth=elementFrame.width,frameHeight=elementFrame.height}return{id,groupId,x,y,width,height,frameX,frameY,frameWidth,frameHeight}}const __WEBPACK_DEFAULT_EXPORT__=function useAlignment(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(56),{selectedElements,updateElements,isFloatingMenu}=t0,isDistributionEnabled=selectedElements.length>2;let t1,t2;$[0]!==selectedElements?(t1=()=>selectedElements.map(_temp),t2=[selectedElements],$[0]=selectedElements,$[1]=t1,$[2]=t2):(t1=$[1],t2=$[2]);const selectedElementsWithFrame=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Kr)(t1,t2),selectedGroupId=selectedElements[0].groupId;let t3;$[3]!==selectedElements||$[4]!==selectedGroupId?(t3=selectedGroupId&&selectedElements.every((el=>el.groupId&&el.groupId===selectedGroupId)),$[3]=selectedElements,$[4]=selectedGroupId,$[5]=t3):t3=$[5];const isOnlyGroupSelected=t3;let t4;$[6]!==isOnlyGroupSelected||$[7]!==selectedElements?(t4=1===selectedElements.length||isOnlyGroupSelected?PAGE_RECT:(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_4__.A)(selectedElements),$[6]=isOnlyGroupSelected,$[7]=selectedElements,$[8]=t4):t4=$[8];const boundRect=t4;let t5;$[9]!==isFloatingMenu?(t5=direction=>{(0,_googleforcreators_tracking__WEBPACK_IMPORTED_MODULE_2__.sx)(isFloatingMenu?"floating_menu":"design_panel",{name:`set_alignment_${direction}`,element:"multiple"})},$[9]=isFloatingMenu,$[10]=t5):t5=$[10];const handleTrackEvent=t5;let t6;$[11]!==boundRect||$[12]!==handleTrackEvent||$[13]!==selectedElements||$[14]!==selectedElementsWithFrame||$[15]!==updateElements?(t6=direction_0=>{handleTrackEvent(direction_0),updateElements((properties=>{const{id:id_0,groupId:groupId_0}=properties,groupRect=groupId_0?(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_4__.A)(selectedElements.filter((el_0=>el_0.groupId===groupId_0))):null,element=selectedElementsWithFrame.find((item_0=>item_0.id===id_0)),{width:t7,height:t8,frameWidth:t9,frameHeight:t10}=element||{},width_0=void 0===t7?0:t7,height_0=void 0===t8?0:t8,offset=direction_0===ALIGNMENT_LEFT||direction_0===ALIGNMENT_RIGHT?((void 0===t9?0:t9)-width_0)/2:((void 0===t10?0:t10)-height_0)/2,offsetInGroup=groupId_0?direction_0===ALIGNMENT_LEFT||direction_0===ALIGNMENT_RIGHT?element.frameX-groupRect.startX:element.frameY-groupRect.startY:0,calcWidth=groupId_0?groupRect.width:width_0,calcHeight=groupId_0?groupRect.height:height_0;return direction_0===ALIGNMENT_LEFT||direction_0===ALIGNMENT_RIGHT?{x:direction_0===ALIGNMENT_LEFT?boundRect.startX+offset+offsetInGroup:boundRect.endX-calcWidth-offset+offsetInGroup}:{y:direction_0===ALIGNMENT_TOP?boundRect.startY+offset+offsetInGroup:boundRect.endY-calcHeight-offset+offsetInGroup}}))},$[11]=boundRect,$[12]=handleTrackEvent,$[13]=selectedElements,$[14]=selectedElementsWithFrame,$[15]=updateElements,$[16]=t6):t6=$[16];const handleAlign=t6;let t7;$[17]!==boundRect||$[18]!==handleTrackEvent||$[19]!==selectedElements||$[20]!==selectedElementsWithFrame||$[21]!==updateElements?(t7=()=>{handleTrackEvent("center");const centerX=(boundRect.endX+boundRect.startX)/2;updateElements((properties_0=>{const{id:id_1,width:width_1,groupId:groupId_1}=properties_0,groupRect_0=groupId_1?(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_4__.A)(selectedElements.filter((el_1=>el_1.groupId===groupId_1))):null,calcWidth_0=groupId_1?groupRect_0.width:width_1,element_0=selectedElementsWithFrame.find((item_1=>item_1.id===id_1)),offsetInGroup_0=groupId_1?element_0.frameX-groupRect_0.startX:0;return{x:centerX-calcWidth_0/2+offsetInGroup_0}}))},$[17]=boundRect,$[18]=handleTrackEvent,$[19]=selectedElements,$[20]=selectedElementsWithFrame,$[21]=updateElements,$[22]=t7):t7=$[22];const handleAlignCenter=t7;let t8;$[23]!==boundRect||$[24]!==handleTrackEvent||$[25]!==selectedElements||$[26]!==selectedElementsWithFrame||$[27]!==updateElements?(t8=()=>{handleTrackEvent("middle");const centerY=(boundRect.endY+boundRect.startY)/2;updateElements((properties_1=>{const{id:id_2,height:height_1,groupId:groupId_2}=properties_1,groupRect_1=groupId_2?(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_4__.A)(selectedElements.filter((el_2=>el_2.groupId===groupId_2))):null,calcHeight_0=groupId_2?groupRect_1.height:height_1,element_1=selectedElementsWithFrame.find((item_2=>item_2.id===id_2)),offsetInGroup_1=groupId_2?element_1.frameY-groupRect_1.startY:0;return{y:centerY-calcHeight_0/2+offsetInGroup_1}}))},$[23]=boundRect,$[24]=handleTrackEvent,$[25]=selectedElements,$[26]=selectedElementsWithFrame,$[27]=updateElements,$[28]=t8):t8=$[28];const handleAlignMiddle=t8;let t9;$[29]!==boundRect||$[30]!==handleTrackEvent||$[31]!==selectedElementsWithFrame||$[32]!==updateElements?(t9=()=>{handleTrackEvent("horizontal_distribution");const sortedElementsWithFrame=[...selectedElementsWithFrame];sortedElementsWithFrame.sort(_temp2);const elementWidthSum=sortedElementsWithFrame.reduce(_temp3,0),commonSpaceWidth=boundRect.width-elementWidthSum,commonSpaceWidthPerElement=(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_5__.GU)(commonSpaceWidth/(sortedElementsWithFrame.length-1)),updatedX={};let offsetX=0;sortedElementsWithFrame.forEach(((element_3,index)=>{const{id:id_3,x:x_0,width:width_2,frameWidth:frameWidth_1}=element_3;0===index||index===sortedElementsWithFrame.length-1?(updatedX[id_3]={x:x_0},offsetX=x_0):updatedX[id_3]={x:offsetX+(frameWidth_1-width_2)/2},offsetX+=frameWidth_1+commonSpaceWidthPerElement})),updateElements((t10=>{const{id:id_4}=t10;return updatedX[id_4]}))},$[29]=boundRect,$[30]=handleTrackEvent,$[31]=selectedElementsWithFrame,$[32]=updateElements,$[33]=t9):t9=$[33];const handleHorizontalDistribution=t9;let t10;$[34]!==boundRect||$[35]!==handleTrackEvent||$[36]!==selectedElementsWithFrame||$[37]!==updateElements?(t10=()=>{handleTrackEvent("vertical_distribution");const sortedElementsWithFrame_0=[...selectedElementsWithFrame];sortedElementsWithFrame_0.sort(_temp4);const elementHeightSum=sortedElementsWithFrame_0.reduce(_temp5,0),commonSpaceHeight=boundRect.height-elementHeightSum,commonSpaceHeightPerElement=(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_5__.GU)(commonSpaceHeight/(sortedElementsWithFrame_0.length-1)),updatedY={};let offsetY=0;sortedElementsWithFrame_0.forEach(((element_5,index_0)=>{const{id:id_5,y:y_0,height:height_2,frameHeight:frameHeight_1}=element_5;0===index_0||index_0===sortedElementsWithFrame_0.length-1?(updatedY[id_5]={y:y_0},offsetY=y_0):updatedY[id_5]={y:offsetY+(frameHeight_1-height_2)/2},offsetY+=frameHeight_1+commonSpaceHeightPerElement})),updateElements((t11=>{const{id:id_6}=t11;return updatedY[id_6]}))},$[34]=boundRect,$[35]=handleTrackEvent,$[36]=selectedElementsWithFrame,$[37]=updateElements,$[38]=t10):t10=$[38];const handleVerticalDistribution=t10;let t11,t12,t13,t14,t15;return $[39]!==handleAlign?(t11=()=>handleAlign(ALIGNMENT_LEFT),$[39]=handleAlign,$[40]=t11):t11=$[40],$[41]!==handleAlign?(t12=()=>handleAlign(ALIGNMENT_RIGHT),t13=()=>handleAlign(ALIGNMENT_TOP),$[41]=handleAlign,$[42]=t12,$[43]=t13):(t12=$[42],t13=$[43]),$[44]!==handleAlign?(t14=()=>handleAlign(ALIGNMENT_BOTTOM),$[44]=handleAlign,$[45]=t14):t14=$[45],$[46]!==handleAlignCenter||$[47]!==handleAlignMiddle||$[48]!==handleHorizontalDistribution||$[49]!==handleVerticalDistribution||$[50]!==isDistributionEnabled||$[51]!==t11||$[52]!==t12||$[53]!==t13||$[54]!==t14?(t15={isDistributionEnabled,handleAlignLeft:t11,handleAlignCenter,handleAlignRight:t12,handleAlignTop:t13,handleAlignMiddle,handleAlignBottom:t14,handleHorizontalDistribution,handleVerticalDistribution},$[46]=handleAlignCenter,$[47]=handleAlignMiddle,$[48]=handleHorizontalDistribution,$[49]=handleVerticalDistribution,$[50]=isDistributionEnabled,$[51]=t11,$[52]=t12,$[53]=t13,$[54]=t14,$[55]=t15):t15=$[55],t15}},"./packages/story-editor/src/components/panels/design/border/shared.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>DEFAULT_BORDER});const DEFAULT_BORDER={left:0,right:0,top:0,bottom:0,lockedWidth:!0,color:(0,__webpack_require__("./packages/patterns/src/createSolid.ts").A)(0,0,0)}},"./packages/story-editor/src/components/panels/design/sizePosition/opacity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,s:()=>MIN_MAX});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/icons/color_drop.svg"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/components/input/numericInput.tsx"),_shared_getCommonValue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/components/panels/shared/getCommonValue.js"),_shared_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/components/panels/shared/styles.js"),_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/story-editor/src/constants/index.ts");const MIN_MAX={OPACITY:{MIN:0,MAX:100}};function defaultOpacity({opacity}){return void 0!==opacity?opacity:MIN_MAX.OPACITY.MAX}function OpacityControls(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(13),{selectedElements,pushUpdate}=t0;let t1;$[0]!==selectedElements?(t1=(0,_shared_getCommonValue__WEBPACK_IMPORTED_MODULE_3__.A)(selectedElements,defaultOpacity),$[0]=selectedElements,$[1]=t1):t1=$[1];const opacity=t1;let t2,t3;$[2]!==pushUpdate?(t2=(evt,value)=>pushUpdate({opacity:value??100},!0),t3=[pushUpdate],$[2]=pushUpdate,$[3]=t2,$[4]=t3):(t2=$[3],t3=$[4]);const handleChange=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t2,t3);let t4,t5,t6;$[5]===Symbol.for("react.memo_cache_sentinel")?(t4=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.A,null),t5=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_7__._x)("%","Percentage","web-stories"),$[5]=t4,$[6]=t5):(t4=$[5],t5=$[6]),$[7]===Symbol.for("react.memo_cache_sentinel")?(t6=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_7__.__)("Opacity in percent","web-stories"),$[7]=t6):t6=$[7];const t7=opacity===_constants__WEBPACK_IMPORTED_MODULE_5__.jW?_constants__WEBPACK_IMPORTED_MODULE_5__.Q6:"",t8=opacity===_constants__WEBPACK_IMPORTED_MODULE_5__.jW;let t9;return $[8]!==handleChange||$[9]!==opacity||$[10]!==t7||$[11]!==t8?(t9=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.A,{suffix:t4,unit:t5,value:opacity,onChange:handleChange,min:MIN_MAX.OPACITY.MIN,max:MIN_MAX.OPACITY.MAX,"aria-label":t6,placeholder:t7,isIndeterminate:t8,containerStyleOverride:_shared_styles__WEBPACK_IMPORTED_MODULE_4__.t}),$[8]=handleChange,$[9]=opacity,$[10]=t7,$[11]=t8,$[12]=t9):t9=$[12],t9}OpacityControls.propTypes={selectedElements:prop_types__WEBPACK_IMPORTED_MODULE_9___default().array.isRequired,pushUpdate:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func.isRequired};const __WEBPACK_DEFAULT_EXPORT__=OpacityControls},"./packages/story-editor/src/components/panels/design/sizePosition/radius.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,w:()=>DEFAULT_BORDER_RADIUS});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/design-system/src/components/button/toggleButton.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/design-system/src/icons/corner.svg"),_googleforcreators_masks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/masks/src/index.ts"),_form_stackable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/components/form/stackable/index.js"),_shared_useCommonObjectValue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/story-editor/src/components/panels/shared/useCommonObjectValue.js"),_shared_styles__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/story-editor/src/components/panels/shared/styles.js"),_tooltip__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/story-editor/src/components/tooltip/index.js"),_constants__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/story-editor/src/constants/index.ts");const DEFAULT_BORDER_RADIUS={topLeft:0,topRight:0,bottomRight:0,bottomLeft:0,locked:!0},FlexContainer=styled_components__WEBPACK_IMPORTED_MODULE_9__.Ay.div.withConfig({displayName:"radius__FlexContainer",componentId:"sc-10ryvqs-0"})(["display:flex;"]),LockContainer=styled_components__WEBPACK_IMPORTED_MODULE_9__.Ay.div.withConfig({displayName:"radius__LockContainer",componentId:"sc-10ryvqs-1"})(["position:relative;display:flex;align-items:center;width:32px;margin-left:8px;"]),StyledLockToggle=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.m).withConfig({displayName:"radius__StyledLockToggle",componentId:"sc-10ryvqs-2"})(["",";"],_shared_styles__WEBPACK_IMPORTED_MODULE_6__.Y),TopLeft=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__.A).withConfig({displayName:"radius__TopLeft",componentId:"sc-10ryvqs-3"})(["transform:rotate(90deg);"]),TopRight=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__.A).withConfig({displayName:"radius__TopRight",componentId:"sc-10ryvqs-4"})(["transform:rotate(180deg);"]),BottomRight=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__.A).withConfig({displayName:"radius__BottomRight",componentId:"sc-10ryvqs-5"})(["transform:rotate(270deg);"]);function RadiusControls(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(48),{selectedElements,pushUpdateForObject,stackableGroupStyleOverride}=t0,borderRadius=(0,_shared_useCommonObjectValue__WEBPACK_IMPORTED_MODULE_5__.A)(selectedElements,"borderRadius",DEFAULT_BORDER_RADIUS),allSupportBorder=selectedElements.every(_temp),lockRadius=!0===borderRadius.locked;let t1,t2;$[0]!==lockRadius||$[1]!==pushUpdateForObject?(t1=(name,value)=>{pushUpdateForObject("borderRadius",lockRadius?{topLeft:value,topRight:value,bottomRight:value,bottomLeft:value}:{[name]:value},DEFAULT_BORDER_RADIUS,!0)},t2=[pushUpdateForObject,lockRadius],$[0]=lockRadius,$[1]=pushUpdateForObject,$[2]=t1,$[3]=t2):(t1=$[2],t2=$[3]);const handleChange=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t1,t2);let t3,t4;$[4]!==borderRadius.topLeft||$[5]!==pushUpdateForObject?(t3=locked=>{const newRadius_0=locked?{locked,topLeft:borderRadius.topLeft,topRight:borderRadius.topLeft,bottomRight:borderRadius.topLeft,bottomLeft:borderRadius.topLeft}:{locked};pushUpdateForObject("borderRadius",newRadius_0,DEFAULT_BORDER_RADIUS,!0)},$[4]=borderRadius.topLeft,$[5]=pushUpdateForObject,$[6]=t3):t3=$[6],$[7]!==borderRadius||$[8]!==pushUpdateForObject?(t4=[pushUpdateForObject,borderRadius],$[7]=borderRadius,$[8]=pushUpdateForObject,$[9]=t4):t4=$[9];const handleLockChange=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t3,t4);if(!allSupportBorder)return null;let t5;$[10]!==lockRadius?(t5=lockRadius?(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Corner Radius","web-stories"):(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Top left corner radius","web-stories"),$[10]=lockRadius,$[11]=t5):t5=$[11];const firstInputLabel=t5;let t6;$[12]===Symbol.for("react.memo_cache_sentinel")?(t6=react__WEBPACK_IMPORTED_MODULE_0__.createElement(TopLeft,null),$[12]=t6):t6=$[12];const t7=borderRadius.topLeft===_constants__WEBPACK_IMPORTED_MODULE_8__.jW?"":borderRadius.topLeft;let t8;$[13]!==handleChange?(t8=(_,value_0)=>handleChange("topLeft",value_0),$[13]=handleChange,$[14]=t8):t8=$[14];const t9=borderRadius.topLeft===_constants__WEBPACK_IMPORTED_MODULE_8__.jW?_constants__WEBPACK_IMPORTED_MODULE_8__.Q6:"",t10=borderRadius.topLeft===_constants__WEBPACK_IMPORTED_MODULE_8__.jW;let t11,t12,t13,t14,t15;$[15]!==firstInputLabel||$[16]!==t10||$[17]!==t7||$[18]!==t8||$[19]!==t9?(t11=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_form_stackable__WEBPACK_IMPORTED_MODULE_4__.H,{suffix:t6,value:t7,"aria-label":firstInputLabel,onChange:t8,placeholder:t9,isIndeterminate:t10}),$[15]=firstInputLabel,$[16]=t10,$[17]=t7,$[18]=t8,$[19]=t9,$[20]=t11):t11=$[20],$[21]!==borderRadius.bottomLeft||$[22]!==borderRadius.bottomRight||$[23]!==borderRadius.topRight||$[24]!==handleChange||$[25]!==lockRadius?(t12=!lockRadius&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_form_stackable__WEBPACK_IMPORTED_MODULE_4__.H,{suffix:react__WEBPACK_IMPORTED_MODULE_0__.createElement(TopRight,null),value:borderRadius.topRight===_constants__WEBPACK_IMPORTED_MODULE_8__.jW?"":borderRadius.topRight,"aria-label":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Top right corner radius","web-stories"),onChange:(__0,value_1)=>handleChange("topRight",value_1),placeholder:borderRadius.topRight===_constants__WEBPACK_IMPORTED_MODULE_8__.jW?_constants__WEBPACK_IMPORTED_MODULE_8__.Q6:"",isIndeterminate:borderRadius.topRight===_constants__WEBPACK_IMPORTED_MODULE_8__.jW}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_form_stackable__WEBPACK_IMPORTED_MODULE_4__.H,{value:borderRadius.bottomLeft===_constants__WEBPACK_IMPORTED_MODULE_8__.jW?"":borderRadius.bottomLeft,"aria-label":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Bottom left corner radius","web-stories"),onChange:(__1,value_2)=>handleChange("bottomLeft",value_2),placeholder:borderRadius.bottomLeft===_constants__WEBPACK_IMPORTED_MODULE_8__.jW?_constants__WEBPACK_IMPORTED_MODULE_8__.Q6:"",suffix:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__.A,null),isIndeterminate:borderRadius.bottomLeft===_constants__WEBPACK_IMPORTED_MODULE_8__.jW}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_form_stackable__WEBPACK_IMPORTED_MODULE_4__.H,{value:borderRadius.bottomRight===_constants__WEBPACK_IMPORTED_MODULE_8__.jW?"":borderRadius.bottomRight,"aria-label":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Bottom right corner radius","web-stories"),onChange:(__2,value_3)=>handleChange("bottomRight",value_3),placeholder:borderRadius.bottomRight===_constants__WEBPACK_IMPORTED_MODULE_8__.jW?_constants__WEBPACK_IMPORTED_MODULE_8__.Q6:"",suffix:react__WEBPACK_IMPORTED_MODULE_0__.createElement(BottomRight,null),isIndeterminate:borderRadius.bottomRight===_constants__WEBPACK_IMPORTED_MODULE_8__.jW})),$[21]=borderRadius.bottomLeft,$[22]=borderRadius.bottomRight,$[23]=borderRadius.topRight,$[24]=handleChange,$[25]=lockRadius,$[26]=t12):t12=$[26],$[27]!==lockRadius||$[28]!==stackableGroupStyleOverride||$[29]!==t11||$[30]!==t12?(t13=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_form_stackable__WEBPACK_IMPORTED_MODULE_4__.U,{stackableGroupStyleOverride,locked:lockRadius},t11,t12),$[27]=lockRadius,$[28]=stackableGroupStyleOverride,$[29]=t11,$[30]=t12,$[31]=t13):t13=$[31],$[32]===Symbol.for("react.memo_cache_sentinel")?(t14=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Toggle consistent corner radius","web-stories"),$[32]=t14):t14=$[32],$[33]!==borderRadius.locked?(t15=borderRadius.locked.toString(),$[33]=borderRadius.locked,$[34]=t15):t15=$[34];const t16=borderRadius.locked;let t17,t18,t19,t20,t21;return $[35]!==borderRadius.locked||$[36]!==handleLockChange?(t17=()=>handleLockChange(!borderRadius.locked),$[35]=borderRadius.locked,$[36]=handleLockChange,$[37]=t17):t17=$[37],$[38]===Symbol.for("react.memo_cache_sentinel")?(t18=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Toggle consistent corner radius","web-stories"),$[38]=t18):t18=$[38],$[39]!==borderRadius.locked||$[40]!==t17?(t19=react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledLockToggle,{isLocked:t16,onClick:t17,"aria-label":t18}),$[39]=borderRadius.locked,$[40]=t17,$[41]=t19):t19=$[41],$[42]!==t15||$[43]!==t19?(t20=react__WEBPACK_IMPORTED_MODULE_0__.createElement(LockContainer,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tooltip__WEBPACK_IMPORTED_MODULE_7__.A,{title:t14,key:t15},t19)),$[42]=t15,$[43]=t19,$[44]=t20):t20=$[44],$[45]!==t13||$[46]!==t20?(t21=react__WEBPACK_IMPORTED_MODULE_0__.createElement(FlexContainer,null,t13,t20),$[45]=t13,$[46]=t20,$[47]=t21):t21=$[47],t21}function _temp(el){return(0,_googleforcreators_masks__WEBPACK_IMPORTED_MODULE_3__.Fn)(el)}RadiusControls.propTypes={selectedElements:prop_types__WEBPACK_IMPORTED_MODULE_13___default().array.isRequired,pushUpdateForObject:prop_types__WEBPACK_IMPORTED_MODULE_13___default().func.isRequired,stackableGroupStyleOverride:prop_types__WEBPACK_IMPORTED_MODULE_13___default().array};const __WEBPACK_DEFAULT_EXPORT__=RadiusControls},"./packages/story-editor/src/components/panels/design/textStyle/font.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>MIN_MAX,A:()=>textStyle_font});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),src=__webpack_require__("./packages/react/src/index.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),numericInput=__webpack_require__("./packages/design-system/src/components/input/numericInput.tsx"),dropdown=__webpack_require__("./packages/design-system/src/components/dropDown/dropdown.tsx"),dom_src=__webpack_require__("./packages/dom/src/index.ts"),range=__webpack_require__("./packages/units/src/range.ts"),font=__webpack_require__("./packages/story-editor/src/app/font/index.ts"),components_form=__webpack_require__("./packages/story-editor/src/components/form/index.js"),styles=__webpack_require__("./packages/story-editor/src/components/panels/shared/styles.js"),shared=__webpack_require__("./packages/story-editor/src/components/panels/shared/index.js"),storyFontPicker=__webpack_require__("./packages/story-editor/src/components/storyFontPicker/index.js"),constants=__webpack_require__("./packages/story-editor/src/constants/index.ts"),useRichTextFormatting=__webpack_require__("./packages/story-editor/src/components/panels/design/textStyle/useRichTextFormatting.js");const textStyle_getFontWeights=function getFontWeights(font){const defaultFontWeights=[{label:constants.UE[400],value:"400"}];return font?.weights?font.weights.map((weight=>({label:constants.UE[weight],value:weight.toString()}))):defaultFontWeights},MIN_MAX={FONT_SIZE:{MIN:8,MAX:800}},Space=styled_components_browser_esm.Ay.div.withConfig({displayName:"font__Space",componentId:"sc-1upk4a3-0"})(["flex:0 0 10px;"]),StyledNumericInput=(0,styled_components_browser_esm.Ay)(numericInput.A).withConfig({displayName:"font__StyledNumericInput",componentId:"sc-1upk4a3-1"})(["flex-basis:80px;text-align:center;"]),StyledDropDown=(0,styled_components_browser_esm.Ay)(dropdown.A).withConfig({displayName:"font__StyledDropDown",componentId:"sc-1upk4a3-2"})(["background-color:transparent;"]);function FontControls(t0){const $=(0,dist.c)(40),{selectedElements,pushUpdate,highlightStylesOverride,fontDropdownRef}=t0;let t1;$[0]!==selectedElements?(t1=(0,shared.Bl)(selectedElements,_temp),$[0]=selectedElements,$[1]=t1):t1=$[1];const fontFamily=t1;let t2;$[2]!==selectedElements?(t2=(0,shared.Bl)(selectedElements,"fontSize"),$[2]=selectedElements,$[3]=t2):t2=$[3];const fontSize=t2,{textInfo:t3,handlers:t4}=(0,useRichTextFormatting.A)(selectedElements,pushUpdate),{fontWeight,isItalic}=t3,{handleSelectFontWeight}=t4,{fonts:t5,maybeEnqueueFontStyle:maybeEnqueueFontStyle_0,getFontByName:getFontByName_0}=(0,font.Ln)(_temp2);let t6;$[4]!==t5?(t6=void 0===t5?[]:t5,$[4]=t5,$[5]=t6):t6=$[5];const fonts_0=t6;let t7,t8;$[6]!==fontFamily||$[7]!==getFontByName_0?(t7=()=>textStyle_getFontWeights(getFontByName_0(fontFamily)),t8=[getFontByName_0,fontFamily],$[6]=fontFamily,$[7]=getFontByName_0,$[8]=t7,$[9]=t8):(t7=$[8],t8=$[9]);const fontWeights=(0,src.Kr)(t7,t8),fontStyle=isItalic?"italic":"normal";let t10,t9;$[10]!==fontStyle||$[11]!==handleSelectFontWeight||$[12]!==maybeEnqueueFontStyle_0||$[13]!==selectedElements?(t9=async(evt,value)=>{await maybeEnqueueFontStyle_0(selectedElements.map((t11=>{const{font:font_0,content}=t11;return{font:font_0,fontStyle,fontWeight:Number.parseInt(value),content:(0,dom_src._e)(content)}}))),handleSelectFontWeight(value)},t10=[fontStyle,handleSelectFontWeight,maybeEnqueueFontStyle_0,selectedElements],$[10]=fontStyle,$[11]=handleSelectFontWeight,$[12]=maybeEnqueueFontStyle_0,$[13]=selectedElements,$[14]=t10,$[15]=t9):(t10=$[14],t9=$[15]);const handleFontWeightPickerChange=(0,src.hb)(t9,t10);let t11,t12,t13,t14,t15;$[16]===Symbol.for("react.memo_cache_sentinel")?(t11=[],$[16]=t11):t11=$[16],(0,components_form.jm)(_temp3,t11),$[17]!==fontDropdownRef||$[18]!==fonts_0||$[19]!==highlightStylesOverride||$[20]!==selectedElements?(t12=fonts_0&&react.createElement(components_form.fI,null,react.createElement(storyFontPicker.A,{ref:fontDropdownRef,highlightStylesOverride,showDropdownLabel:!0,selectedElements})),$[17]=fontDropdownRef,$[18]=fonts_0,$[19]=highlightStylesOverride,$[20]=selectedElements,$[21]=t12):t12=$[21],$[22]!==fontWeight||$[23]!==fontWeights||$[24]!==handleFontWeightPickerChange?(t13=fontWeights&&react.createElement(react.Fragment,null,react.createElement(StyledDropDown,{ariaLabel:(0,i18n.__)("Font weight","web-stories"),placeholder:constants.Q6,options:fontWeights,selectedValue:constants.jW===fontWeight?"":fontWeight,onMenuItemClick:handleFontWeightPickerChange,selectButtonStylesOverride:styles.Y}),react.createElement(Space,null)),$[22]=fontWeight,$[23]=fontWeights,$[24]=handleFontWeightPickerChange,$[25]=t13):t13=$[25],$[26]===Symbol.for("react.memo_cache_sentinel")?(t14=(0,i18n.__)("Font size","web-stories"),$[26]=t14):t14=$[26],$[27]!==pushUpdate?(t15=(evt_0,value_0)=>pushUpdate({fontSize:value_0},!0),$[27]=pushUpdate,$[28]=t15):t15=$[28];const t16=constants.jW===fontSize,t17=constants.jW===fontSize?constants.Q6:null;let t18,t19,t20;return $[29]!==fontSize||$[30]!==t15||$[31]!==t16||$[32]!==t17?(t18=react.createElement(StyledNumericInput,{"aria-label":t14,isFloat:!0,value:fontSize,onChange:t15,min:MIN_MAX.FONT_SIZE.MIN,max:MIN_MAX.FONT_SIZE.MAX,isIndeterminate:t16,placeholder:t17,containerStyleOverride:styles.t}),$[29]=fontSize,$[30]=t15,$[31]=t16,$[32]=t17,$[33]=t18):t18=$[33],$[34]!==t13||$[35]!==t18?(t19=react.createElement(components_form.fI,null,t13,t18),$[34]=t13,$[35]=t18,$[36]=t19):t19=$[36],$[37]!==t12||$[38]!==t19?(t20=react.createElement(react.Fragment,null,t12,t19),$[37]=t12,$[38]=t19,$[39]=t20):t20=$[39],t20}function _temp3(t0){const{fontSize:newFontSize}=t0;return{fontSize:(0,range.qE)(newFontSize,MIN_MAX.FONT_SIZE)}}function _temp2(t0){const{actions:t1,state:t2}=t0,{maybeEnqueueFontStyle,getFontByName}=t1,{fonts}=t2;return{maybeEnqueueFontStyle,getFontByName,fonts}}function _temp(t0){const{font}=t0;return font?.family}FontControls.propTypes={selectedElements:prop_types_default().array.isRequired,pushUpdate:prop_types_default().func.isRequired,fontDropdownRef:prop_types_default().func,highlightStylesOverride:prop_types_default().array};const textStyle_font=FontControls},"./packages/story-editor/src/components/panels/design/textStyle/useRichTextFormatting.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/patterns/src/isPatternEqual.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),_googleforcreators_rich_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/rich-text/src/index.ts"),_app__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/story-editor/src/app/index.js"),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/constants/index.ts");function reduceWithMultiple(reduced,info){return Object.fromEntries(Object.keys(info).map((key=>{const wasMultiple=reduced[key]===_constants__WEBPACK_IMPORTED_MODULE_3__.jW,areDifferent=void 0!==reduced[key]&&!function isEqual(a,b){const isAPattern=a&&"object"==typeof a&&(a.type||a.color),isBPattern=b&&"object"==typeof b&&(b.type||b.color);return isAPattern&&isBPattern?(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_4__.A)(a,b):a===b}(reduced[key],info[key]);return wasMultiple||areDifferent?[key,_constants__WEBPACK_IMPORTED_MODULE_3__.jW]:[key,info[key]]})))}const __WEBPACK_DEFAULT_EXPORT__=function useRichTextFormatting(selectedElements,pushUpdate){const{hasCurrentEditor,selectionInfo,selectionActions}=(0,_googleforcreators_rich_text__WEBPACK_IMPORTED_MODULE_1__.z$)((({state,actions})=>({hasCurrentEditor:state.hasCurrentEditor,selectionInfo:state.selectionInfo,selectionActions:actions.selectionActions}))),{clearEditing:clearEditing_0}=(0,_app__WEBPACK_IMPORTED_MODULE_2__.yu)((({actions:{clearEditing}})=>({clearEditing}))),textInfo=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.Kr)((()=>hasCurrentEditor?selectionInfo:selectedElements.map((({content})=>content)).map(_googleforcreators_rich_text__WEBPACK_IMPORTED_MODULE_1__.cM).reduce(reduceWithMultiple,{})),[hasCurrentEditor,selectionInfo,selectedElements]),push=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)(((updater,...args)=>pushUpdate((({content:content_0})=>({content:updater(content_0,...args)})),!0)),[pushUpdate]),queuedPushRef=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.li)(null),queuePush=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)(((...args_0)=>{queuedPushRef.current=args_0}),[queuedPushRef]);(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.vJ)((()=>{const pushArgs=queuedPushRef.current;pushArgs&&(push(...pushArgs),queuedPushRef.current=null)}),[selectedElements,queuedPushRef,push]);const handlers=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.Kr)((()=>{const htmlFormatters=(0,_googleforcreators_rich_text__WEBPACK_IMPORTED_MODULE_1__.$d)();return hasCurrentEditor?{handleClickBold:()=>selectionActions.toggleBoldInSelection(),handleSelectFontWeight:selectionActions.setFontWeightInSelection,handleClickItalic:selectionActions.toggleItalicInSelection,handleClickUnderline:selectionActions.toggleUnderlineInSelection,handleClickUppercase:selectionActions.toggleUppercaseInSelection,handleSetLetterSpacing:selectionActions.setLetterSpacingInSelection,handleSetColor:selectionActions.setColorInSelection,handleSetGradientColor:selectionActions.setGradientColorInSelection,handleResetFontWeight:async weight=>{await clearEditing_0(),queuePush(htmlFormatters.setFontWeight,weight)}}:{handleClickBold:flag=>push(htmlFormatters.toggleBold,flag),handleSelectFontWeight:weight_0=>push(htmlFormatters.setFontWeight,weight_0),handleClickItalic:flag_0=>push(htmlFormatters.toggleItalic,flag_0),handleClickUnderline:flag_1=>push(htmlFormatters.toggleUnderline,flag_1),handleClickUppercase:flag_2=>push(htmlFormatters.toggleUppercase,flag_2),handleSetLetterSpacing:letterSpacing=>push(htmlFormatters.setLetterSpacing,letterSpacing),handleSetColor:color=>push(htmlFormatters.setColor,color),handleSetGradientColor:color_0=>push(htmlFormatters.setGradientColor,color_0),handleResetFontWeight:weight_1=>push(htmlFormatters.setFontWeight,weight_1)}}),[hasCurrentEditor,selectionActions,push,clearEditing_0,queuePush]),hasText=selectedElements.find((({type})=>"text"===type));return(0,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.pP)({key:["mod+b","mod+u","mod+i"]},(({key})=>{if(hasText)switch(key){case"b":handlers.handleClickBold();break;case"i":handlers.handleClickItalic();break;case"u":handlers.handleClickUnderline()}}),[handlers,hasText]),{textInfo,handlers}}},"./packages/story-editor/src/components/panels/shared/flipControls.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/button/toggleButton.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/icons/mirror_leftright.svg"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/design-system/src/icons/mirror_updown.svg"),_tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/components/tooltip/index.js"),_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/components/panels/shared/styles.js");const ControlsContainer=styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay.div.withConfig({displayName:"flipControls__ControlsContainer",componentId:"sc-1gcq876-0"})(["display:flex;justify-content:left;align-items:flex-start;"]),Space=styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay.div.withConfig({displayName:"flipControls__Space",componentId:"sc-1gcq876-1"})(["width:8px;"]),StyledToggleButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.f).withConfig({displayName:"flipControls__StyledToggleButton",componentId:"sc-1gcq876-2"})(["",";"],_styles__WEBPACK_IMPORTED_MODULE_4__.Y);function FlipControls(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(27),{value,onChange}=t0;let t1,t2;$[0]!==value?(t1=prop=>!0===value[prop],t2=[value],$[0]=value,$[1]=t1,$[2]=t2):(t1=$[1],t2=$[2]);const getCurrentFlipValue=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t1,t2);let t3;$[3]===Symbol.for("react.memo_cache_sentinel")?(t3=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_7__.__)("Flip horizontally","web-stories"),$[3]=t3):t3=$[3];const t4=!0===value.horizontal;let t5,t6,t7,t8,t9,t10;$[4]!==getCurrentFlipValue||$[5]!==onChange||$[6]!==value?(t5=()=>onChange({...value,horizontal:!getCurrentFlipValue("horizontal")}),$[4]=getCurrentFlipValue,$[5]=onChange,$[6]=value,$[7]=t5):t5=$[7],$[8]===Symbol.for("react.memo_cache_sentinel")?(t6=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_7__.__)("Flip horizontally","web-stories"),t7=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.A,null),$[8]=t6,$[9]=t7):(t6=$[8],t7=$[9]),$[10]!==t4||$[11]!==t5?(t8=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tooltip__WEBPACK_IMPORTED_MODULE_3__.A,{title:t3},react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledToggleButton,{variant:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.Ak.Square,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.Mp.Small,isToggled:t4,onClick:t5,"aria-label":t6},t7)),$[10]=t4,$[11]=t5,$[12]=t8):t8=$[12],$[13]===Symbol.for("react.memo_cache_sentinel")?(t9=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Space,null),$[13]=t9):t9=$[13],$[14]===Symbol.for("react.memo_cache_sentinel")?(t10=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_7__.__)("Flip vertically","web-stories"),$[14]=t10):t10=$[14];const t11=!0===value.vertical;let t12,t13,t14,t15,t16;return $[15]!==getCurrentFlipValue||$[16]!==onChange||$[17]!==value?(t12=()=>onChange({...value,vertical:!getCurrentFlipValue("vertical")}),$[15]=getCurrentFlipValue,$[16]=onChange,$[17]=value,$[18]=t12):t12=$[18],$[19]===Symbol.for("react.memo_cache_sentinel")?(t13=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_7__.__)("Flip vertically","web-stories"),t14=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.A,null),$[19]=t13,$[20]=t14):(t13=$[19],t14=$[20]),$[21]!==t11||$[22]!==t12?(t15=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tooltip__WEBPACK_IMPORTED_MODULE_3__.A,{title:t10},react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledToggleButton,{variant:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.Ak.Square,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.Mp.Small,isToggled:t11,onClick:t12,"aria-label":t13},t14)),$[21]=t11,$[22]=t12,$[23]=t15):t15=$[23],$[24]!==t15||$[25]!==t8?(t16=react__WEBPACK_IMPORTED_MODULE_0__.createElement(ControlsContainer,null,t8,t9,t15),$[24]=t15,$[25]=t8,$[26]=t16):t16=$[26],t16}FlipControls.propTypes={value:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func.isRequired};const __WEBPACK_DEFAULT_EXPORT__=FlipControls},"./packages/story-editor/src/components/panels/shared/getCommonObjectValue.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _getCommonValue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/story-editor/src/components/panels/shared/getCommonValue.js");const __WEBPACK_DEFAULT_EXPORT__=function getCommonObjectValue(list,property,defaultValue){const commonValue={},propertyObjects=list.map((element=>element[property]||defaultValue));return Object.keys(defaultValue).forEach((prop=>{commonValue[prop]=(0,_getCommonValue__WEBPACK_IMPORTED_MODULE_0__.A)(propertyObjects,prop)})),commonValue}},"./packages/story-editor/src/components/panels/shared/getCommonValue.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/story-editor/src/constants/index.ts");function ifDef(value,def){return void 0===value?def:value}const __WEBPACK_DEFAULT_EXPORT__=function getCommonValue(list,propertyOrFunc,def=void 0){const func="function"==typeof propertyOrFunc?propertyOrFunc:item=>item[propertyOrFunc],first=ifDef(func(list[0]),def);return list.every((el=>ifDef(func(el),def)===first))?first:_constants__WEBPACK_IMPORTED_MODULE_0__.jW}},"./packages/story-editor/src/components/panels/shared/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Yb:()=>flipControls.A,uF:()=>linkRelations,Bl:()=>getCommonValue.A,VY:()=>useCommonColorValue.A,dP:()=>useCommonObjectValue.A});var flipControls=__webpack_require__("./packages/story-editor/src/components/panels/shared/flipControls.js"),react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),checkbox_checkbox=__webpack_require__("./packages/design-system/src/components/checkbox/checkbox.tsx"),typography_link=__webpack_require__("./packages/design-system/src/components/typography/link/index.tsx"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),src=__webpack_require__("./packages/react/src/index.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),components_form=__webpack_require__("./packages/story-editor/src/components/form/index.js");const LinkTypes=[{key:"sponsored",title:(0,i18n.__)("Sponsored","web-stories")},{key:"nofollow",title:(0,i18n.__)("Nofollow","web-stories")}],CheckboxWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"linkRelations__CheckboxWrapper",componentId:"sc-123e3hl-0"})(["display:flex;padding:9px 0;"]),Label=styled_components_browser_esm.Ay.label.withConfig({displayName:"linkRelations__Label",componentId:"sc-123e3hl-1"})(["margin-left:12px;"]),StyledText=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).withConfig({displayName:"linkRelations__StyledText",componentId:"sc-123e3hl-2"})(["color:",";padding:8px 0;"],(({theme})=>theme.colors.fg.secondary));const linkRelations=function LinkRelations(t0){const $=(0,dist.c)(12),{rel,onChangeRel}=t0;let t1;$[0]===Symbol.for("react.memo_cache_sentinel")?(t1=(0,i18n.__)("https://developers.google.com/search/docs/advanced/guidelines/qualify-outbound-links?hl=en","web-stories"),$[0]=t1):t1=$[0];const relHelpLink=t1;let t2,t3;$[1]!==onChangeRel||$[2]!==rel?(t2=value=>{const newRel=rel.includes(value)?rel.filter((el=>el!==value)):[...rel,value];onChangeRel(newRel)},t3=[onChangeRel,rel],$[1]=onChangeRel,$[2]=rel,$[3]=t2,$[4]=t3):(t2=$[3],t3=$[4]);const onChange=(0,src.hb)(t2,t3);let t4,t5,t6,t7;return $[5]===Symbol.for("react.memo_cache_sentinel")?(t4=react.createElement(StyledText,{size:types.$.Small},(0,i18n.__)("Qualify outbound links","web-stories")),$[5]=t4):t4=$[5],$[6]!==onChange||$[7]!==rel?(t5=LinkTypes.map((t6=>{const{key,title}=t6;return react.createElement(CheckboxWrapper,{key},react.createElement(checkbox_checkbox.A,{id:key,name:key,checked:rel?.includes(key),onChange:()=>onChange(key)}),react.createElement(Label,{htmlFor:key},react.createElement(typography_text.E.Span,{size:types.$.Small},title)))})),$[6]=onChange,$[7]=rel,$[8]=t5):t5=$[8],$[9]===Symbol.for("react.memo_cache_sentinel")?(t6=react.createElement(typography_link.N,{rel:"noreferrer",target:"_blank",href:relHelpLink,size:types.$.XSmall},(0,i18n.__)("Learn more","web-stories")),$[9]=t6):t6=$[9],$[10]!==t5?(t7=react.createElement(components_form.fI,null,react.createElement("div",null,t4,t5,t6)),$[10]=t5,$[11]=t7):t7=$[11],t7};var getCommonValue=__webpack_require__("./packages/story-editor/src/components/panels/shared/getCommonValue.js"),useCommonColorValue=(__webpack_require__("./packages/story-editor/src/components/panels/shared/getCommonObjectValue.js"),__webpack_require__("./packages/story-editor/src/components/panels/shared/useCommonColorValue.js")),useCommonObjectValue=__webpack_require__("./packages/story-editor/src/components/panels/shared/useCommonObjectValue.js")},"./packages/story-editor/src/components/panels/shared/media/loopPanelContent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),uuid__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/checkbox/checkbox.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/theme/types.ts"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const StyledCheckbox=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.A).withConfig({displayName:"loopPanelContent__StyledCheckbox",componentId:"sc-4opv01-0"})(["",""],(({theme})=>`\n    input[type='checkbox']:focus-visible ~ div, input[type='checkbox']:focus ~ div {\n      box-shadow: 0px 0px 0 2px ${theme.colors.bg.secondary}, 0px 0px 0 4px ${theme.colors.border.focus} !important;\n    }\n  `)),Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"loopPanelContent__Wrapper",componentId:"sc-4opv01-1"})(["display:flex;gap:12px;align-items:center;"]);function LoopPanelContent(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(17);let loop,onChange,props,t1;$[0]!==t0?(({loop,className:t1,onChange,...props}=t0),$[0]=t0,$[1]=loop,$[2]=onChange,$[3]=props,$[4]=t1):(loop=$[1],onChange=$[2],props=$[3],t1=$[4]);const className=void 0===t1?"":t1,checkboxId=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.FF)(_temp);let t2,t3,t4,t5;return $[5]!==checkboxId||$[6]!==loop||$[7]!==onChange||$[8]!==props?(t2=react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledCheckbox,_extends({id:checkboxId,checked:loop,onChange},props)),$[5]=checkboxId,$[6]=loop,$[7]=onChange,$[8]=props,$[9]=t2):t2=$[9],$[10]===Symbol.for("react.memo_cache_sentinel")?(t3=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_5__.__)("Loop","web-stories"),$[10]=t3):t3=$[10],$[11]!==checkboxId?(t4=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.E.Label,{size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.$.Small,htmlFor:checkboxId},t3),$[11]=checkboxId,$[12]=t4):t4=$[12],$[13]!==className||$[14]!==t2||$[15]!==t4?(t5=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper,{className},t2,t4),$[13]=className,$[14]=t2,$[15]=t4,$[16]=t5):t5=$[16],t5}function _temp(){return`cb-${(0,uuid__WEBPACK_IMPORTED_MODULE_8__.A)()}`}LoopPanelContent.propTypes={onChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func.isRequired,className:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,loop:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool};const __WEBPACK_DEFAULT_EXPORT__=LoopPanelContent},"./packages/story-editor/src/components/panels/shared/useCommonColorValue.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/patterns/src/convertToCSS.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/patterns/src/generatePatternStyles.ts"),_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/story-editor/src/constants/index.ts");const __WEBPACK_DEFAULT_EXPORT__=function useCommonColorValue(list,property){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(4);let t0,t1;return $[0]!==list||$[1]!==property?(t0=()=>{const allValues=list.map((element=>element[property]));if(0===allValues.length)return null;if(1===allValues.length)return allValues[0];const uniqueValues={};return allValues.forEach((value=>{const serialized=(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_3__.A)((0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_4__.A)(value));serialized in uniqueValues||(uniqueValues[serialized]=value)})),1===Object.keys(uniqueValues).length?Object.values(uniqueValues)[0]:_constants__WEBPACK_IMPORTED_MODULE_2__.jW},t1=[list,property],$[0]=list,$[1]=property,$[2]=t0,$[3]=t1):(t0=$[2],t1=$[3]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Kr)(t0,t1)}},"./packages/story-editor/src/components/panels/shared/useCommonObjectValue.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_getCommonObjectValue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/story-editor/src/components/panels/shared/getCommonObjectValue.js");const __WEBPACK_DEFAULT_EXPORT__=function useCommonObjectValue(list,property,defaultValue){const commonValue=(0,_getCommonObjectValue__WEBPACK_IMPORTED_MODULE_1__.A)(list,property,defaultValue),parts=Object.keys(defaultValue).map((prop=>commonValue[prop]));return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.Kr)((()=>commonValue),parts)}},"./packages/story-editor/src/components/storyFontPicker/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>storyFontPicker});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),dom_src=__webpack_require__("./packages/dom/src/index.ts"),tracking_src=__webpack_require__("./packages/tracking/src/index.ts"),app=__webpack_require__("./packages/story-editor/src/app/index.js"),getUpdatedSizeAndPosition=__webpack_require__("./packages/story-editor/src/utils/getUpdatedSizeAndPosition.js"),useRichTextFormatting=__webpack_require__("./packages/story-editor/src/components/panels/design/textStyle/useRichTextFormatting.js");const textStyle_getClosestFontWeight=function getClosestFontWeight(existingWeight=400,availableWeights){return existingWeight=Number.parseInt(existingWeight),isNaN(Number.parseInt(existingWeight))?400:availableWeights&&0!==availableWeights.length?availableWeights.reduce(((a,b)=>{a=Number.parseInt(a),b=Number.parseInt(b);const aDiff=Math.abs(a-existingWeight),bDiff=Math.abs(b-existingWeight);return aDiff===bDiff?a<b?a:b:bDiff<aDiff?b:a})):existingWeight};var shared=__webpack_require__("./packages/story-editor/src/components/panels/shared/index.js"),fontPicker=__webpack_require__("./packages/story-editor/src/components/fontPicker/index.js"),updateProperties=__webpack_require__("./packages/story-editor/src/components/style/updateProperties.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const StoryFontPicker=(0,src.Rf)((function StoryFontPicker(t0,ref){const $=(0,dist.c)(25);let rest,selectedElements;$[0]!==t0?(({selectedElements,...rest}=t0),$[0]=t0,$[1]=rest,$[2]=selectedElements):(rest=$[1],selectedElements=$[2]);const{updateElementsById}=(0,app.P3)(_temp);let t1;$[3]!==selectedElements?(t1=selectedElements.map(_temp2),$[3]=selectedElements,$[4]=t1):t1=$[4];const selectedElementIds=t1;let t2,t3;$[5]!==selectedElementIds||$[6]!==updateElementsById?(t2=(update,commitValues)=>{updateElementsById({elementIds:selectedElementIds,properties:element=>{const updates=(0,updateProperties.A)(element,update,commitValues),sizeUpdates=(0,getUpdatedSizeAndPosition.A)({...element,...updates});return{...updates,...sizeUpdates}}})},t3=[updateElementsById,selectedElementIds],$[5]=selectedElementIds,$[6]=updateElementsById,$[7]=t2,$[8]=t3):(t2=$[7],t3=$[8]);const pushUpdate=(0,src.hb)(t2,t3),{textInfo:t4,handlers:t5}=(0,useRichTextFormatting.A)(selectedElements,pushUpdate),{fontWeight,isItalic}=t4,{handleResetFontWeight}=t5,{addRecentFont,maybeEnqueueFontStyle}=(0,app.Ln)(_temp3);let t6;$[9]!==selectedElements?(t6=(0,shared.Bl)(selectedElements,_temp4),$[9]=selectedElements,$[10]=t6):t6=$[10];const fontFamily=t6,fontStyle=isItalic?"italic":"normal";let t7,t8;$[11]!==addRecentFont||$[12]!==fontStyle||$[13]!==fontWeight||$[14]!==handleResetFontWeight||$[15]!==maybeEnqueueFontStyle||$[16]!==pushUpdate||$[17]!==selectedElements?(t7=async newFont=>{const{id:id_0,name,value,...newFontFormatted}=newFont;(0,tracking_src.sx)("font_family_changed",{name}),await maybeEnqueueFontStyle(selectedElements.map((t9=>{const{content}=t9;return{font:newFontFormatted,fontStyle,fontWeight,content:(0,dom_src._e)(content)}}))),addRecentFont(newFont),pushUpdate({font:newFontFormatted},!0);const newFontWeight=textStyle_getClosestFontWeight(400,newFontFormatted.weights);await handleResetFontWeight(newFontWeight)},t8=[addRecentFont,fontStyle,fontWeight,maybeEnqueueFontStyle,pushUpdate,selectedElements,handleResetFontWeight],$[11]=addRecentFont,$[12]=fontStyle,$[13]=fontWeight,$[14]=handleResetFontWeight,$[15]=maybeEnqueueFontStyle,$[16]=pushUpdate,$[17]=selectedElements,$[18]=t7,$[19]=t8):(t7=$[18],t8=$[19]);const onChange=(0,src.hb)(t7,t8);let t9;return $[20]!==fontFamily||$[21]!==onChange||$[22]!==ref||$[23]!==rest?(t9=react.createElement(fontPicker.A,_extends({onChange,currentValue:fontFamily},rest,{ref})),$[20]=fontFamily,$[21]=onChange,$[22]=ref,$[23]=rest,$[24]=t9):t9=$[24],t9}));StoryFontPicker.propTypes={highlightStylesOverride:prop_types_default().array};const storyFontPicker=StoryFontPicker;function _temp(t0){const{actions}=t0;return{updateElementsById:actions.updateElementsById}}function _temp2(t0){const{id}=t0;return id}function _temp3(t0){const{actions:actions_0}=t0;return{addRecentFont:actions_0.addRecentFont,maybeEnqueueFontStyle:actions_0.maybeEnqueueFontStyle}}function _temp4(t0){const{font}=t0;return font?.family}},"./packages/story-editor/src/components/style/updateProperties.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/story-editor/src/constants/index.ts");const __WEBPACK_DEFAULT_EXPORT__=function updateProperties(currentProperties,newPropertiesOrUpdater,commitValues){const newProperties="function"==typeof newPropertiesOrUpdater?newPropertiesOrUpdater(currentProperties):newPropertiesOrUpdater;if(!newProperties)return{};let updatedKeys=Object.keys(newProperties);return updatedKeys=updatedKeys.filter((key=>newProperties[key]!==_constants__WEBPACK_IMPORTED_MODULE_0__.jW)),commitValues&&(updatedKeys=updatedKeys.filter((key=>""!==newProperties[key]))),0===updatedKeys.length?{}:Object.fromEntries(updatedKeys.map((key=>[key,newProperties[key]])))}},"./packages/story-editor/src/components/videoTrim/useVideoTrim.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_videoTrimContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/story-editor/src/components/videoTrim/videoTrimContext.js");const __WEBPACK_DEFAULT_EXPORT__=function useVideoTrim(selector){return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.i7)(_videoTrimContext__WEBPACK_IMPORTED_MODULE_1__.A,selector??_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.D_)}},"./packages/story-editor/src/components/videoTrim/videoTrimContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./packages/react/src/index.ts").q6)({state:{},actions:{}})},"./packages/story-editor/src/utils/getUpdatedSizeAndPosition.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_units__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/units/src/dimensions.ts"),_googleforcreators_units__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/units/src/calcRotatedResizeOffset.ts"),_googleforcreators_element_library__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/element-library/src/index.ts");const __WEBPACK_DEFAULT_EXPORT__=function getUpdatedSizeAndPosition(properties){const{width,height:oldHeight,rotationAngle,x,y}=properties,newHeight=(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_1__.GU)((0,_googleforcreators_element_library__WEBPACK_IMPORTED_MODULE_0__.ru)(properties,width)),[dx,dy]=(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_2__.A)(rotationAngle,0,0,0,newHeight-oldHeight);return{height:newHeight,x:(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_1__.GU)(x+dx),y:(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_1__.GU)(y+dy)}}}}]);