"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[1642],{"./packages/design-system/src/icons/arrow_left.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgArrowLeft=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.422 10.856a.5.5 0 0 0-.702-.712l-5.571 5.5a.5.5 0 0 0 0 .712l5.57 5.5a.5.5 0 0 0 .703-.711L10.718 16.5H22.5a.5.5 0 1 0 0-1H10.718z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgArrowLeft)},"./packages/design-system/src/icons/arrow_right_curved.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgArrowRightCurved=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.281 9.144a.5.5 0 0 0-.703.712l4.704 4.644H15.5A6.5 6.5 0 0 0 9 21v1.5a.5.5 0 1 0 1 0V21a5.5 5.5 0 0 1 5.5-5.5h5.783l-4.705 4.645a.5.5 0 0 0 .703.711l5.57-5.5a.5.5 0 0 0 0-.711z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgArrowRightCurved)},"./packages/design-system/src/icons/arrows_leftright.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgArrowsLeftright=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.354 8.854a.5.5 0 0 0-.708-.708l-3.5 3.5a.5.5 0 0 0 0 .708l3.5 3.5a.5.5 0 0 0 .708-.708L5.707 12.5H17.5a.5.5 0 1 0 0-1H5.707zM23.646 16.854a.5.5 0 1 1 .707-.707l3.5 3.5a.5.5 0 0 1 0 .707l-3.5 3.5a.5.5 0 0 1-.707-.708l2.647-2.646H14.5a.5.5 0 1 1 0-1h11.793z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgArrowsLeftright)},"./packages/design-system/src/icons/color_drop.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgColorDrop=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M20.245 12.706 16 8.316l-4.245 4.39A6.35 6.35 0 0 0 10 17.087c0 1.554.585 3.193 1.755 4.404A5.9 5.9 0 0 0 16 23.317a5.9 5.9 0 0 0 4.245-1.826C21.415 20.28 22 18.641 22 17.087s-.585-3.17-1.755-4.381m-9.166 4.66c.007-1.553.56-2.999 1.415-3.877L16 9.831l3.64 3.784c.855.87 1.341 2.198 1.349 3.752z"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgColorDrop)},"./packages/design-system/src/icons/lock_closed.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgLockClosed=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 8a3 3 0 0 0-3 3v3h-1.5a1.5 1.5 0 0 0-1.5 1.5v7a1.5 1.5 0 0 0 1.5 1.5h9a1.5 1.5 0 0 0 1.5-1.5v-7a1.5 1.5 0 0 0-1.5-1.5H19v-3a3 3 0 0 0-3-3m2 6v-3a2 2 0 1 0-4 0v3zm-4.5 1h-2a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5h-7m2.5 5.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgLockClosed)},"./packages/design-system/src/icons/lock_open.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgLockOpen=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.816 8.415a3.023 3.023 0 0 0-4.161 1.129l-.255.447a.5.5 0 1 0 .87.494l.254-.447a2.023 2.023 0 0 1 2.786-.76 2.1 2.1 0 0 1 .75 2.844L16.964 14H11.5a1.5 1.5 0 0 0-1.5 1.5v7a1.5 1.5 0 0 0 1.5 1.5h9a1.5 1.5 0 0 0 1.5-1.5v-7a1.5 1.5 0 0 0-1.5-1.5h-2.379l.805-1.376.002-.005c.836-1.47.343-3.351-1.112-4.204M11.5 15a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5zm4.5 5.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgLockOpen)},"./packages/design-system/src/icons/pattern_linear.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,_circle2,_defs,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPatternLinear=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:16,cy:16,r:12,fill:"url(#a)"})),_circle2||(_circle2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:16,cy:16,r:11.5,stroke:"currentColor",strokeOpacity:.16})),_defs||(_defs=react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("linearGradient",{id:"a",x1:16,x2:16,y1:4,y2:35.8,gradientUnits:"userSpaceOnUse"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop",{stopColor:"currentColor",stopOpacity:.52}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop",{offset:.802,stopColor:"currentColor",stopOpacity:0}))))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPatternLinear)},"./packages/design-system/src/icons/pattern_radial.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,_circle2,_defs,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPatternRadial=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:16,cy:16,r:12,fill:"url(#a)"})),_circle2||(_circle2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:16,cy:16,r:11.5,stroke:"currentColor",strokeOpacity:.16})),_defs||(_defs=react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("radialGradient",{id:"a",cx:0,cy:0,r:1,gradientTransform:"rotate(90 0 16)scale(23.4)",gradientUnits:"userSpaceOnUse"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop",{stopColor:"currentColor",stopOpacity:.64}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop",{offset:.573,stopColor:"currentColor",stopOpacity:0}))))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPatternRadial)},"./packages/design-system/src/icons/pattern_solid.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPatternSolid=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:16,cy:16,r:11.5,fill:"currentColor",stroke:"currentColor"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPatternSolid)},"./packages/design-system/src/icons/pencil.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPencil=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m17.672 11.579-7.514 7.514a.5.5 0 0 0-.137.256l-.51 2.552a.5.5 0 0 0 .588.588l2.552-.51a.5.5 0 0 0 .255-.137l7.515-7.515zm3.346-2.64a1.5 1.5 0 0 0-2.12 0L9.45 18.386a1.5 1.5 0 0 0-.41.766l-.511 2.552a1.5 1.5 0 0 0 1.765 1.766l2.552-.51a1.5 1.5 0 0 0 .767-.411l9.446-9.447a1.5 1.5 0 0 0 0-2.121z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPencil)},"./packages/design-system/src/icons/pipette.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPipette=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M23.247 8.753a2.57 2.57 0 0 0-3.636 0l-2.075 2.076-1.682-1.683a.5.5 0 1 0-.707.708l7 7a.5.5 0 0 0 .707-.708l-1.682-1.682 2.075-2.075a2.57 2.57 0 0 0 0-3.636m-2.783 5.004 2.076-2.075a1.571 1.571 0 1 0-2.222-2.222l-2.075 2.076zm-5.05-.61a.5.5 0 0 1 0 .707L9.566 19.7a1.932 1.932 0 1 0 2.733 2.733l5.848-5.848a.5.5 0 1 1 .707.707l-5.848 5.848a2.932 2.932 0 1 1-4.147-4.147l5.848-5.848a.5.5 0 0 1 .707 0",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPipette)},"./packages/design-system/src/icons/plus.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPlus=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.5 9a.5.5 0 0 0-1 0v6.498h-7a.5.5 0 0 0 0 1h7v7.498a.5.5 0 1 0 1 0v-7.498h6.996a.5.5 0 1 0 0-1H16.5z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPlus)},"./packages/design-system/src/icons/plus_outline.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPlusOutline=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 9a7 7 0 1 0 0 14 7 7 0 0 0 0-14m-8 7a8 8 0 1 1 16 0 8 8 0 0 1-16 0m4 0a.5.5 0 0 1 .5-.5h3v-3a.5.5 0 0 1 1 0v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1-.5-.5",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPlusOutline)},"./packages/design-system/src/icons/tailed_rectangle.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgTailedRectangle=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"currentColor",d:"M6.5 7.095c0-.854.743-1.595 1.722-1.595h15.556c.98 0 1.722.741 1.722 1.595v15.81c0 .854-.743 1.595-1.722 1.595H19.8c-.92 0-1.856.356-2.367 1.211l-.894 1.499c-.23.387-.847.387-1.078 0l-.895-1.499c-.488-.819-1.397-1.311-2.366-1.311H8.222c-.98 0-1.722-.742-1.722-1.595z"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgTailedRectangle)},"./packages/design-system/src/components/button/toggleButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>ToggleButton,m:()=>LockToggle});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/icons/lock_closed.svg"),_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/icons/lock_open.svg"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/button/button.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function ToggleButton({isToggled=!1,type,...rest}){const actualType=type===_constants__WEBPACK_IMPORTED_MODULE_1__.VQ.Quaternary?type:isToggled?_constants__WEBPACK_IMPORTED_MODULE_1__.VQ.Secondary:_constants__WEBPACK_IMPORTED_MODULE_1__.VQ.Tertiary;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_2__.$,_extends({},rest,{type:actualType,"aria-pressed":isToggled,isToggled}))}function LockToggle({isLocked=!1,...rest}){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_2__.$,_extends({},rest,{"aria-pressed":isLocked,type:_constants__WEBPACK_IMPORTED_MODULE_1__.VQ.Tertiary,size:_constants__WEBPACK_IMPORTED_MODULE_1__.Mp.Small,variant:_constants__WEBPACK_IMPORTED_MODULE_1__.Ak.Square}),isLocked?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons__WEBPACK_IMPORTED_MODULE_3__.A,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons__WEBPACK_IMPORTED_MODULE_4__.A,null))}},"./packages/design-system/src/components/checkbox/checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/icons/checkmark.svg"),_theme_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Border=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"checkbox__Border",componentId:"sc-5lv9m4-0"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["position:absolute;height:","px;width:","px;border-radius:",";border:","px solid ",";pointer-events:none;"],24,24,theme.borders.radius.small,1,theme.colors.border.defaultNormal))),StyledCheckmark=(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay)(_icons__WEBPACK_IMPORTED_MODULE_3__.A).attrs({role:"img"}).withConfig({displayName:"checkbox__StyledCheckmark",componentId:"sc-5lv9m4-1"})(["height:auto;width:32px;color:",";"],(({theme})=>theme.colors.fg.primary)),CheckboxContainer=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"checkbox__CheckboxContainer",componentId:"sc-5lv9m4-2"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["position:relative;display:flex;justify-content:center;align-items:center;height:","px;width:","px;min-height:","px;min-width:","px;input[type='checkbox']{position:absolute;width:","px;height:","px;margin:0;padding:0;opacity:0;cursor:pointer;:disabled{~ ","{border-color:",";}~ ","{color:",";}}&:focus-visible:not(:active) ~ ","{",";}:active ~ ","{border-color:",";box-shadow:0 0 0 8px ",";}}"],24,24,24,24,25,25,Border,theme.colors.border.disable,StyledCheckmark,theme.colors.fg.disable,Border,(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_4__.g)(theme.colors.border.focus),Border,theme.colors.border.defaultNormal,theme.colors.shadow.active))),__WEBPACK_DEFAULT_EXPORT__=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Rf)((({checked,disabled,className="",...props},ref)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(CheckboxContainer,{className},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",_extends({type:"checkbox",ref,checked:Boolean(checked),disabled,"aria-checked":checked},props)),checked&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledCheckmark,{"aria-label":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_5__.__)("Checked","web-stories")}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Border,null))))},"./packages/design-system/src/components/dialog/dialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/modal/modal.tsx"),_typography__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/typography/headline/index.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const DialogBox=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"dialog__DialogBox",componentId:"sc-1p8gxmh-0"})(["display:flex;flex-direction:column;align-items:flex-start;max-width:512px;max-height:100%;color:",";background-color:",";overflow-y:auto;padding:12px 16px;border-radius:",";border:",";"],(({theme})=>theme.colors.fg.primary),(({theme})=>theme.colors.bg.primary),(({theme})=>theme.borders.radius.medium),(({theme})=>`1px solid ${theme.colors.divider.primary}`)),DialogContent=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"dialog__DialogContent",componentId:"sc-1p8gxmh-1"})(["padding:8px 0 12px;margin:0;overflow-y:auto;color:",";"],(({theme})=>theme.colors.fg.primary)),DialogActions=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"dialog__DialogActions",componentId:"sc-1p8gxmh-2"})(["display:flex;justify-content:flex-end;width:100%;& > button,& > a{margin-right:10px;margin-left:6px;&:last-child{margin-right:0;}}"]);const __WEBPACK_DEFAULT_EXPORT__=function Dialog({children,title,actions=[],isOpen=!1,onClose,contentLabel,...rest}){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_modal__WEBPACK_IMPORTED_MODULE_2__.A,_extends({isOpen,onClose,contentLabel:contentLabel||title},rest),react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogBox,null,Boolean(title)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_typography__WEBPACK_IMPORTED_MODULE_3__.$,{as:"h2",size:_theme__WEBPACK_IMPORTED_MODULE_4__.$.XSmall},title),react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContent,null,children),Boolean(actions)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogActions,null,actions)))}},"./packages/design-system/src/components/hex/hex.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>hex});var react=__webpack_require__("./node_modules/react/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),polished_esm=__webpack_require__("./node_modules/polished/dist/polished.esm.js"),getPreviewText=__webpack_require__("./packages/patterns/src/getPreviewText.ts");const src_getHexFromValue=function getHexFromValue(value){const val=(value||"").toUpperCase().trim().replace(/^#/,"");return/[^0-9a-f]/i.test(val)?null:6===val.length?val:1===val.length?val.repeat(6):2===val.length?val.repeat(3):3===val.length?val.replace(/./g,"$&$&"):4===val.length?`${val.substring(0,2).repeat(2)}${val.substring(2)}`:null};var keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),input=__webpack_require__("./packages/design-system/src/components/input/input.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const HexInput=(0,src.Rf)((function Hex({value,placeholder,onChange,...rest},ref){const[inputValue,setInputValue]=(0,src.J0)(null),inputRef=(0,src.li)(null),skipValidationRef=(0,src.li)(!1),previewText=(0,getPreviewText.A)(value);(0,src.vJ)((()=>setInputValue(previewText)),[previewText]);const handleInputChange=(0,src.hb)((evt=>{const val=evt.target.value.trim().replace(/^#/,"");setInputValue(val)}),[]),validateAndSubmitInput=(0,src.hb)((()=>{const hex=src_getHexFromValue(String(inputValue))??previewText;if(setInputValue(hex),hex!==previewText){const{red:r,green:g,blue:b}=(0,polished_esm.kN)(`#${String(hex)}`),a=value.color.a;onChange({color:{r,g,b,a}})}}),[inputValue,previewText,onChange,value]),handleEnter=(0,src.hb)((()=>{validateAndSubmitInput()}),[validateAndSubmitInput]),handleInputBlur=(0,src.hb)((()=>{skipValidationRef.current||validateAndSubmitInput(),skipValidationRef.current=!1}),[validateAndSubmitInput]),handleEsc=(0,src.hb)((()=>{setInputValue(previewText),skipValidationRef.current=!0;const availableRef=ref&&"current"in ref?ref:inputRef;availableRef.current?.blur()}),[previewText,ref]);return(0,keyboard._h)(inputRef,{key:["escape"],editable:!0},handleEsc,[handleEsc]),(0,keyboard._h)(inputRef,{key:["enter"],editable:!0},handleEnter,[handleEnter]),react.createElement(input.A,_extends({ref:ref||inputRef,value:inputValue||"",onChange:handleInputChange,onBlur:handleInputBlur,placeholder},rest))})),hex=HexInput},"./packages/design-system/src/components/input/input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),uuid__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js"),_theme__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_theme_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_styled__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/input/styled.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const InputContainer=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"input__InputContainer",componentId:"sc-3nq9b0-0"})((({focused,hasError,theme,styleOverride})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["display:flex;align-items:center;justify-content:space-between;height:36px;padding:4px 12px;border:1px solid ",";border-radius:",";overflow:hidden;",";",";:focus-within{",";}",";"],theme.colors.border[hasError?"negativeNormal":"defaultNormal"],theme.borders.radius.small,focused&&!hasError&&(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["border-color:",";"],theme.colors.border.defaultActive),focused&&(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["","{color:",";}"],_styled__WEBPACK_IMPORTED_MODULE_3__.sZ,theme.colors.fg.primary),(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_4__.g)(theme.colors.border.focus),styleOverride))),Input=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Rf)((({inputClassName,className,disabled,hasError,hint,id,label,onBlur,onFocus,hasFocus=!1,suffix,unit="",value="",isIndeterminate=!1,containerStyleOverride="",...props},ref)=>{const inputId=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Kr)((()=>id||(0,uuid__WEBPACK_IMPORTED_MODULE_5__.A)()),[id]),[isFocused,setIsFocused]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.J0)(hasFocus),[hasBeenSelected,setHasBeenSelected]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.J0)(!1);let displayedValue=value;unit&&"string"==typeof value&&value.length&&(displayedValue=`${value}${isFocused?"":`${unit}`}`),isIndeterminate&&(displayedValue="");const hasSuffix=Boolean(suffix);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled__WEBPACK_IMPORTED_MODULE_3__.mc,{className},label&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled__WEBPACK_IMPORTED_MODULE_3__.JU,{htmlFor:inputId,disabled},label),react__WEBPACK_IMPORTED_MODULE_0__.createElement(InputContainer,{focused:isFocused,hasError,styleOverride:containerStyleOverride},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled__WEBPACK_IMPORTED_MODULE_3__.aE,_extends({id:inputId,disabled,ref:input=>{"function"==typeof ref?ref(input):ref&&(ref.current=input),input&&isFocused&&!hasBeenSelected&&(input.select(),setHasBeenSelected(!0))},onFocus:e=>{onFocus?.(e),setIsFocused(!0),setHasBeenSelected(!1)},onBlur:e=>{onBlur?.(e),setIsFocused(!1)},value:displayedValue,hasSuffix,className:inputClassName},props)),hasSuffix&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled__WEBPACK_IMPORTED_MODULE_3__.sZ,{size:_theme__WEBPACK_IMPORTED_MODULE_6__.$.Small,onClick:()=>setIsFocused(!0)},suffix)),hint&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled__WEBPACK_IMPORTED_MODULE_3__.Ck,{hasError},hint))}));Input.displayName="Input";const __WEBPACK_DEFAULT_EXPORT__=Input},"./packages/design-system/src/components/input/numericInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>numericInput});var react=__webpack_require__("./node_modules/react/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),big=__webpack_require__("./node_modules/big.js/big.mjs");function parseInput(value,{allowEmpty,isFloat,min,max}){if(`${String(value)}`.length>0){let boundedValue=isFloat?Number.parseFloat(String(value)):Number.parseInt(String(value));return void 0!==min&&(boundedValue=Math.max(min,boundedValue)),void 0!==max&&(boundedValue=Math.min(max,boundedValue)),isNaN(boundedValue)?null:boundedValue}return allowEmpty?"":null}const input_useNumericInput=({allowEmpty,updateOnChange,isFloat,padZero,max,min,onChange,value,ref})=>{const _inputRef=(0,src.li)(null),inputRef=ref&&"current"in ref?ref:_inputRef,oldValue=(0,src.li)(value),revertToOriginal=(0,src.li)(!1),[currentValue,setCurrentValue]=(0,src.J0)(value),options=(0,src.Kr)((()=>({allowEmpty,isFloat,padZero,max,min})),[allowEmpty,isFloat,padZero,max,min]),handleBlur=(0,src.hb)((ev=>{let newValue=parseInput(oldValue.current,options);if(revertToOriginal.current||null===newValue)null!==currentValue&&(newValue=parseInput(currentValue,options));else{const parsedValue=parseInput(currentValue,options);null!==parsedValue&&(newValue=parsedValue)}revertToOriginal.current=!1,null!==newValue?(setCurrentValue(newValue),newValue!==oldValue.current&&onChange(ev,newValue)):void 0!==min?(setCurrentValue(min),onChange(ev,min)):allowEmpty?(setCurrentValue(""),onChange(ev,"")):(setCurrentValue("0"),onChange(ev,"0"))}),[allowEmpty,currentValue,min,onChange,options]),handleChange=(0,src.hb)((ev=>{const trimmedTargetValue=ev.target.value.trim();if(""===trimmedTargetValue)return setCurrentValue(""),void(updateOnChange&&allowEmpty&&onChange(ev,""));if(isNaN(Number(trimmedTargetValue)))"-"===trimmedTargetValue&&(setCurrentValue(trimmedTargetValue),updateOnChange&&onChange(ev,trimmedTargetValue));else{if(""===ev.target.value&&allowEmpty)return setCurrentValue(""),void(updateOnChange&&onChange(ev,""));const parsedValue=options.isFloat?Number.parseFloat(ev.target.value):Number.parseInt(ev.target.value);if(void 0!==max&&parsedValue>max)return void(parsedValue>max&&(setCurrentValue(trimmedTargetValue.charAt(trimmedTargetValue.length-1)),updateOnChange&&onChange(ev,Number(ev.target.value.trim().charAt(trimmedTargetValue.length-1)))));const maxPad=void 0!==max?String(max).length:0,paddedValue=!ev.target.value.endsWith(".")&&options.padZero?String(parsedValue).padStart(maxPad,"0"):trimmedTargetValue;setCurrentValue(paddedValue),updateOnChange&&onChange(ev,Number(paddedValue))}}),[allowEmpty,max,onChange,options,updateOnChange]),handleKeyUpAndDown=(0,src.hb)((ev=>{const{altKey,key}=ev,isCurrentValueValid=function isInputValid(value,{allowEmpty,isFloat,min,max}){if(allowEmpty&&0===`${String(value)}`.length)return!0;const valueAsANumber=isFloat?Number.parseFloat(String(value)):Number.parseInt(String(value));return!(void 0!==min&&valueAsANumber<min||void 0!==max&&valueAsANumber>max||isNaN(valueAsANumber))}(currentValue,options);let newValue=isCurrentValueValid?parseInput(currentValue,options):0;newValue=null===newValue?"":newValue;const diff=(0,big.A)(options.isFloat&&altKey?.1:1);"ArrowUp"===key?newValue=void 0!==max?Math.min(max,(0,big.A)(newValue).plus(diff).toNumber()):(0,big.A)(newValue).plus(diff).toNumber():"ArrowDown"===key&&(newValue=void 0!==min?Math.max(min,(0,big.A)(newValue).minus(diff).toNumber()):(0,big.A)(newValue).minus(diff).toNumber()),setCurrentValue(newValue),onChange(ev,Number(newValue))}),[currentValue,max,min,onChange,options]),handleEsc=(0,src.hb)((()=>{setCurrentValue(oldValue.current),revertToOriginal.current=!0,inputRef?.current?.blur()}),[inputRef]);return(0,src.vJ)((()=>{oldValue.current=value,setCurrentValue(value)}),[value]),{currentValue,inputRef,handleBlur,handleChange,handleEsc,handleKeyUpAndDown,isIndeterminate:oldValue.current===currentValue}};var input=__webpack_require__("./packages/design-system/src/components/input/input.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const numericInput=(0,src.Rf)((function NumericInput({allowEmpty,isFloat,onBlur,onChange,updateOnChange,max,min,value="",isIndeterminate:originalIsIndeterminate,padZero,...props},ref){const{currentValue,handleBlur,handleChange,handleEsc,handleKeyUpAndDown,inputRef,isIndeterminate}=input_useNumericInput({allowEmpty,isFloat,padZero,onChange,updateOnChange,max,min,value,ref});(0,keyboard._h)(inputRef,{key:["up","alt+up","down","alt+down"],editable:!0},handleKeyUpAndDown,[handleKeyUpAndDown]),(0,keyboard._h)(inputRef,{key:["escape"],editable:!0},handleEsc,[handleEsc]),(0,keyboard._h)(inputRef,{key:["enter"],editable:!0},handleBlur,[handleBlur]),value=String(value);let paddedValue=String(currentValue);if(""===value||""!==currentValue&&"-"!==currentValue)if(allowEmpty||""!==value||""!==currentValue){if(allowEmpty&&""===value)paddedValue="";else if(""!==currentValue&&void 0!==max){const maxPad=String(max).length;paddedValue=maxPad>=String(currentValue).length?padZero?String(currentValue).padStart(maxPad,"0"):String(currentValue):String(currentValue).replace(/^0+/,"")}}else paddedValue="0";else paddedValue=String(currentValue);return react.createElement(input.A,_extends({ref:inputRef,onBlur:ev=>{onBlur?.(ev),handleBlur(ev)},onChange:ev=>{updateOnChange&&onChange?.(ev),handleChange(ev)},value:paddedValue,isIndeterminate:isIndeterminate&&originalIsIndeterminate},props))}))},"./packages/design-system/src/components/input/styled.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ck:()=>Hint,JU:()=>Label,aE:()=>BaseInput,mc:()=>Container,sZ:()=>Suffix});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_typography__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),_theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/types.ts");const Container=styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay.div.withConfig({displayName:"styled__Container",componentId:"sc-61rjdo-0"})(["position:relative;display:inline-block;width:100%;min-width:40px;"]),Label=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_typography__WEBPACK_IMPORTED_MODULE_1__.E.Label).withConfig({displayName:"styled__Label",componentId:"sc-61rjdo-1"})(["margin-bottom:12px;display:inline-block;"]),Hint=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_typography__WEBPACK_IMPORTED_MODULE_1__.E.Paragraph).withConfig({displayName:"styled__Hint",componentId:"sc-61rjdo-2"})(["display:inline-block;margin-top:12px;color:",";"],(({hasError,theme})=>theme.colors.fg[hasError?"negative":"tertiary"])),Suffix=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_typography__WEBPACK_IMPORTED_MODULE_1__.E.Span).withConfig({displayName:"styled__Suffix",componentId:"sc-61rjdo-3"})(["background:transparent;color:",";white-space:nowrap;svg{width:32px;height:32px;margin:2px -10px;display:block;}"],(({theme})=>theme.colors.fg.tertiary)),BaseInput=styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay.input.withConfig({displayName:"styled__BaseInput",componentId:"sc-61rjdo-4"})((({hasSuffix,theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.AH)(["height:100%;width:100%;padding:0;"," background-color:inherit;border:none;outline:none;box-shadow:none;color:",";",";::placeholder{color:",";}:disabled{color:",";border-color:",";& ~ ","{color:",";}}:focus{box-shadow:none;}:active:enabled{color:",";}"],hasSuffix&&(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.AH)(["padding-right:8px;"]),theme.colors.fg.primary,_theme__WEBPACK_IMPORTED_MODULE_2__.s({preset:{...theme.typography.presets.paragraph[_theme__WEBPACK_IMPORTED_MODULE_3__.$.Small]},theme}),theme.colors.fg.tertiary,theme.colors.fg.disable,theme.colors.border.disable,Suffix,theme.colors.fg.disable,theme.colors.fg.primary)))},"./packages/design-system/src/components/modal/modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),react_modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-modal/lib/index.js"),react_modal__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_2__),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/modal/constants.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const customStyles_overlay=theme=>({position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10,backgroundColor:theme.colors.interactiveBg.modalScrim,display:"flex",alignItems:"center",justifyContent:"center"}),customStyles_content={overflow:"auto",outline:"none",display:"flex",maxHeight:"100%",justifyContent:"center"};const __WEBPACK_DEFAULT_EXPORT__=function Modal({closeTimeoutMS=100,children,contentStyles,modalStyles={},onClose,overlayStyles,...rest}){const theme=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.cY)(styled_components__WEBPACK_IMPORTED_MODULE_3__.Dx);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_modal__WEBPACK_IMPORTED_MODULE_2___default(),_extends({className:_constants__WEBPACK_IMPORTED_MODULE_4__.NU,closeTimeoutMS,onRequestClose:onClose,overlayClassName:_constants__WEBPACK_IMPORTED_MODULE_4__.cd,bodyOpenClassName:_constants__WEBPACK_IMPORTED_MODULE_4__.Kz,style:{maxHeight:"100vh",...modalStyles,overlay:{...customStyles_overlay(theme),...overlayStyles},content:{...customStyles_content,...contentStyles}}},rest),children)}},"./packages/design-system/src/components/swatch/swatch.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/patterns/src/hasOpacity.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/patterns/src/hasGradient.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/patterns/src/getOpaquePattern.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/patterns/src/generatePatternStyles.ts"),_theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/theme/helpers/transparentBg.ts"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Transparent=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"swatch__Transparent",componentId:"sc-103sems-0"})(["width:100%;height:100%;position:absolute;border-radius:100%;",""],_theme__WEBPACK_IMPORTED_MODULE_2__.o),SwatchButton=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.button.withConfig({displayName:"swatch__SwatchButton",componentId:"sc-103sems-1"})(["cursor:pointer;background-color:transparent;border-color:transparent;padding:0;border-width:0;display:block;width:","px;height:","px;border-radius:100%;overflow:hidden;position:relative;"," ",";::after{content:'';position:absolute;pointer-events:none;left:0;top:0;width:100%;height:100%;border-radius:50%;border:1px solid ",";}"],24,24,(({disabled})=>disabled&&(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.AH)(["opacity:0.4;cursor:default;pointer-events:none;"])),(({theme})=>_theme__WEBPACK_IMPORTED_MODULE_3__.Q(theme.colors.border.focus)),(({theme})=>theme.colors.divider.primary)),SwatchPreview=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(SwatchButton).attrs({as:"div",type:void 0}).withConfig({displayName:"swatch__SwatchPreview",componentId:"sc-103sems-2"})([""]),SwatchItem=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"swatch__SwatchItem",componentId:"sc-103sems-3"})(["transform:rotate(","deg);display:block;width:100%;height:100%;font-size:13px;position:relative;svg{width:","px;height:","px;position:absolute;top:calc(50% - ","px);left:calc(50% - ","px);filter:drop-shadow(0px 0px 4px rgba(0,0,0,0.4));color:",";transform:rotate(","deg);}"],(({displaySplit})=>displaySplit?-45:0),24,24,12,12,(({theme})=>theme.colors.fg.primary),(({displaySplit})=>displaySplit?45:0)),OpaqueColorWrapper=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"swatch__OpaqueColorWrapper",componentId:"sc-103sems-4"})(["height:","px;width:50%;overflow:hidden;position:absolute;left:0;top:0;"],24),OpaqueColor=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"swatch__OpaqueColor",componentId:"sc-103sems-5"})(["height:","px;width:","px;position:absolute;top:0;left:0;"],24,24);const __WEBPACK_DEFAULT_EXPORT__=function Swatch({pattern,children,isPreview=!1,isDisabled=!1,isIndeterminate=!1,className="",...props}){if(!pattern)return null;const swatchHasTransparency=(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_4__.A)(pattern),swatchIsGradient=(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_5__.A)(pattern),opaquePattern=swatchHasTransparency?(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_6__.A)(pattern):pattern,displaySplit=!swatchIsGradient&&swatchHasTransparency&&!isIndeterminate,SwatchDisplay=isPreview?SwatchPreview:SwatchButton;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(SwatchDisplay,_extends({disabled:isDisabled,className},props),swatchHasTransparency&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(Transparent,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(SwatchItem,{style:(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_7__.A)(pattern),displaySplit},displaySplit&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(OpaqueColorWrapper,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(OpaqueColor,{style:(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_7__.A)(opaquePattern)})),children))}},"./packages/design-system/src/components/typography/headline/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>Headline});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_theme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_styles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/components/typography/styles.ts");const Headline=styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay.h1.withConfig({displayName:"headline__Headline",componentId:"sc-yhwct1-0"})(["",";"," ",""],_styles__WEBPACK_IMPORTED_MODULE_1__.u,(({theme,size=_theme__WEBPACK_IMPORTED_MODULE_2__.$.Medium})=>_theme__WEBPACK_IMPORTED_MODULE_3__.s({preset:theme.typography.presets.headline[size],theme})),(({as,theme})=>"a"===as&&(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.AH)([":hover{color:",";}",""],theme.colors.fg.linkHover,_theme__WEBPACK_IMPORTED_MODULE_4__.Q(theme.colors.border.focus))))},"./packages/design-system/src/theme/helpers/transparentBg.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>transparentBg});const transparentBg=(0,__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").AH)(["background-image:conic-gradient( "," 0.25turn,transparent 0turn 0.5turn,"," 0turn 0.75turn,transparent 0turn 1turn );background-size:8px 8px;"],(({theme})=>theme.colors.fg.tertiary),(({theme})=>theme.colors.fg.tertiary))},"./packages/patterns/src/getOpaquePattern.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/patterns/src/types.ts");const __WEBPACK_DEFAULT_EXPORT__=function getOpaquePattern(pattern){if(!pattern.type||pattern.type===_types__WEBPACK_IMPORTED_MODULE_0__.$1.Solid){const{color}=pattern;return{color:{...color,a:1}}}const{alpha,...opaquePattern}=pattern;return opaquePattern}},"./packages/patterns/src/getPreviewText.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/i18n/src/i18n.ts"),_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/patterns/src/types.ts");const __WEBPACK_DEFAULT_EXPORT__=function getPreviewText(pattern){if(!pattern)return null;switch(pattern.type){case _types__WEBPACK_IMPORTED_MODULE_0__.$1.Radial:return(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Radial","web-stories");case _types__WEBPACK_IMPORTED_MODULE_0__.$1.Linear:return(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Linear","web-stories");case _types__WEBPACK_IMPORTED_MODULE_0__.$1.Solid:default:{const{color:{r,g,b}}=pattern;return function printRGB(r,g,b){const hex=v=>v.toString(16).padStart(2,"0");return`${hex(r)}${hex(g)}${hex(b)}`.toUpperCase()}(r,g,b)}}}},"./packages/patterns/src/hasGradient.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/patterns/src/types.ts");const __WEBPACK_DEFAULT_EXPORT__=function hasGradient(pattern){return Boolean(pattern?.type)&&_types__WEBPACK_IMPORTED_MODULE_0__.$1.Solid!==pattern.type}},"./packages/patterns/src/hasOpacity.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function colorHasTransparency(color){return void 0!==color.a&&color.a<1}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function hasOpacity(pattern){if("color"in pattern)return Boolean(colorHasTransparency(pattern.color));if("number"==typeof pattern.alpha&&pattern.alpha<1)return!0;for(const colorStop of pattern.stops||[])if(colorHasTransparency(colorStop.color))return!0;return!1}},"./packages/story-editor/src/components/colorPicker/useDeleteColor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js");var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),_app__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/app/index.js"),_utils_noop__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/utils/noop.ts");const __WEBPACK_DEFAULT_EXPORT__=function useDeleteColor({onEmpty=_utils_noop__WEBPACK_IMPORTED_MODULE_4__.l}){const{currentStoryStyles,globalStoryStyles,updateStory}=(0,_app__WEBPACK_IMPORTED_MODULE_3__.P3)((({state:{story:{globalStoryStyles,currentStoryStyles}},actions:{updateStory}})=>({currentStoryStyles,globalStoryStyles,updateStory}))),{colors:globalColors}=globalStoryStyles||{},{colors:localColors}=currentStoryStyles||{},hasLocalPresets=localColors?.length>0,deleteGlobalColor=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)((toDelete=>{const updatedColors=globalColors.filter((color=>color!==toDelete));updateStory({properties:{globalStoryStyles:{...globalStoryStyles,colors:updatedColors}}}),0!==updatedColors.length||hasLocalPresets||onEmpty()}),[globalColors,updateStory,hasLocalPresets,globalStoryStyles,onEmpty]);return{deleteLocalColor:(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)((toDelete=>{const updatedColors=localColors.filter((color=>color!==toDelete));updateStory({properties:{currentStoryStyles:{colors:updatedColors}}}),0===updatedColors.length&&0===globalColors.length&&onEmpty()}),[globalColors,localColors,updateStory,onEmpty]),deleteGlobalColor}}},"./packages/story-editor/src/components/dialog/dialog.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/theme/theme.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/theme/colors.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/components/dialog/dialog.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=({onClose,onSecondary,onPrimary,primaryText,PrimaryComponent=_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__.$,secondaryText,primaryRest,secondaryRest,actions,children,...rest})=>{const _PrimaryButton=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Kr)((()=>primaryText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(PrimaryComponent,_extends({type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__.VQ.Primary,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__.Mp.Small,onClick:evt=>onPrimary?.(evt)},primaryRest),primaryText)),[primaryText,primaryRest,onPrimary]),_SecondaryButton=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Kr)((()=>secondaryText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__.$,_extends({type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__.VQ.Tertiary,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__.Mp.Small,onClick:()=>onSecondary?.()||onClose()},secondaryRest),secondaryText)),[secondaryText,secondaryRest,onSecondary,onClose]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(styled_components__WEBPACK_IMPORTED_MODULE_4__.NP,{theme:{..._googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.w,colors:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.B}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.A,_extends({onClose},rest,{actions:actions||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,_SecondaryButton,_PrimaryButton)}),children))}},"./packages/story-editor/src/components/dialog/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_dialog__WEBPACK_IMPORTED_MODULE_0__.A});var _dialog__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/story-editor/src/components/dialog/dialog.js")},"./packages/story-editor/src/components/eyedropper/useEyeDropperApi.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/patterns/src/getSolidFromHex.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/utils/noop.ts"),polished__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/polished/dist/polished.esm.js");const __WEBPACK_DEFAULT_EXPORT__=function useEyeDropperApi({onChange=_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__.l,handleClose=_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__.l}){const isEyeDropperApiSupported="undefined"!=typeof window&&"EyeDropper"in window,eyeDropper=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{isEyeDropperApiSupported&&!eyeDropper.current&&(eyeDropper.current=new window.EyeDropper)}),[isEyeDropperApiSupported]);const openEyeDropper=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((async()=>{if(eyeDropper.current&&isEyeDropperApiSupported)try{const{sRGBHex}=await eyeDropper.current.open(),hexColor="string"==typeof sRGBHex&&"#"===sRGBHex[0]?sRGBHex:(0,polished__WEBPACK_IMPORTED_MODULE_2__.Fo)((0,polished__WEBPACK_IMPORTED_MODULE_2__.kN)(sRGBHex));onChange((0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_3__.A)(hexColor.substring(1)).color)}catch(e){console.log(e.message)}finally{handleClose()}}),[eyeDropper,isEyeDropperApiSupported,onChange,handleClose]);return{isEyeDropperApiSupported,openEyeDropper}}},"./packages/story-editor/src/components/floatingMenu/elements/shared/focusTrapButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,t:()=>handleReturnTrappedFocus});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/i18n/src/sprintf.ts"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/i18n/src/i18n.ts"),uuid__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js");const _FocusTrapButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__.$).attrs({type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.VQ.Primary}).withConfig({displayName:"focusTrapButton___FocusTrapButton",componentId:"sc-1426fzg-0"})(["background-color:transparent;display:flex;align-items:center;justify-content:flex-start;outline:none;margin:0;padding:0;min-width:inherit;:hover,:focus{background-color:transparent;}",""],(({styleOverride})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["",""],styleOverride)));_FocusTrapButton.propTypes={styleOverride:prop_types__WEBPACK_IMPORTED_MODULE_5___default().array};const handleReturnTrappedFocus=(e,buttonRef)=>{"Tab"===e.key?(e.preventDefault(),buttonRef.current.focus()):e.stopPropagation()},__WEBPACK_DEFAULT_EXPORT__=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Rf)((function FocusTrapButton({inputRef,inputLabel,children,styleOverride},ref){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_FocusTrapButton,{id:(0,uuid__WEBPACK_IMPORTED_MODULE_6__.A)(),tabIndex:-1,ref,onClick:e=>{e.stopPropagation(),inputRef.current.focus()},onBlur:e=>{e.preventDefault(),e.stopPropagation()},onKeyDown:e=>{e.preventDefault(),"Enter"===e.key&&inputRef.current.focus()},"aria-label":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_7__.A)((0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_8__.__)("Press Enter to edit %s","web-stories"),inputLabel),styleOverride},children)}))},"./packages/story-editor/src/components/form/color/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>color});var react=__webpack_require__("./node_modules/react/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),getPreviewText=__webpack_require__("./packages/patterns/src/getPreviewText.ts"),button_button=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),popup_constants=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),pipette=__webpack_require__("./packages/design-system/src/icons/pipette.svg"),v4=__webpack_require__("./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js"),src_constants=__webpack_require__("./packages/story-editor/src/constants/index.ts"),app=__webpack_require__("./packages/story-editor/src/app/index.js"),useEyeDropperApi=__webpack_require__("./packages/story-editor/src/components/eyedropper/useEyeDropperApi.js");const eyedropper=({onChange})=>{const{fullbleedContainer,eyedropperPixelData,setEyedropperCallback,setIsEyedropperActive,setEyedropperImg,setEyedropperPixelData}=(0,app.yu)((({state:{fullbleedContainer,eyedropperPixelData},actions:{setEyedropperCallback,setIsEyedropperActive,setEyedropperImg,setEyedropperPixelData}})=>({fullbleedContainer,setEyedropperCallback,eyedropperPixelData,setIsEyedropperActive,setEyedropperImg,setEyedropperPixelData}))),{isEyeDropperApiSupported,openEyeDropper}=(0,useEyeDropperApi.A)({onChange,handleClose:(0,src.hb)((()=>{setIsEyedropperActive(!1)}),[setIsEyedropperActive])}),{zoomSetting,setZoomSetting}=(0,app.gK)((({state:{zoomSetting},actions:{setZoomSetting}})=>({zoomSetting,setZoomSetting})));return{initEyedropper:(0,src.hb)(((resetZoom=!0)=>async()=>{if(isEyeDropperApiSupported)return void(resetZoom&&(setIsEyedropperActive(!0),openEyeDropper()));if(!resetZoom&&zoomSetting!==src_constants.gw.Fit)return;resetZoom&&setIsEyedropperActive(!0);eyedropperPixelData&&resetZoom||(resetZoom&&setZoomSetting(src_constants.gw.Fit),await new Promise((resolve=>{setTimeout((()=>{__webpack_require__.e(4622).then(__webpack_require__.bind(__webpack_require__,"./node_modules/html-to-image/es/index.js")).then((htmlToImage=>{htmlToImage.toCanvas(fullbleedContainer,{pixelRatio:1}).then((canvas=>{const pixelData=canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height).data;setEyedropperPixelData(pixelData),setEyedropperImg(canvas.toDataURL()),resolve()})).catch((()=>{resolve()}))}))}))}))),setEyedropperCallback((()=>rgbObject=>{onChange(rgbObject),setIsEyedropperActive(!1),setEyedropperImg(null),setEyedropperPixelData(null)}))}),[fullbleedContainer,onChange,eyedropperPixelData,zoomSetting,setIsEyedropperActive,setEyedropperCallback,setEyedropperImg,setEyedropperPixelData,setZoomSetting,isEyeDropperApiSupported,openEyeDropper])}};var components_tooltip=__webpack_require__("./packages/story-editor/src/components/tooltip/index.js"),styles=__webpack_require__("./packages/story-editor/src/components/panels/shared/styles.js");const color_applyOpacityChange=function applyOpacityChange(pattern,newOpacity){if(!pattern)return null;const{type}=pattern;if(!type||"solid"===type){const{color:{r,g,b}}=pattern;return{color:{r,g,b,a:newOpacity}}}return{...pattern,alpha:newOpacity}};var getOpaquePattern=__webpack_require__("./packages/patterns/src/getOpaquePattern.ts"),hex=__webpack_require__("./packages/design-system/src/components/hex/hex.tsx"),swatch=__webpack_require__("./packages/design-system/src/components/swatch/swatch.tsx"),contextMenu_constants=__webpack_require__("./packages/design-system/src/components/contextMenu/constants.ts"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),disclosure=__webpack_require__("./packages/design-system/src/components/disclosure/disclosure.tsx"),popup=__webpack_require__("./packages/design-system/src/components/popup/popup.tsx"),focusTrapButton=__webpack_require__("./packages/story-editor/src/components/floatingMenu/elements/shared/focusTrapButton.js"),CSSTransition=(__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.for-each.js"),__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js")),hasGradient=__webpack_require__("./packages/patterns/src/hasGradient.ts"),theme_constants=__webpack_require__("./packages/design-system/src/theme/constants/index.ts"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),transform_src=__webpack_require__("./packages/transform/src/index.ts"),useFocusTrapping=__webpack_require__("./packages/story-editor/src/utils/useFocusTrapping.js"),useStory=__webpack_require__("./packages/story-editor/src/app/story/useStory.ts"),noop=__webpack_require__("./packages/story-editor/src/utils/noop.ts"),createSolid=__webpack_require__("./packages/patterns/src/createSolid.ts"),arrow_left=__webpack_require__("./packages/design-system/src/icons/arrow_left.svg"),circular=__webpack_require__("./packages/design-system/src/components/circularProgress/circular.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const rgb=({r=0,g=0,b=0}={})=>`rgb(${r},${g},${b})`,rgba=({r,g,b,a})=>{const al=color=>255*(1-a)+a*color;return`rgb(${al(r)}, ${al(g)}, ${al(b)})`},PointerElement=styled_components_browser_esm.Ay.div.attrs((({currentColor={},withAlpha})=>({style:{background:withAlpha?rgba(currentColor):rgb(currentColor)}}))).withConfig({displayName:"pointer__PointerElement",componentId:"sc-1444lan-0"})(["width:","px;height:","px;transform:translate( "," );background:transparent;border:","px solid ",";border-radius:100%;position:relative;&:before{content:'';display:block;width:","px;height:","px;position:absolute;top:-","px;left:-","px;}"],16,16,(({offsetX=0,offsetY=0,isRTL})=>`${(isRTL?-1:1)*offsetX}px, ${offsetY}px`),2,(({theme})=>theme.colors.fg.primary),32,32,10,10);const pointer=function Pointer(props){const{isRTL}=(0,app.UK)();return react.createElement(PointerElement,_extends({},props,{isRTL}))},EditableInput=(0,src.RZ)((()=>__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")).then((module=>({default:module.EditableInput}))))),Preview=styled_components_browser_esm.Ay.button.withConfig({displayName:"editablePreview__Preview",componentId:"sc-cdmcf1-0"})(["margin:0;padding:5px 7px;border:1px solid ",";border-radius:4px;background:transparent;color:",";width:100%;",";"],(({theme})=>theme.colors.border.defaultNormal),(({theme})=>theme.colors.fg.primary),styles.Y),Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"editablePreview__Wrapper",componentId:"sc-cdmcf1-1"})(["input{",";}"],styles.Y);const editablePreview=function EditablePreview({label="",value="",width,format,onChange}){const[isEditing,setIsEditing]=(0,src.J0)(!1),enableEditing=(0,src.hb)((()=>setIsEditing(!0)),[]),disableEditing=(0,src.hb)((()=>setIsEditing(!1)),[]),wrapperRef=(0,src.li)(null),editableRef=(0,src.li)(),inputStyles=(0,src.Kr)((()=>({input:{textAlign:"center",textTransform:"lowercase",width:"100%",padding:"6px 12px",border:"1px solid #5E6668",color:"#E4E5E6",borderRadius:"4px",background:"transparent",lineHeight:"18px"},wrap:{lineHeight:0,maxWidth:`${width}px`}})),[width]);if((0,keyboard._h)(wrapperRef,{key:"esc",editable:!0},disableEditing,[isEditing]),(0,src.Nf)((()=>{const timeout=setTimeout((()=>{isEditing&&editableRef.current&&(editableRef.current.input.focus(),editableRef.current.input.select(),editableRef.current.input.setAttribute("aria-label",label))}));return()=>clearTimeout(timeout)}),[isEditing,label]),!isEditing)return react.createElement(Preview,{"aria-label":label,onClick:enableEditing,onFocus:enableEditing},react.createElement(typography_text.E.Paragraph,{size:types.$.Small},format(value)));const editValue="transparent"===value?"000000":value;return react.createElement(Wrapper,{ref:wrapperRef,tabIndex:-1,onBlur:evt=>{evt.currentTarget.contains(evt.relatedTarget)||disableEditing()}},react.createElement(src.tY,{fallback:null},react.createElement(EditableInput,{value:editValue,ref:editableRef,onChange,onChangeComplete:disableEditing,style:inputStyles})))},Saturation=(0,src.RZ)((()=>__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")).then((module=>({default:module.Saturation}))))),Hue=(0,src.RZ)((()=>__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")).then((module=>({default:module.Hue}))))),Alpha=(0,src.RZ)((()=>__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")).then((module=>({default:module.Alpha}))))),BodyFallback=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__BodyFallback",componentId:"sc-eqs4bc-0"})(["height:","px;display:flex;align-items:center;justify-content:center;"],240),SaturationWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__SaturationWrapper",componentId:"sc-eqs4bc-1"})(["position:relative;margin:0 16px;flex:0 1 ","px;"],116),wrapperCSS=(0,styled_components_browser_esm.AH)(["margin:0 16px;border:1px solid ",";flex:0 0 ","px;position:relative;border-radius:","px;background-clip:padding-box;"],(({theme})=>theme.colors.shadow.active),20,50),HueWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__HueWrapper",componentId:"sc-eqs4bc-2"})(["",""],wrapperCSS),AlphaWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__AlphaWrapper",componentId:"sc-eqs4bc-3"})([""," div:first-child div:first-child div:first-child{background-image:conic-gradient( "," 0.25turn,transparent 0turn 0.5turn,"," 0turn 0.75turn,transparent 0turn 1turn ) !important;background-size:8px 8px !important;}"],wrapperCSS,(({theme})=>theme.colors.fg.tertiary),(({theme})=>theme.colors.fg.tertiary)),Footer=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__Footer",componentId:"sc-eqs4bc-4"})(["height:","px;line-height:19px;position:relative;margin:0 16px;display:flex;justify-content:space-between;"],36),HexValue=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__HexValue",componentId:"sc-eqs4bc-5"})(["width:","px;"],74),Opacity=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__Opacity",componentId:"sc-eqs4bc-6"})(["width:","px;"],52);const CurrentColorPickerContext=(0,src.q6)([!1,!1]),currentColorPicker=((...args)=>function DynamicFetcher({showOpacity,hasEyedropper,...props}){const isMounted=(0,src.li)(!1),[Picker,setPicker]=(0,src.J0)(null);return(0,src.vJ)((()=>(isMounted.current=!0,__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")).then((({CustomPicker})=>{isMounted.current&&setPicker({component:CustomPicker(...args)})})),()=>{isMounted.current=!1})),[]),Picker?react.createElement(CurrentColorPickerContext.Provider,{value:[showOpacity,hasEyedropper]},react.createElement(Picker.component,props)):react.createElement(BodyFallback,null,react.createElement(circular.A,null))})((function CurrentColorPicker({rgb,hsl,hsv,hex,onChange}){const[showOpacity,hasEyedropper]=(0,src.NT)(CurrentColorPickerContext),alphaPercentage=String(Math.round(100*rgb.a)),hexValue="#"===hex[0]?hex.substr(1):hex,handleFormatHex=(0,src.hb)((v=>("transparent"===v&&(v="000000"),`#${v}`)),[]),handleFormatPercentage=(0,src.hb)((v=>`${v}%`),[]),handleHexInputChange=(0,src.hb)((value=>onChange({hex:value})),[onChange]),handleOpacityInputChange=(0,src.hb)((value=>onChange({...rgb,a:isNaN(value)?1:Number.parseInt(value)/100})),[rgb,onChange]),{initEyedropper}=eyedropper({onChange});return react.createElement(react.Fragment,null,react.createElement(src.tY,{fallback:null},react.createElement(SaturationWrapper,null,react.createElement(Saturation,{radius:"8px",pointer:react.createElement(pointer,{offsetX:-8,offsetY:-8,currentColor:rgb}),hsl,hsv,onChange})),react.createElement(HueWrapper,null,react.createElement(Hue,{direction:"horizontal",height:"20px",radius:"50px",pointer:()=>react.createElement(pointer,{offsetX:-8,offsetY:1,currentColor:rgb}),hsl,onChange})),showOpacity&&react.createElement(AlphaWrapper,null,react.createElement(Alpha,{direction:"horizontal",height:"20px",radius:"50px",pointer:()=>react.createElement(pointer,{offsetX:-8,offsetY:1,currentColor:rgb,withAlpha:!0}),rgb,hsl,onChange}))),react.createElement(Footer,null,hasEyedropper&&react.createElement(button_button.$,{variant:constants.Ak.Square,type:constants.VQ.Quaternary,size:constants.Mp.Small,"aria-label":(0,i18n.__)("Pick a color from canvas","web-stories"),onClick:initEyedropper(),onPointerEnter:initEyedropper(!1)},react.createElement(pipette.A,null)),react.createElement(HexValue,null,react.createElement(editablePreview,{label:(0,i18n.__)("Edit hex value","web-stories"),value:hexValue,onChange:handleHexInputChange,width:80,format:handleFormatHex})),showOpacity&&react.createElement(Opacity,null,react.createElement(editablePreview,{label:(0,i18n.__)("Edit opacity","web-stories"),value:alphaPercentage,width:52,format:handleFormatPercentage,onChange:handleOpacityInputChange}))))}));var arrows_leftright=__webpack_require__("./packages/design-system/src/icons/arrows_leftright.svg"),arrow_right_curved=__webpack_require__("./packages/design-system/src/icons/arrow_right_curved.svg"),generatePatternStyles=(__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js"),__webpack_require__("./packages/patterns/src/generatePatternStyles.ts")),transparentBg=__webpack_require__("./packages/design-system/src/theme/helpers/transparentBg.ts"),tailed_rectangle=__webpack_require__("./packages/design-system/src/icons/tailed_rectangle.svg"),createSolidFromString=__webpack_require__("./packages/patterns/src/createSolidFromString.ts");const TYPE_LINEAR="linear",TYPE_RADIAL="radial",c=hex=>(0,createSolidFromString.A)(`#${hex}`),BASIC_COLORS=[c("00000000"),c("000000"),c("454545"),c("B6B6B6"),c("EEEEEE"),c("FFFFFF"),c("003BAD"),c("0044C9"),c("0354F2"),c("1263FF"),c("347EFF"),c("6D9FFF"),c("4B1283"),c("5A189A"),c("7B2CBF"),c("9D4EDD"),c("C77DFF"),c("E0AAFF"),c("E03568"),c("FF477E"),c("FF5C8A"),c("FF7096"),c("FF85A1"),c("FF99AC"),c("590D22"),c("800F2F"),c("A4133C"),c("C9184A"),c("FF4D6D"),c("FF758F"),c("DBCA09"),c("FFD900"),c("FFE747"),c("FFEE70"),c("FFF599"),c("FFFFB7"),c("E06E04"),c("EA7D00"),c("FF9500"),c("FFA811"),c("FFBC35"),c("FFCC4A"),c("607047"),c("79895D"),c("839568"),c("A5B98B"),c("C1D3AA"),c("D4E4C0"),c("603809"),c("603808"),c("6F4518"),c("8B5E34"),c("A47148"),c("BC8A5F")],Stop=styled_components_browser_esm.Ay.button.attrs((({position})=>({style:{right:112*position-6+"px"}}))).withConfig({displayName:"gradientStop__Stop",componentId:"sc-1kqiqwc-0"})(["position:absolute;top:-","px;background:transparent;border:0;padding:0;&:focus{outline:none;}"],24),fillCss=(0,styled_components_browser_esm.AH)(["position:absolute;left:0;top:0;width:100%;height:100%;"]),Background=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientStop__Background",componentId:"sc-1kqiqwc-1"})([""," ",""],fillCss,(({color})=>(0,generatePatternStyles.A)(color))),Transparent=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientStop__Transparent",componentId:"sc-1kqiqwc-2"})([""," width:100%;height:100%;position:absolute;top:0;"],transparentBg.o),StopPointer=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientStop__StopPointer",componentId:"sc-1kqiqwc-3"})(["transform:translate(",",0);width:","px;height:","px;border-radius:2px;overflow:hidden;"],(({offset})=>`${offset}px`),14,14),IconWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientStop__IconWrapper",componentId:"sc-1kqiqwc-4"})(["position:absolute;left:-","px;top:-8px;color:",";svg{width:32px;height:32px;}"],10,(({theme,isSelected})=>isSelected?theme.colors.fg.primary:theme.colors.fg.tertiary));const GradientStop=(0,src.Rf)((function GradientStopWithRef({position,index,isSelected,color,onSelect},ref){return react.createElement(Stop,{ref,key:index,isSelected,position,onFocus:()=>onSelect(index),onClick:()=>onSelect(index),"aria-label":(0,sprintf.A)((0,i18n.__)("Gradient stop at %d%%","web-stories"),Math.round(100-100*position))},react.createElement(IconWrapper,{isSelected},react.createElement(tailed_rectangle.A,null)),react.createElement(StopPointer,{offset:-1},react.createElement(Transparent,null),react.createElement(Background,{color})))}));GradientStop.propTypes={position:prop_types_default().number.isRequired,index:prop_types_default().number.isRequired,isSelected:prop_types_default().bool.isRequired,color:prop_types_default().object.isRequired,onSelect:prop_types_default().func.isRequired};const gradientStop=GradientStop;const colorPicker_useKeyMoveStop=function useKeyMoveStop(ref,onMove){(0,keyboard._h)(ref,"left",(()=>onMove(.01)),[onMove]),(0,keyboard._h)(ref,"right",(()=>onMove(-.01)),[onMove])};const colorPicker_useKeyAddStop=function useKeyAddStop(ref,onAdd,stops,currentStopIndex){(0,keyboard._h)(ref,"enter",(()=>onAdd(function truncate(val,pos){return Number(val.toFixed(pos))}(function getNewStopPosition(stops,currentStopIndex){const isLastStopFocussed=currentStopIndex===stops.length-1;if(isLastStopFocussed&&stops[currentStopIndex].position<1)return 1;if(0===currentStopIndex&&stops[0].position>0)return 0;const preStop=isLastStopFocussed?stops[currentStopIndex-1]:stops[currentStopIndex],postStop=isLastStopFocussed?stops[currentStopIndex]:stops[currentStopIndex+1];return preStop.position+(postStop.position-preStop.position)/2}(stops,currentStopIndex),4))),[onAdd,stops,currentStopIndex])};const colorPicker_useKeyDeleteStop=function useKeyDeleteStop(ref,onDelete){(0,keyboard._h)(ref,"delete",(()=>{ref.current.focus(),onDelete()}),[onDelete,ref])};const colorPicker_useKeyFocus=function useKeyFocus(ref,stops,currentStopIndex){const numStops=stops.length,stopRefs=(0,src.Kr)((()=>Array.from({length:numStops}).map(src._3)),[numStops]);return(0,src.Nf)((()=>{ref.current.contains(document.activeElement)&&stopRefs[currentStopIndex].current.focus()}),[currentStopIndex,stopRefs,numStops,ref]),stopRefs};function getPageX(evt){return evt.pageX||evt.clientX}const colorPicker_usePointerAddStop=function usePointerAddStop(ref,onAdd){const[tempPointerPosition,setTempPointerPosition]=(0,src.J0)(null);return(0,src.Nf)((()=>{const node=ref.current,nodeLeftEdge=node.getBoundingClientRect().left,onPointerDown=evt=>{if(evt.target!==node)return;const relativePosition=(getPageX(evt)-nodeLeftEdge+7)/112;onAdd(1.0625-relativePosition),setTempPointerPosition(null)},onPointerMove=evt=>{evt.target===node?setTempPointerPosition(getPageX(evt)-nodeLeftEdge):setTempPointerPosition(null)},onPointerLeave=evt=>{evt.target===node&&setTempPointerPosition(null)};return node.addEventListener("pointermove",onPointerMove),node.addEventListener("pointerleave",onPointerLeave),node.addEventListener("pointerdown",onPointerDown),()=>{node.removeEventListener("pointermove",onPointerMove),node.removeEventListener("pointerleave",onPointerLeave),node.removeEventListener("pointerdown",onPointerDown)}}),[ref,onAdd]),tempPointerPosition};const colorPicker_usePointerMoveStop=function usePointerMoveStop(ref,onMove){const lastPageX=(0,src.li)(null);(0,src.Nf)((()=>{const node=ref.current,onPointerMove=evt=>{const relativeDeltaX=getPageX(evt)-lastPageX.current;lastPageX.current=getPageX(evt),onMove(-relativeDeltaX/112)},onPointerUp=evt=>{lastPageX.current=null,function releasePointerCapture(evt){evt.target.releasePointerCapture&&evt.target.releasePointerCapture(evt.pointerId)}(evt),evt.target.removeEventListener("pointermove",onPointerMove),evt.target.removeEventListener("pointerup",onPointerUp)},onPointerDown=evt=>{evt.target!==node&&(lastPageX.current=getPageX(evt),function setPointerCapture(evt){evt.target.setPointerCapture&&evt.target.setPointerCapture(evt.pointerId)}(evt),evt.target.addEventListener("pointermove",onPointerMove),evt.target.addEventListener("pointerup",onPointerUp))};return node.addEventListener("pointerdown",onPointerDown),()=>node.removeEventListener("pointerdown",onPointerDown)}),[ref,onMove])},Line=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientLine__Line",componentId:"sc-1k22wp0-0"})([""," width:","px;height:","px;border-radius:2px;position:relative;&:focus{outline:none;}"],transparentBg.o,112,12),gradientLine_Background=styled_components_browser_esm.Ay.div.attrs((({stops})=>({style:(0,generatePatternStyles.A)({type:"linear",stops,rotation:.25})}))).withConfig({displayName:"gradientLine__Background",componentId:"sc-1k22wp0-1"})(["position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;"]),TempPointer=(0,styled_components_browser_esm.Ay)(pointer).attrs((({x})=>({style:{left:`${x}px`},offsetX:-6}))).withConfig({displayName:"gradientLine__TempPointer",componentId:"sc-1k22wp0-2"})(["height:","px;width:","px;opacity:0.6;top:1px;pointer-events:none;"],10,10);const gradientLine=function GradientLine({stops,currentStopIndex,onSelect,onAdd,onDelete,onMove}){const line=(0,src.li)();colorPicker_useKeyMoveStop(line,onMove),colorPicker_useKeyAddStop(line,onAdd,stops,currentStopIndex),colorPicker_useKeyDeleteStop(line,onDelete);const stopRefs=colorPicker_useKeyFocus(line,stops,currentStopIndex);colorPicker_usePointerMoveStop(line,onMove);const tempPointerPosition=colorPicker_usePointerAddStop(line,onAdd);return react.createElement(Line,{ref:line,"aria-label":(0,i18n.__)("Gradient line","web-stories"),tabIndex:"-1"},react.createElement(gradientLine_Background,{stops}),stops.map((({position,color},index)=>react.createElement(gradientStop,{ref:ref=>stopRefs[index].current=ref,key:index,index,isSelected:index===currentStopIndex,position,onSelect,color:{color}},react.createElement(pointer,{offsetX:-6})))),tempPointerPosition&&react.createElement(TempPointer,{"aria-label":(0,sprintf.A)((0,i18n.__)("Temporary gradient stop at %d%%","web-stories"),Math.round(tempPointerPosition/112*100)),x:tempPointerPosition}))},gradientPicker_Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientPicker__Wrapper",componentId:"sc-a6h8ls-0"})(["display:flex;justify-content:space-between;align-items:center;padding:16px 16px 0;height:60px;"]),Buttons=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientPicker__Buttons",componentId:"sc-a6h8ls-1"})(["display:flex;gap:8px;"]),SmallButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"gradientPicker__SmallButton",componentId:"sc-a6h8ls-2"})(["width:24px;height:24px;padding:0;svg{width:24px;height:24px;}"]);const gradientPicker=function GradientPicker({stops,currentStopIndex,type,onSelect,onAdd,onDelete,onMove,onRotate,onReverse}){const reverseLabel=(0,i18n.__)("Reverse gradient stops","web-stories"),rotateLabel=(0,i18n.__)("Rotate gradient","web-stories"),canRotate="radial"!==type;return react.createElement(gradientPicker_Wrapper,null,react.createElement(gradientLine,{stops,currentStopIndex,onSelect,onAdd,onDelete,onMove}),react.createElement(Buttons,null,react.createElement(components_tooltip.A,{hasTail:!0,title:reverseLabel},react.createElement(SmallButton,{"aria-label":reverseLabel,onClick:onReverse,type:constants.VQ.Quaternary,size:constants.Mp.Small,variant:constants.Ak.Square},react.createElement(arrows_leftright.A,null))),canRotate&&react.createElement(components_tooltip.A,{hasTail:!0,title:rotateLabel},react.createElement(SmallButton,{onClick:onRotate,"aria-label":rotateLabel,type:constants.VQ.Quaternary,size:constants.Mp.Small,variant:constants.Ak.Square},react.createElement(arrow_right_curved.A,{id:"gradient-rotator"})))))};var pencil=__webpack_require__("./packages/design-system/src/icons/pencil.svg"),cross=__webpack_require__("./packages/design-system/src/icons/cross.svg");function header_extends(){return header_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},header_extends.apply(null,arguments)}const header_Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"header__Wrapper",componentId:"sc-3jvjbz-0"})(["display:flex;justify-content:space-between;align-items:center;height:","px;padding:4px 8px 4px 8px;position:relative;border-bottom:1px solid ",";"],44,(({theme})=>theme.colors.divider.tertiary)),Actions=styled_components_browser_esm.Ay.div.withConfig({displayName:"header__Actions",componentId:"sc-3jvjbz-1"})(["display:flex;margin-left:auto;"]),StyledButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"header__StyledButton",componentId:"sc-3jvjbz-2"})(["margin-left:8px;",";"],styles.Y);const header=function Header({children,handleClose,isEditMode=!1,setIsEditMode=noop.l,hasPresets=!1}){const ref=(0,src.li)();(0,src.vJ)((()=>{ref.current?.focus()}),[]);const buttonProps={type:constants.VQ.Tertiary,size:constants.Mp.Small,variant:constants.Ak.Square,onClick:evt=>{evt.stopPropagation(),setIsEditMode(!isEditMode)},isEditMode};return react.createElement(header_Wrapper,null,children,react.createElement(Actions,null,hasPresets?isEditMode?react.createElement(StyledButton,header_extends({},buttonProps,{variant:constants.Ak.Rectangle,"aria-label":(0,i18n.__)("Exit edit mode","web-stories")}),(0,i18n.__)("Done","web-stories")):react.createElement(StyledButton,header_extends({},buttonProps,{variant:constants.Ak.Square,"aria-label":(0,i18n.__)("Edit colors","web-stories")}),react.createElement(pencil.A,null)):null,react.createElement(StyledButton,{"aria-label":(0,i18n.__)("Close","web-stories"),onClick:handleClose,type:constants.VQ.Tertiary,size:constants.Mp.Small,variant:constants.Ak.Square,ref},react.createElement(cross.A,null))))};var toggleButton=__webpack_require__("./packages/design-system/src/components/button/toggleButton.tsx"),pattern_solid=__webpack_require__("./packages/design-system/src/icons/pattern_solid.svg"),pattern_linear=__webpack_require__("./packages/design-system/src/icons/pattern_linear.svg"),pattern_radial=__webpack_require__("./packages/design-system/src/icons/pattern_radial.svg");const patternTypePicker_Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"patternTypePicker__Wrapper",componentId:"sc-1mq6bg0-0"})(["display:flex;justify-content:flex-start;align-items:center;height:","px;padding:0 16px;position:relative;gap:8px;"],52);const patternTypePicker=function PatternTypePicker({type,setToGradient,setToSolid}){const setToLinear=(0,src.hb)((()=>setToGradient("linear")),[setToGradient]),setToRadial=(0,src.hb)((()=>setToGradient("radial")),[setToGradient]);return react.createElement(patternTypePicker_Wrapper,null,react.createElement(toggleButton.f,{"aria-label":(0,i18n.__)("Solid pattern type","web-stories"),onClick:setToSolid,type:constants.VQ.Quaternary,size:constants.Mp.Small,variant:constants.Ak.Square,isToggled:"solid"===type},react.createElement(pattern_solid.A,null)),react.createElement(toggleButton.f,{"aria-label":(0,i18n.__)("Linear gradient pattern type","web-stories"),onClick:setToLinear,type:constants.VQ.Quaternary,size:constants.Mp.Small,variant:constants.Ak.Square,isToggled:"linear"===type},react.createElement(pattern_linear.A,null)),react.createElement(toggleButton.f,{"aria-label":(0,i18n.__)("Radial gradient pattern type","web-stories"),onClick:setToRadial,type:constants.VQ.Quaternary,size:constants.Mp.Small,variant:constants.Ak.Square,isToggled:"radial"===type},react.createElement(pattern_radial.A,null)))};__webpack_require__("./node_modules/core-js/modules/esnext.iterator.some.js");const colorPicker_insertStop=function insertStop(stops,newPosition){const followingIndex=stops.findIndex((({position})=>position>newPosition));if(-1===followingIndex)return{index:stops.length,color:stops[stops.length-1].color};if(0===followingIndex)return{index:0,color:stops[0].color};const preceding=stops[followingIndex-1],following=stops[followingIndex],ratio=(newPosition-preceding.position)/(following.position-preceding.position),{color:{r:pr,g:pg,b:pb,a:pa=1}}=preceding,{color:{r:fr,g:fg,b:fb,a:fa=1}}=following,mix=(p,f)=>p+(f-p)*ratio,fullColor={r:Math.round(mix(pr,fr)),g:Math.round(mix(pg,fg)),b:Math.round(mix(pb,fb)),a:mix(pa,fa)};return{index:followingIndex,color:1===fullColor.a?{r:fullColor.r,g:fullColor.g,b:fullColor.b}:fullColor}};function regenerateStops(stops){return stops.map((({color:{r,g,b,a},position})=>({color:(0,createSolid.A)(r,g,b,a).color,position})))}const colorPicker_regenerateColor=function regenerateColor(pattern){const{regenerate,type}=pattern;if(!regenerate)return null;switch(type){case"solid":return function regenerateSolid({currentColor:{r,g,b,a}}){return(0,createSolid.A)(r,g,b,a)}(pattern);case TYPE_LINEAR:return function regenerateLinear({stops,rotation,alpha}){const minimal={type:TYPE_LINEAR,stops:regenerateStops(stops)};return 0!==rotation&&(minimal.rotation=rotation),1!==alpha&&void 0!==alpha&&(minimal.alpha=alpha),minimal}(pattern);case TYPE_RADIAL:return function regenerateRadial({stops,center,size,alpha}){const minimal={type:TYPE_RADIAL,stops:regenerateStops(stops)};return!center||.5===center.x&&.5===center.y||(minimal.center=center),!size||1===size.w&&1===size.h||(minimal.size=size),1!==alpha&&void 0!==alpha&&(minimal.alpha=alpha),minimal}(pattern);default:return null}},initialState={type:"solid",regenerate:!1,stops:[],currentColor:{r:0,g:0,b:0,a:0},currentStopIndex:0,rotation:.5,alpha:1,center:{x:.5,y:.5},size:{w:1,h:1}},reducer={load:(state,{payload})=>{const{type,color,stops,rotation,center,size,alpha}=payload,maybeReset=type&&"solid"!==type&&(state.type!==type||stops?.length!==state.stops?.length)?{currentColor:stops[0].color,currentStopIndex:0}:{};switch(type){case TYPE_LINEAR:return{...state,...maybeReset,type,regenerate:!1,stops,alpha:isNaN(alpha)?state.alpha:alpha,rotation:isNaN(rotation)?0:rotation};case TYPE_RADIAL:return{...state,...maybeReset,type,regenerate:!1,stops,center:void 0!==center?center:state.center,size:void 0!==size?size:state.size,alpha:isNaN(alpha)?state.alpha:alpha};default:return{...state,type:"solid",regenerate:!1,currentColor:color}}},setToSolid:state=>({...state,type:"solid",regenerate:!0}),setToGradient:(state,{payload})=>{const stops=state.stops&&state.stops.length>=2?state.stops:[{color:state.currentColor,position:0},{color:state.currentColor,position:1}];return{...state,regenerate:!0,type:payload,stops}},addStopAt:(state,{payload:newPosition})=>{if(newPosition=Number(newPosition.toFixed(2)),state.stops.some((({position})=>position===newPosition)))return state;const{index,color}=colorPicker_insertStop(state.stops,newPosition),stops=[...state.stops.slice(0,index),{color,position:newPosition},...state.stops.slice(index)];return{...state,regenerate:!0,currentColor:color,currentStopIndex:index,stops}},moveCurrentStopBy:(state,{payload:deltaPosition})=>{const index=state.currentStopIndex,currentPosition=state.stops[index].position,desiredPosition=Math.max(0,Math.min(1,Number((currentPosition+deltaPosition).toFixed(2))));if(desiredPosition===currentPosition)return state;const stops=[...state.stops.slice(0,index),{...state.stops[index],position:desiredPosition},...state.stops.slice(index+1)];stops.sort(((a,b)=>a.position-b.position));const currentStopIndex=stops.findIndex((({position})=>position===desiredPosition));return{...state,regenerate:!0,stops,currentStopIndex}},removeCurrentStop:state=>{if(2===state.stops.length)return state;const index=state.currentStopIndex,stops=[...state.stops];stops.splice(index,1);const currentStopIndex=index===stops.length?index-1:index;return{...state,regenerate:!0,stops,currentColor:stops[currentStopIndex].color,currentStopIndex}},updateCurrentColor:(state,{payload:{rgb}})=>{const currentColor={...rgb},newState={...state,regenerate:!0,currentColor};return"solid"!==state.type&&(newState.stops=[...state.stops.slice(0,state.currentStopIndex),{...state.stops[state.currentStopIndex],color:currentColor},...state.stops.slice(state.currentStopIndex+1)]),newState},rotateClockwise:state=>({...state,rotation:(state.rotation+.25)%1,regenerate:!0}),selectStop:(state,{payload:newIndex})=>{const currentStopIndex=Math.max(0,Math.min(state.stops.length-1,newIndex)),currentColor=state.stops[currentStopIndex].color;return{...state,currentStopIndex,currentColor}},reverseStops:state=>{const stops=state.stops.map((({color,position})=>({color,position:1-position}))).reverse(),currentStopIndex=stops.length-state.currentStopIndex-1;return{...state,stops,currentStopIndex,regenerate:!0}}};const colorPicker_useColor=function useColor(){const[state,actions]=(0,src.Fm)(initialState,reducer),generatedColor=colorPicker_regenerateColor(state);return{state:{...state,generatedColor},actions}};__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js");var getUniquePresets=__webpack_require__("./packages/story-editor/src/utils/getUniquePresets.ts");const addCustomColor_StyledButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"addCustomColor__StyledButton",componentId:"sc-4t2ps2-0"})(["flex:0 0 32px;margin:0 16px 16px;"]);const addCustomColor=function AddCustomColor({color,onSave}){const{updateStory,globalStoryStyles}=(0,useStory.A)((({state:{story:{globalStoryStyles}},actions:{updateStory}})=>({globalStoryStyles,updateStory}))),handleAddSavedColor=(0,src.hb)((()=>{updateStory({properties:{globalStoryStyles:{...globalStoryStyles,colors:(0,getUniquePresets.A)([...globalStoryStyles.colors,color].filter(Boolean))}}}),onSave()}),[onSave,color,globalStoryStyles,updateStory]);return react.createElement(addCustomColor_StyledButton,{onClick:handleAddSavedColor,type:constants.VQ.Secondary,size:constants.Mp.Small,variant:constants.Ak.Rectangle},(0,i18n.__)("Add to Saved Colors","web-stories"))};const customColorPicker=function CustomColorPicker({color,allowsGradient,allowsOpacity,handleColorChange,handleClose,hideCustomPicker,allowsSavedColors,hasEyedropper}){const{state:{type,stops,currentStopIndex,currentColor,generatedColor},actions:{load,updateCurrentColor,reverseStops,selectStop,addStopAt,removeCurrentStop,rotateClockwise,moveCurrentStopBy,setToSolid,setToGradient}}=colorPicker_useColor(),isMounted=(0,src.li)(!0);(0,src.vJ)((()=>()=>{isMounted.current=!1}),[]),(0,src.vJ)((()=>{generatedColor&&handleColorChange(generatedColor)}),[handleColorChange,generatedColor]),(0,src.vJ)((()=>{load(color||(0,createSolid.A)(0,0,0))}),[color,load]);const handleColorPickerChange=(0,src.hb)((e=>{updateCurrentColor(e),!isMounted.current&&e?.rgb&&handleColorChange({color:e.rgb})}),[updateCurrentColor,handleColorChange]);return react.createElement(react.Fragment,null,react.createElement(header,{handleClose},react.createElement(button_button.$,{"aria-label":(0,i18n.__)("Go back","web-stories"),onClick:hideCustomPicker,type:constants.VQ.Tertiary,size:constants.Mp.Small,variant:constants.Ak.Square},react.createElement(arrow_left.A,null))),allowsGradient&&react.createElement(patternTypePicker,{type,setToGradient,setToSolid}),"solid"!==type&&react.createElement(gradientPicker,{stops,currentStopIndex,onSelect:selectStop,onReverse:reverseStops,onAdd:addStopAt,onDelete:removeCurrentStop,onRotate:rotateClockwise,onMove:moveCurrentStopBy,type}),react.createElement(currentColorPicker,{color:currentColor,onChange:handleColorPickerChange,showOpacity:allowsOpacity,hasEyedropper}),allowsSavedColors&&react.createElement(addCustomColor,{color:generatedColor||color,onSave:hideCustomPicker}))};var scrollbar=__webpack_require__("./packages/design-system/src/theme/helpers/scrollbar.ts"),plus_outline=__webpack_require__("./packages/design-system/src/icons/plus_outline.svg"),localStore=__webpack_require__("./packages/design-system/src/utils/localStore.ts"),hasOpacity=__webpack_require__("./packages/patterns/src/hasOpacity.ts"),outline=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),useRovingTabIndex=__webpack_require__("./packages/story-editor/src/utils/useRovingTabIndex/index.js"),plus=__webpack_require__("./packages/design-system/src/icons/plus.svg"),useAddPreset=__webpack_require__("./packages/story-editor/src/utils/useAddPreset.js");function colorAdd_extends(){return colorAdd_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},colorAdd_extends.apply(null,arguments)}const AddColorAction=styled_components_browser_esm.Ay.button.withConfig({displayName:"colorAdd__AddColorAction",componentId:"sc-1s3q8di-0"})(["cursor:pointer;background-color:transparent;color:",";border-color:",";border-width:1px;border-style:dashed;border-radius:50%;height:","px;width:","px;padding:0;svg{height:100%;width:100%;}:hover{border-color:",";}",";"],(({theme})=>theme.colors.fg.primary),(({theme})=>theme.colors.border.defaultNormal),24,24,(({theme})=>theme.colors.border.defaultHover),styles.Y);const colorAdd=function ColorAdd({isLocal=!1,isGlobal=!1,isBackground=!1,...props}){const{addGlobalPreset,addLocalPreset}=(0,useAddPreset.A)({presetType:src_constants.aS.COLOR,isBackgroundColor:isBackground});if(!isLocal&&!isGlobal)return null;const label=isLocal?(0,i18n.__)("Add local color","web-stories"):(0,i18n.__)("Add global color","web-stories");return react.createElement(AddColorAction,colorAdd_extends({tabIndex:"0",onClick:isLocal?addLocalPreset:addGlobalPreset,"aria-label":label},props),react.createElement(plus.A,null))};function basicColorList_extends(){return basicColorList_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},basicColorList_extends.apply(null,arguments)}const focusStyle=(0,styled_components_browser_esm.AH)(["",";"],(({theme})=>outline.Q(theme.colors.border.focus,theme.colors.bg.secondary))),SwatchList=styled_components_browser_esm.Ay.div.attrs({role:"listbox"}).withConfig({displayName:"basicColorList__SwatchList",componentId:"sc-10h6tzp-0"})(["display:flex;max-width:100%;flex-wrap:wrap;gap:6px;"]),StyledSwatch=(0,styled_components_browser_esm.Ay)(swatch.A).attrs((({isSelected})=>({role:"option","aria-selected":isSelected}))).withConfig({displayName:"basicColorList__StyledSwatch",componentId:"sc-10h6tzp-1"})(["",";",""],focusStyle,(({isSelected,theme})=>isSelected&&(0,styled_components_browser_esm.AH)(["border:2px solid ",";"],theme.colors.border.defaultActive)));function getPatternAsString(pattern){if(!pattern)return"";const styles=(0,generatePatternStyles.A)(pattern);return styles.backgroundColor||styles.backgroundImage}function ConditionalTooltip({tooltip,children}){return tooltip?react.createElement(components_tooltip.A,{title:tooltip},children):children}const basicColorList=function BasicColorList({color,colors,handleClick,allowsOpacity,allowsGradient,isLocal=!1,isGlobal=!1,isEditMode,changedStyle,...rest}){const colorAsBackground=getPatternAsString(color),listRef=(0,src.li)(null);(0,useRovingTabIndex.A)({ref:listRef});const selectedSwatchIndex=colors.map(getPatternAsString).findIndex((c=>colorAsBackground===c));let firstIndex=0;const colorType=isLocal?(0,i18n.__)("local","web-stories"):(0,i18n.__)("global","web-stories"),isBackground="background"===changedStyle;return react.createElement(react.Fragment,null,colors.length>0&&react.createElement(SwatchList,basicColorList_extends({ref:listRef},rest),colors.map(((pattern,i)=>{const isTransparentAndInvalid=!allowsOpacity&&(0,hasOpacity.A)(pattern),isGradientAndInvalid=!allowsGradient&&(0,hasGradient.A)(pattern),isDisabled=(isTransparentAndInvalid||isGradientAndInvalid)&&!isEditMode;let tooltip=null;isDisabled&&!isEditMode&&(tooltip=isTransparentAndInvalid?(0,i18n.__)("Page background colors cannot have an opacity.","web-stories"):(0,i18n.__)("Gradient not allowed for Text","web-stories"));const patternAsBackground=getPatternAsString(pattern),title=isEditMode?(0,sprintf.A)((0,i18n.__)("Delete %1$s color: %2$s","web-stories"),colorType,patternAsBackground):patternAsBackground,isSelected=colorAsBackground===patternAsBackground;let tabIndex=i===firstIndex?0:-1;return selectedSwatchIndex>=0?tabIndex=isSelected?0:-1:isDisabled&&i===firstIndex&&(firstIndex++,tabIndex=-1),react.createElement(ConditionalTooltip,{key:patternAsBackground,tooltip},react.createElement(StyledSwatch,{onClick:()=>handleClick(pattern,isLocal),pattern,isSelected,isDisabled,tabIndex,title},isEditMode&&react.createElement(cross.A,null)))})),(isLocal||isGlobal)&&react.createElement(colorAdd,{isLocal,isGlobal,isBackground})),!colors.length&&(isLocal||isGlobal)&&react.createElement(colorAdd,{isLocal,isGlobal,isBackground}))};var checkbox_checkbox=__webpack_require__("./packages/design-system/src/components/checkbox/checkbox.tsx"),dialog=__webpack_require__("./packages/story-editor/src/components/dialog/index.js");const Label=styled_components_browser_esm.Ay.label.withConfig({displayName:"confirmationDialog__Label",componentId:"sc-bvt4vo-0"})(["margin-left:12px;"]),CheckboxWrapper=styled_components_browser_esm.Ay.footer.withConfig({displayName:"confirmationDialog__CheckboxWrapper",componentId:"sc-bvt4vo-1"})(["display:flex;margin-top:12px;padding:14px 0 0 9px;border-top:1px solid ",";"],(({theme})=>theme.colors.divider.primary));const confirmationDialog=function ConfirmationDialog({onClose,onPrimary}){const[isDialogDismissed,setIsDialogDismissed]=(0,src.J0)(localStore.x.getItemByKey(localStore.$.DELETE_COLOR_PRESET_DIALOG_DISMISSED)),cbId=`cb-${(0,v4.A)()}`;return react.createElement(dialog.A,{isOpen:!0,onClose,secondaryText:(0,i18n.__)("Cancel","web-stories"),onPrimary,primaryText:(0,i18n.__)("Delete","web-stories")},react.createElement(typography_text.E.Paragraph,{size:types.$.Small},(0,i18n.__)("This is a global color. Deleting this color will remove it from the Saved Colors across all stories and the color will no longer be available to any other users on the site.","web-stories")),react.createElement(CheckboxWrapper,null,react.createElement(checkbox_checkbox.A,{id:cbId,checked:isDialogDismissed,onChange:()=>{localStore.x.setItemByKey(localStore.$.DELETE_COLOR_PRESET_DIALOG_DISMISSED,!isDialogDismissed),setIsDialogDismissed(!isDialogDismissed)}}),react.createElement(Label,{htmlFor:cbId},react.createElement(typography_text.E.Span,{size:types.$.Small},(0,i18n.__)("Don't ask for confirmation again.","web-stories")))))};var useDeleteColor=__webpack_require__("./packages/story-editor/src/components/colorPicker/useDeleteColor.js");const Body=styled_components_browser_esm.Ay.div.withConfig({displayName:"basicColorPicker__Body",componentId:"sc-c2cm2c-0"})(["display:flex;flex-direction:column;padding:8px 16px 0;overflow:auto;",";"],scrollbar.W),basicColorPicker_Footer=styled_components_browser_esm.Ay.div.withConfig({displayName:"basicColorPicker__Footer",componentId:"sc-c2cm2c-1"})(["padding:8px 16px 16px;display:flex;flex-direction:column;"]),SavedColors=styled_components_browser_esm.Ay.div.withConfig({displayName:"basicColorPicker__SavedColors",componentId:"sc-c2cm2c-2"})(["border-bottom:1px solid ",";padding-bottom:16px;"],(({theme})=>theme.colors.border.defaultNormal)),DefaultColors=styled_components_browser_esm.Ay.div.withConfig({displayName:"basicColorPicker__DefaultColors",componentId:"sc-c2cm2c-3"})([""]),basicColorPicker_Label=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).attrs({size:types.$.Small}).withConfig({displayName:"basicColorPicker__Label",componentId:"sc-c2cm2c-4"})(["color:",";margin:12px 0 10px;"],(({theme})=>theme.colors.fg.secondary)),DefaultText=(0,styled_components_browser_esm.Ay)(basicColorPicker_Label).withConfig({displayName:"basicColorPicker__DefaultText",componentId:"sc-c2cm2c-5"})(["margin:0 0 0 8px;color:",";"],(({theme})=>theme.colors.fg.primary)),basicColorPicker_StyledButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"basicColorPicker__StyledButton",componentId:"sc-c2cm2c-6"})(["display:flex;justify-content:center;align-items:center;gap:4px;flex-basis:100%;"]),StyledText=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).withConfig({displayName:"basicColorPicker__StyledText",componentId:"sc-c2cm2c-7"})(["padding:5px 10px;"]),StyledPlus=(0,styled_components_browser_esm.Ay)(plus_outline.A).withConfig({displayName:"basicColorPicker__StyledPlus",componentId:"sc-c2cm2c-8"})(["width:32px;margin:-8px 0;"]),EyedropperWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"basicColorPicker__EyedropperWrapper",componentId:"sc-c2cm2c-9"})(["display:flex;"]);const basicColorPicker=function BasicColorPicker({color,handleColorChange,allowsOpacity,allowsGradient,allowsSavedColors,showCustomPicker,handleClose,showDialog,setShowDialog,changedStyle,hasEyedropper,allowsSavedColorDeletion,shouldCloseOnSelection}){const{savedColors,storyColors}=(0,useStory.A)((state=>({savedColors:state.state.story?.globalStoryStyles?.colors||[],storyColors:state.state.story?.currentStoryStyles?.colors||[]}))),[isEditMode,setIsEditMode]=(0,src.J0)(!1),[toDelete,setToDelete]=(0,src.J0)(null),hasPresets=storyColors.length>0||savedColors.length>0,{initEyedropper}=eyedropper({onChange:(0,src.hb)((newColor=>handleColorChange({color:newColor})),[handleColorChange])}),{deleteLocalColor,deleteGlobalColor}=(0,useDeleteColor.A)({onEmpty:()=>setIsEditMode(!1)}),handleSelect=pattern=>{handleColorChange(pattern),shouldCloseOnSelection&&handleClose()},handleClick=(preset,isLocal=!1)=>{if(!isEditMode)return void handleSelect(preset);if(isLocal)return void deleteLocalColor(preset);localStore.x.getItemByKey(localStore.$.DELETE_COLOR_PRESET_DIALOG_DISMISSED)?deleteGlobalColor(preset):(setShowDialog(!0),setToDelete(preset))},hasHeader=!shouldCloseOnSelection||allowsSavedColorDeletion;return react.createElement(react.Fragment,null,hasHeader&&react.createElement(header,{handleClose,isEditMode,setIsEditMode,hasPresets:hasPresets&&allowsSavedColors},react.createElement(DefaultText,null,(0,i18n.__)("Color","web-stories"))),react.createElement(Body,null,hasEyedropper&&react.createElement(EyedropperWrapper,null,react.createElement(button_button.$,{variant:constants.Ak.Square,type:constants.VQ.Quaternary,size:constants.Mp.Small,"aria-label":(0,i18n.__)("Pick a color from canvas","web-stories"),onClick:initEyedropper(),onPointerEnter:initEyedropper(!1)},react.createElement(pipette.A,null)),react.createElement(StyledText,{size:types.$.Small},(0,i18n.__)("Sample color","web-stories"))),allowsSavedColors&&react.createElement(SavedColors,null,react.createElement(basicColorPicker_Label,{id:"colorpicker-story-colors-title"},(0,i18n.__)("Current story","web-stories")),react.createElement(basicColorList,{color,colors:storyColors,handleClick,isLocal:!0,allowsOpacity,allowsGradient,"aria-labelledby":"colorpicker-story-colors-title",isEditMode,"data-testid":"saved-story-colors",changedStyle}),react.createElement(basicColorPicker_Label,{id:"colorpicker-saved-colors-title"},(0,i18n.__)("Saved colors","web-stories")),react.createElement(basicColorList,{color,colors:savedColors,isGlobal:!0,handleClick,allowsOpacity,allowsGradient,"aria-labelledby":"colorpicker-saved-colors-title",isEditMode,changedStyle})),react.createElement(DefaultColors,null,react.createElement(basicColorPicker_Label,{id:"colorpicker-default-colors-title"},(0,i18n.__)("Default","web-stories")),react.createElement(basicColorList,{color,colors:BASIC_COLORS,handleClick:pattern=>{handleSelect(pattern),setIsEditMode(!1)},allowsOpacity,allowsGradient,"aria-labelledby":"colorpicker-default-colors-title",isEditMode:!1}))),react.createElement(basicColorPicker_Footer,null,react.createElement(basicColorPicker_StyledButton,{onClick:showCustomPicker,type:constants.VQ.Secondary,size:constants.Mp.Small,variant:constants.Ak.Rectangle},(0,i18n.__)("Custom","web-stories"),react.createElement(StyledPlus,null))),showDialog&&react.createElement(confirmationDialog,{onClose:()=>setShowDialog(!1),onPrimary:()=>{deleteGlobalColor(toDelete),setToDelete(null),setShowDialog(!1)}}))},Container=styled_components_browser_esm.Ay.div.withConfig({displayName:"colorPicker__Container",componentId:"sc-1xsejx6-0"})(["border-radius:8px;background:",";user-select:none;display:flex;flex-direction:column;gap:12px;align-items:stretch;",";overflow:hidden;&.picker-appear{opacity:0.01;margin-top:-10px;&.picker-appear-active{opacity:1;margin-top:0;transition:300ms ease-out;transition-property:opacity,margin-top;}}"],(({theme})=>theme.colors.bg.secondary),(({maxHeight})=>maxHeight?`\n          height: ${maxHeight}px;\n          width: ${208+theme_constants.i.SCROLLBAR_WIDTH}px;\n        `:"\n          width: 208px;\n        "));const colorPicker=function ColorPicker({onChange,isEyedropperActive=!1,color=null,allowsGradient=!1,allowsOpacity=!0,allowsSavedColors=!1,hasEyedropper=!0,maxHeight=null,onClose=noop.l,changedStyle="background",onDimensionChange=noop.l,allowsSavedColorDeletion=!0,shouldCloseOnSelection=!1}){const[showDialog,setShowDialog]=(0,src.J0)(!1),[isCustomPicker,setCustomPicker]=(0,src.J0)((0,hasGradient.A)(color)),showCustomPicker=(0,src.hb)((()=>{setCustomPicker(!0),onDimensionChange()}),[onDimensionChange]),hideCustomPicker=(0,src.hb)((()=>{setCustomPicker(!1),onDimensionChange()}),[onDimensionChange]),{actions:{pushTransform}}=(0,transform_src.Gy)(),{selectedElementIds=[]}=(0,useStory.A)((({state:{selectedElementIds}})=>({selectedElementIds}))),onDebouncedChange=(0,src.YQ)(onChange,100,{leading:!0}),isMounted=(0,src.li)(!0);(0,src.vJ)((()=>()=>{isMounted.current=!1}),[]);const handleColorChange=(0,src.hb)((newColor=>{isMounted.current?onDebouncedChange(newColor):onChange(newColor),selectedElementIds.forEach((id=>{pushTransform(id,{color:newColor,style:changedStyle,staticTransformation:!0})}))}),[onChange,onDebouncedChange,selectedElementIds,changedStyle,pushTransform]),containerRef=(0,src.li)();(0,src.g$)(containerRef,(()=>{isEyedropperActive||showDialog||onClose()}),[isEyedropperActive,showDialog]);const previousFocus=(0,src.li)(document.activeElement),handleCloseAndRefocus=(0,src.hb)((evt=>{previousFocus.current&&previousFocus.current.focus(),onClose(evt)}),[onClose]);(0,keyboard._h)(containerRef,"esc",handleCloseAndRefocus),(0,useFocusTrapping.A)({ref:containerRef});const ActualColorPicker=isCustomPicker?customColorPicker:basicColorPicker;return react.createElement(CSSTransition.A,{nodeRef:containerRef,in:!0,appear:!0,classNames:"picker",timeout:300},react.createElement(Container,{role:"dialog","aria-label":(0,i18n.__)("Color and gradient picker","web-stories"),ref:containerRef,maxHeight},react.createElement(ActualColorPicker,{color,allowsGradient,allowsOpacity,handleColorChange,showCustomPicker,hideCustomPicker,handleClose:handleCloseAndRefocus,hasEyedropper,allowsSavedColors,showDialog,setShowDialog,changedStyle,allowsSavedColorDeletion,shouldCloseOnSelection})))};var useSidebar=__webpack_require__("./packages/story-editor/src/components/sidebar/useSidebar.js");function colorInput_extends(){return colorInput_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},colorInput_extends.apply(null,arguments)}const colorInput_Preview=styled_components_browser_esm.Ay.div.withConfig({displayName:"colorInput__Preview",componentId:"sc-1h4cp44-0"})(["height:36px;color:",";cursor:pointer;position:relative;width:100%;padding:0;"],(({theme})=>theme.colors.fg.primary)),Input=(0,styled_components_browser_esm.Ay)(hex.A).withConfig({displayName:"colorInput__Input",componentId:"sc-1h4cp44-1"})(["min-width:100px;div{background-color:transparent;}input{padding-left:26px;}"]),Tooltip=(0,styled_components_browser_esm.Ay)(components_tooltip.A).withConfig({displayName:"colorInput__Tooltip",componentId:"sc-1h4cp44-2"})(["width:100%;height:100%;"]),minimalInputContainerStyleOverride=(0,styled_components_browser_esm.AH)(["",";padding-right:6px;"],styles.t),ColorButton=(0,styled_components_browser_esm.Ay)(colorInput_Preview).attrs({as:"button",type:"button"}).withConfig({displayName:"colorInput__ColorButton",componentId:"sc-1h4cp44-3"})(["display:flex;overflow:hidden;border:1px solid ",";border-radius:4px;outline:none;background:transparent;&:focus{box-shadow:0 0 0 2px ",",0 0 0 4px ",";border-color:",";}"],(({theme})=>theme.colors.border.defaultNormal),(({theme})=>theme.colors.bg.primary),(({theme})=>theme.colors.border.focus),(({theme})=>theme.colors.border.defaultHover)),ColorPreview=styled_components_browser_esm.Ay.div.withConfig({displayName:"colorInput__ColorPreview",componentId:"sc-1h4cp44-4"})(["position:absolute;top:6px;left:6px;padding:0;width:24px;height:24px;background:transparent;border-radius:50px;cursor:pointer;"]),TextualPreview=styled_components_browser_esm.Ay.div.withConfig({displayName:"colorInput__TextualPreview",componentId:"sc-1h4cp44-5"})(["padding:6px 12px 6px 38px;text-align:left;flex-grow:1;height:32px;"]),MixedLabel=(0,styled_components_browser_esm.Ay)(TextualPreview).withConfig({displayName:"colorInput__MixedLabel",componentId:"sc-1h4cp44-6"})(["align-self:center;padding:6px 6px 6px 38px;"]),colorInput_StyledSwatch=(0,styled_components_browser_esm.Ay)(swatch.A).withConfig({displayName:"colorInput__StyledSwatch",componentId:"sc-1h4cp44-7"})(["",";"],styles.Y),DisclosureContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"colorInput__DisclosureContainer",componentId:"sc-1h4cp44-8"})(["width:",";padding-right:8px;display:flex;justify-content:",";align-items:center;align-self:center;"],(({isSmall})=>isSmall?"28px":"58px"),(({isSmall})=>isSmall?"center":"flex-end")),loadReactColor=()=>__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")),colorInput=(0,src.Rf)((function ColorInput({onChange,value=null,label=null,changedStyle,pickerPlacement=popup_constants.W.RightStart,isInDesignMenu=!1,hasInputs=!0,pickerProps,spacing,tooltipPlacement,colorFocusTrap=!1,...props},ref){const focusTrapInputRef=(0,src.li)(),colorFocusTrapButtonRef=(0,src.li)(),isMixed=value===src_constants.jW,previewPattern=(value=isMixed?"":value)?(0,getOpaquePattern.A)(value):{color:{r:0,g:0,b:0,a:0}},previewText=(0,getPreviewText.A)(value),[pickerOpen,setPickerOpen]=(0,src.J0)(!1),previewRef=(0,src.li)(null),{isEyedropperActive}=(0,app.yu)((({state:{isEyedropperActive}})=>({isEyedropperActive}))),[dynamicPlacement,setDynamicPlacement]=(0,src.J0)(pickerPlacement),{refs:{sidebar}}=(0,useSidebar.A)(),{styleConstants:{topOffset}={}}=(0,app.UK)(),positionPlacement=(0,src.hb)((popupRef=>{if(pickerPlacement?.startsWith("top")){const{top}=popupRef.current?.getBoundingClientRect()||{};top<=topOffset&&setDynamicPlacement(pickerPlacement.replace("top","bottom"))}}),[pickerPlacement,topOffset]),colorType=value?.type,isEditable=(!colorType||"solid"===colorType)&&hasInputs,buttonProps={onClick:()=>setPickerOpen(!0),"aria-label":label,onPointerEnter:()=>loadReactColor(),onFocus:()=>loadReactColor(),tabIndex:props.tabIndex},onClose=(0,src.hb)((()=>setPickerOpen(!1)),[]),tooltip=(0,i18n.__)("Open color picker","web-stories"),containerStyle=isInDesignMenu?minimalInputContainerStyleOverride:styles.t;return react.createElement(react.Fragment,null,isEditable?react.createElement(colorInput_Preview,{ref:previewRef},colorFocusTrap?react.createElement(focusTrapButton.A,{ref:colorFocusTrapButtonRef,inputRef:focusTrapInputRef,inputLabel:label},react.createElement(Input,colorInput_extends({ref:focusTrapInputRef,"aria-label":label,value:isMixed?null:value,onChange,isIndeterminate:isMixed,placeholder:isMixed?src_constants.Q6:"",containerStyleOverride:containerStyle,id:(0,v4.A)(),onKeyDown:e=>(0,focusTrapButton.t)(e,colorFocusTrapButtonRef),inputClassName:contextMenu_constants.D},props))):react.createElement(Input,colorInput_extends({ref,"aria-label":label,value:isMixed?null:value,onChange,isIndeterminate:isMixed,placeholder:isMixed?src_constants.Q6:"",containerStyleOverride:containerStyle,id:(0,v4.A)()},props)),react.createElement(ColorPreview,null,react.createElement(Tooltip,{title:tooltip,hasTail:!0,placement:tooltipPlacement},react.createElement(colorInput_StyledSwatch,colorInput_extends({isSmall:!0,pattern:previewPattern,id:(0,v4.A)()},buttonProps))))):react.createElement(Tooltip,{title:tooltip,hasTail:!0,placement:tooltipPlacement},react.createElement(ColorButton,colorInput_extends({ref:previewRef,id:(0,v4.A)()},buttonProps),react.createElement(ColorPreview,null,react.createElement(swatch.A,{isPreview:!0,role:"status",tabIndex:"-1",pattern:previewPattern,isIndeterminate:isMixed})),hasInputs?react.createElement(TextualPreview,null,react.createElement(typography_text.E.Paragraph,{size:types.$.Small},previewText)):react.createElement(react.Fragment,null,isMixed&&react.createElement(MixedLabel,null,react.createElement(typography_text.E.Span,{size:types.$.Small},src_constants.Q6)),react.createElement(DisclosureContainer,{isSmall:isMixed},react.createElement(disclosure.A,{$isOpen:pickerOpen}))))),react.createElement(popup.A,{anchor:previewRef,dock:isInDesignMenu?null:sidebar,isOpen:pickerOpen&&!isEyedropperActive,placement:dynamicPlacement,spacing,refCallback:positionPlacement,renderContents:({propagateDimensionChange})=>react.createElement(colorPicker,colorInput_extends({color:isMixed?null:value,isEyedropperActive,onChange,onClose,changedStyle,onDimensionChange:propagateDimensionChange},pickerProps))}))}));var numericInput=__webpack_require__("./packages/design-system/src/components/input/numericInput.tsx"),color_drop=__webpack_require__("./packages/design-system/src/icons/color_drop.svg");const color_getPreviewOpacity=function getPreviewOpacity(pattern){if(!pattern||pattern===src_constants.jW)return null;if(!("solid"===pattern.type||!pattern.type)){const{alpha=1}=pattern;return Math.round(100*alpha)}const{color:{a=1}}=pattern;return Math.round(100*a)};function opacityInput_extends(){return opacityInput_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},opacityInput_extends.apply(null,arguments)}const opacityInput_Input=(0,styled_components_browser_esm.Ay)(numericInput.A).withConfig({displayName:"opacityInput__Input",componentId:"sc-xy6710-0"})(["min-width:100px;div{background-color:transparent;}"]),opacityInput_minimalInputContainerStyleOverride=(0,styled_components_browser_esm.AH)(["",";width:76px;padding-right:6px;"],styles.t),opacityInput=(0,src.Rf)((function OpacityInput({value,onChange,isInDesignMenu,...props},ref){const[inputValue,setInputValue]=(0,src.J0)(""),handleChange=(0,src.hb)(((evt,val)=>{setInputValue(val),isNaN(val)||onChange(val/100)}),[onChange]),updateFromValue=(0,src.hb)((()=>setInputValue(color_getPreviewOpacity(value))),[value]);(0,src.vJ)((()=>updateFromValue()),[updateFromValue,value]);const containerStyle=isInDesignMenu?opacityInput_minimalInputContainerStyleOverride:styles.t;return react.createElement(opacityInput_Input,opacityInput_extends({ref,"aria-label":(0,i18n.__)("Opacity","web-stories"),onChange:handleChange,value:inputValue,unit:(0,i18n._x)("%","Percentage","web-stories"),suffix:react.createElement(color_drop.A,null),min:0,max:100,allowEmpty:!1,isFloat:!1,containerStyleOverride:containerStyle,id:(0,v4.A)()},props))})),OpacityWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"activeOpacity__OpacityWrapper",componentId:"sc-9gk8t7-0"})(["width:",";"],(({isInDesignMenu})=>isInDesignMenu?"calc(39% - 10px)":"calc(47% - 10px)")),activeOpacity=({handleOpacityChange,isInDesignMenu,opacityFocusTrap,tabIndex,value})=>{const opacityFocusTrapButtonRef=(0,src.li)(),opacityFocusTrapRef=(0,src.li)();return opacityFocusTrap?react.createElement(focusTrapButton.A,{ref:opacityFocusTrapButtonRef,inputRef:opacityFocusTrapRef,inputLabel:(0,i18n.__)("Opacity","web-stories"),styleOverride:(0,styled_components_browser_esm.AH)(["width:",";"],isInDesignMenu?"calc(35%)":"calc(45%)")},react.createElement(OpacityWrapper,{isInDesignMenu},react.createElement(opacityInput,{ref:opacityFocusTrapRef,tabIndex,inputClassName:contextMenu_constants.D,value,onChange:handleOpacityChange,isInDesignMenu,onKeyDown:e=>(0,focusTrapButton.t)(e,opacityFocusTrapButtonRef)}))):react.createElement(OpacityWrapper,{isInDesignMenu},react.createElement(opacityInput,{tabIndex,value,onChange:handleOpacityChange,isInDesignMenu}))},SPACING={FLOATING_MENU:{x:0,y:12},DEFAULT_SIDEBAR:{x:12,y:0}},containerCss=(0,styled_components_browser_esm.AH)(["display:flex;align-items:center;"]),color_Container=styled_components_browser_esm.Ay.section.withConfig({displayName:"color__Container",componentId:"sc-c7i660-0"})([""," gap:","px;width:",";"],containerCss,(({isInDesignMenu})=>isInDesignMenu?6:8),(({width})=>width?`${width}px`:"inherit"));color_Container.propTypes={isInDesignMenu:prop_types_default().bool,width:prop_types_default().number};const ColorInputsWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"color__ColorInputsWrapper",componentId:"sc-c7i660-1"})([""," gap:","px;"],containerCss,(({isInDesignMenu})=>isInDesignMenu?0:6)),Space=styled_components_browser_esm.Ay.div.withConfig({displayName:"color__Space",componentId:"sc-c7i660-2"})(["width:8px;height:1px;background-color:",";"],(({theme})=>theme.colors.divider.primary)),InputWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"color__InputWrapper",componentId:"sc-c7i660-3"})(["",""],(({hasInputs})=>hasInputs&&"width: calc(53% - 10px);")),EyeDropperButton=(0,styled_components_browser_esm.Ay)(button_button.$).attrs({variant:constants.Ak.Square,type:constants.VQ.Tertiary,size:constants.Mp.Small}).withConfig({displayName:"color__EyeDropperButton",componentId:"sc-c7i660-4"})(["",";"],styles.Y),DEFAULT_CONTAINER_LABEL_BASE=(0,i18n.__)("Color input","web-stories"),Color=(0,src.Rf)((function Color({onChange,allowsGradient=!1,allowsOpacity=!0,allowsSavedColors=!1,value=null,label=null,containerLabelBase=DEFAULT_CONTAINER_LABEL_BASE,changedStyle=null,hasEyedropper=!1,pickerHasEyedropper=!0,maxHeight=null,shouldCloseOnSelection=!1,allowsSavedColorDeletion=!0,pickerPlacement=popup_constants.W.RightStart,isInDesignMenu=!1,hasInputs=!0,width,tabIndex,opacityFocusTrap,colorFocusTrap},ref){const handleOpacityChange=(0,src.hb)((newOpacity=>onChange(color_applyOpacityChange(value,newOpacity))),[value,onChange]),containerLabel=(0,sprintf.A)((0,i18n.__)("%1$s: %2$s","web-stories"),containerLabelBase,label),displayOpacity=value!==src_constants.jW&&Boolean((0,getPreviewText.A)(value))&&hasInputs,{initEyedropper}=eyedropper({onChange:(0,src.hb)((color=>onChange({color})),[onChange])}),tooltip=(0,i18n.__)("Pick a color from canvas","web-stories"),tooltipPlacement=isInDesignMenu||hasEyedropper?popup_constants.W.Bottom:popup_constants.W.BottomStart,ignoreSetWidth=width&&value===src_constants.jW;return react.createElement(color_Container,{"aria-label":containerLabel,isInDesignMenu,width:!ignoreSetWidth&&width?width:null},hasEyedropper&&react.createElement(components_tooltip.A,{title:tooltip,hasTail:!0,placement:isInDesignMenu?popup_constants.W.Bottom:popup_constants.W.BottomStart},react.createElement(EyeDropperButton,{id:(0,v4.A)(),tabIndex,"aria-label":tooltip,onClick:initEyedropper(),onPointerEnter:initEyedropper(!1)},react.createElement(pipette.A,null))),react.createElement(ColorInputsWrapper,{isInDesignMenu},react.createElement(InputWrapper,{hasInputs},react.createElement(colorInput,{ref,tabIndex,onChange,value,label,changedStyle,pickerPlacement,hasInputs,isInDesignMenu,spacing:isInDesignMenu?SPACING.FLOATING_MENU:SPACING.DEFAULT_SIDEBAR,tooltipPlacement,colorFocusTrap,pickerProps:{allowsGradient,allowsOpacity,allowsSavedColors,hasEyedropper:pickerHasEyedropper,allowsSavedColorDeletion,maxHeight,shouldCloseOnSelection}})),allowsOpacity&&displayOpacity&&react.createElement(react.Fragment,null,react.createElement(Space,null),react.createElement(activeOpacity,{handleOpacityChange,isInDesignMenu,opacityFocusTrap,tabIndex,value}))))})),color=Color},"./packages/story-editor/src/components/form/row.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").Ay.div.withConfig({displayName:"row__Row",componentId:"sc-1olml0k-0"})(["display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin-bottom:16px;"," ",""],(({spaceBetween=!0})=>spaceBetween&&"justify-content: space-between;"),(({expand=!0})=>expand&&"flex: 1;"))},"./packages/story-editor/src/components/panels/shared/styles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>focusStyle,t:()=>inputContainerStyleOverride});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts");const focusStyle=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.AH)(["",";"],(({theme})=>_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__.Q(theme.colors.border.focus,theme.colors.bg.secondary))),inputContainerStyleOverride=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.AH)([":focus-within{",";}"],(({theme})=>_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__.g(theme.colors.border.focus,theme.colors.bg.secondary)))},"./packages/story-editor/src/components/sidebar/context.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./packages/react/src/index.ts").q6)({state:{},actions:{},tabs:{},refs:{}})},"./packages/story-editor/src/components/sidebar/useSidebar.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/story-editor/src/components/sidebar/context.js");const __WEBPACK_DEFAULT_EXPORT__=function useSidebar(selector){return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.i7)(_context__WEBPACK_IMPORTED_MODULE_1__.A,selector??_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.D_)}},"./packages/story-editor/src/components/tooltip/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Tooltip});var react=__webpack_require__("./node_modules/react/index.js"),constants=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),tooltip=__webpack_require__("./packages/design-system/src/components/tooltip/tooltip.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function Tooltip({hasTail=!0,placement=constants.W.Bottom,...props}){return react.createElement(tooltip.A,_extends({placement,hasTail},props))}},"./packages/story-editor/src/utils/presetUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ow:()=>getShapePresets,ac:()=>areAllType,bo:()=>getTextInlineStyles,mi:()=>getTextPresets,uV:()=>generatePresetStyle,vU:()=>getPagePreset});__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.every.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.find.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js");var _googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/patterns/src/isPatternEqual.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/patterns/src/convertToCSS.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/patterns/src/generatePatternStyles.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/patterns/src/createSolid.ts"),_googleforcreators_rich_text__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/rich-text/src/index.ts"),_googleforcreators_element_library__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/element-library/src/index.ts"),_googleforcreators_elements__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/elements/src/index.ts"),_constants__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/story-editor/src/constants/index.ts"),_objectPick__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/story-editor/src/utils/objectPick.ts");const TEXT_PRESET_STYLES=["backgroundColor","backgroundTextMode","font","fontSize","lineHeight","padding","textAlign"];function findMatchingColor(color,storyStyles,isText){const colorsToMatch=storyStyles.colors,patternType=isText?"color":"background";return colorsToMatch.find((value=>{try{return(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_10__.A)(value,color,patternType)}catch(e){return!1}}))}function generatePresetStyle(preset,prepareForCSS){const{color,backgroundColor,font,fontWeight,backgroundTextMode,textAlign,letterSpacing,lineHeight,isItalic,isUnderline,padding,fontSize}=preset;let style={textAlign,letterSpacing:letterSpacing/100+"em",fontWeight,textDecoration:isUnderline?"underline":null,fontStyle:isItalic?"italic":null,fontFamily:(0,_googleforcreators_element_library__WEBPACK_IMPORTED_MODULE_6__.x7)(font),...(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_12__.A)(color,"color")};return prepareForCSS||(style={...style,fontSize,lineHeight,padding,backgroundTextMode}),backgroundTextMode===_googleforcreators_elements__WEBPACK_IMPORTED_MODULE_7__.xu.NONE||prepareForCSS&&backgroundTextMode===_googleforcreators_elements__WEBPACK_IMPORTED_MODULE_7__.xu.HIGHLIGHT||(style={...style,...(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_12__.A)(backgroundColor,"background")}),style}function getExtractedInlineValue(value){return value!==_constants__WEBPACK_IMPORTED_MODULE_8__.jW?value:null}function getTextInlineStyles(content){const{color,fontWeight,isItalic,isUnderline,letterSpacing}=(0,_googleforcreators_rich_text__WEBPACK_IMPORTED_MODULE_5__.cM)(content);return{color:color!==_constants__WEBPACK_IMPORTED_MODULE_8__.jW?color:(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_13__.A)(0,0,0),fontWeight:getExtractedInlineValue(fontWeight),isItalic:getExtractedInlineValue(isItalic),isUnderline:getExtractedInlineValue(isUnderline),letterSpacing:getExtractedInlineValue(letterSpacing)}}function getTextPresets(elements,storyStyles,type,isBackgroundColor){const colors=_constants__WEBPACK_IMPORTED_MODULE_8__.aS.STYLE===type?[]:elements.map((({content,backgroundColor})=>isBackgroundColor?backgroundColor:(0,_googleforcreators_rich_text__WEBPACK_IMPORTED_MODULE_5__.cM)(content).color)).filter((color=>color!==_constants__WEBPACK_IMPORTED_MODULE_8__.jW)).filter((color=>color&&!findMatchingColor(color,storyStyles,!0))),textStyles=_constants__WEBPACK_IMPORTED_MODULE_8__.aS.COLOR===type?[]:elements.map((text=>({...(0,_objectPick__WEBPACK_IMPORTED_MODULE_9__.A)(text,TEXT_PRESET_STYLES),...getTextInlineStyles(text.content)}))).filter((preset=>!function findMatchingStylePreset(preset,storyStyles){const stylesToMatch=storyStyles.textStyles,toAdd=(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_11__.A)(generatePresetStyle(preset));return stylesToMatch.find((value=>toAdd===(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_11__.A)(generatePresetStyle(value))))}(preset,storyStyles)));return{colors,textStyles}}function getShapePresets(elements,storyStyles){return{colors:elements.map((({backgroundColor})=>backgroundColor||null)).filter((color=>color&&!findMatchingColor(color,storyStyles,!1)))}}function getPagePreset(page,storyStyles){return{colors:[page.backgroundColor].filter((color=>color&&!findMatchingColor(color,storyStyles,!1)))}}function areAllType(elType,selectedElements){return selectedElements.length>0&&selectedElements.every((({type})=>elType===type))}},"./packages/story-editor/src/utils/useAddPreset.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_app__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/story-editor/src/app/index.js"),_getUniquePresets__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/story-editor/src/utils/getUniquePresets.ts"),_presetUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/utils/presetUtils.js");const __WEBPACK_DEFAULT_EXPORT__=function useAddPreset({presetType,isBackgroundColor}){const{currentPage,currentStoryStyles={colors:[]},selectedElements,globalStoryStyles={colors:[],textStyles:[]},updateStory}=(0,_app__WEBPACK_IMPORTED_MODULE_1__.P3)((({state:{currentPage,selectedElements,story:{globalStoryStyles,currentStoryStyles}},actions:{updateStory}})=>({currentPage,currentStoryStyles,selectedElements,globalStoryStyles,updateStory}))),{colors,textStyles}=globalStoryStyles,{colors:localColors}=currentStoryStyles,isText=(0,_presetUtils__WEBPACK_IMPORTED_MODULE_3__.ac)("text",selectedElements),isBackground=selectedElements?.[0]?.id===currentPage?.elements?.[0]?.id,getPresets=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)(((addedPresets,currentPresets)=>isText?{...addedPresets,...(0,_presetUtils__WEBPACK_IMPORTED_MODULE_3__.mi)(selectedElements,currentPresets,presetType,isBackgroundColor)}:isBackground?{...addedPresets,...(0,_presetUtils__WEBPACK_IMPORTED_MODULE_3__.vU)(currentPage,currentPresets)}:{...addedPresets,...(0,_presetUtils__WEBPACK_IMPORTED_MODULE_3__.Ow)(selectedElements,currentPresets)}),[currentPage,isBackground,isText,presetType,selectedElements,isBackgroundColor]),updateLocalPresets=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((addedPresets=>{updateStory({properties:{currentStoryStyles:{colors:(0,_getUniquePresets__WEBPACK_IMPORTED_MODULE_2__.A)([...localColors,...addedPresets.colors])}}})}),[localColors,updateStory]),updateGlobalPresets=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((addedPresets=>{updateStory({properties:{globalStoryStyles:{textStyles:(0,_getUniquePresets__WEBPACK_IMPORTED_MODULE_2__.A)([...textStyles,...addedPresets.textStyles]),colors:(0,_getUniquePresets__WEBPACK_IMPORTED_MODULE_2__.A)([...colors,...addedPresets.colors])}}})}),[colors,textStyles,updateStory]),handleAddPreset=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)(((addedPresets,isLocal=!1)=>{const currentPresets=isLocal?currentStoryStyles:globalStoryStyles;if(addedPresets=getPresets(addedPresets,currentPresets),addedPresets.colors?.length>0||addedPresets.textStyles?.length>0)return isLocal?updateLocalPresets(addedPresets,currentPresets):updateGlobalPresets(addedPresets,currentPresets),addedPresets}),[getPresets,currentStoryStyles,globalStoryStyles,updateGlobalPresets,updateLocalPresets]);return{addGlobalPreset:evt=>(evt.stopPropagation(),handleAddPreset({textStyles:[],colors:[]})),addLocalPreset:evt=>(evt.stopPropagation(),handleAddPreset({colors:[]},!0))}}},"./packages/story-editor/src/utils/useFocusTrapping.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js");var _googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx");const __WEBPACK_DEFAULT_EXPORT__=function useFocusTrapping({ref}){const handleTab=e=>{const focusableElements=(node=ref.current)?[...node.querySelectorAll('a[href], button, textarea, input[type]:not([type="hidden"]), select')].filter((el=>!el.hasAttribute("disabled")&&"-1"!==el.getAttribute("tabindex"))):[];var node;const firstEl=focusableElements[0],lastEl=focusableElements[focusableElements.length-1];e.shiftKey||document.activeElement!==lastEl?e.shiftKey&&document.activeElement===firstEl&&(lastEl.focus(),e.preventDefault()):(firstEl.focus(),e.preventDefault())};(0,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__._h)(ref,{key:["tab"],allowDefault:!0,editable:!0,shift:!0},handleTab),(0,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__._h)(ref,{key:["tab"],allowDefault:!0,editable:!0},handleTab)}},"./packages/story-editor/src/utils/useRovingTabIndex/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>useRovingTabIndex});var src=__webpack_require__("./packages/react/src/index.ts"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),config=__webpack_require__("./packages/story-editor/src/app/config/index.ts");const SELECTOR='[tabIndex="-1"]:not(:disabled)';function getAncestorByDepth(e,depth){let parentElement,counter=depth;for(;counter>0;)parentElement=parentElement?parentElement?.parentElement:e.parentElement,counter--;return parentElement}function getFocusableChild(element,depth,childToGet="firstChild"){return getAncestorByDepth(element,depth).parentNode[childToGet].querySelector(SELECTOR)}function getCenter(e){const rect=e.getBoundingClientRect();return{x:rect.left+rect.width/2,y:rect.top+rect.height/2}}function getNextElement(e,direction,depth){return depth>0?function getNextEnabledElement(e,direction,depth){const parentElement=getAncestorByDepth(e,depth);if(parentElement){const nextElementParent=parentElement[direction];return nextElementParent?nextElementParent.querySelector(SELECTOR):null}return null}(e,direction,depth):function getNextEnabledSibling(e,siblingDirection){let sibling=e[siblingDirection];for(;sibling&&sibling.disabled;)sibling=sibling[siblingDirection];return sibling}(e,direction)}function useRovingTabIndex({ref},keyEventDeps=[],depth=0){const{isRTL}=(0,config.UK)(),onKeyDown=(0,src.hb)((({key,target})=>{const element=target,elementDirection=function getFocusableElementDirection(isRTL,key){return(isRTL?"ArrowRight"===key||"ArrowUp"===key||"PageUp"===key:"ArrowLeft"===key||"ArrowUp"===key||"PageUp"===key)?"previousSibling":"nextSibling"}(isRTL,key),switchFocusToElement=e=>{if(e){const elToScroll=depth>0?getAncestorByDepth(e,depth):e;element.tabIndex=-1,e.tabIndex=0,e.focus(),elToScroll.scrollIntoView("previousSibling"===elementDirection)}};if("ArrowLeft"===key||"ArrowRight"===key){const nextElement=getNextElement(element,elementDirection,depth);nextElement&&switchFocusToElement(nextElement)}else if("ArrowUp"===key||"ArrowDown"===key){const closestValidElement=function getClosestValidElement(element,direction,depth){const elementCenter=getCenter(element);let closestValidElement=null,closestValidElementCenter=null,closestValidElementDistanceSq=null;for(let nextElement=getNextElement(element,direction,depth);nextElement;nextElement=getNextElement(nextElement,direction,depth)){const nextElementCenter=getCenter(nextElement);if(Math.floor(nextElementCenter.y)===Math.floor(elementCenter.y))continue;if(closestValidElement&&Math.floor(nextElementCenter.y)>Math.floor(closestValidElementCenter.y))break;const distanceSq=(p1=elementCenter,p2=nextElementCenter,Math.pow(p1.x-p2.x,2)+Math.pow(p1.y-p2.y,2));(!closestValidElementDistanceSq||distanceSq<closestValidElementDistanceSq)&&(closestValidElementDistanceSq=distanceSq,closestValidElementCenter=nextElementCenter,closestValidElement=nextElement)}var p1,p2;return closestValidElement}(element,elementDirection,depth);if(closestValidElement)element.tabIndex=-1,closestValidElement.tabIndex=0,closestValidElement.focus();else if("ArrowUp"===key){switchFocusToElement(depth>0?getFocusableChild(element,depth):element.parentNode.firstChild)}else{switchFocusToElement(depth>0?getFocusableChild(element,depth,"lastChild"):element.parentNode.lastChild)}}else if("Home"===key){switchFocusToElement(depth>0?getFocusableChild(element,depth):element.parentNode.firstChild)}else if("End"===key){switchFocusToElement(depth>0?getFocusableChild(element,depth,"lastChild"):element.parentNode.lastChild)}else if("PageDown"===key||"PageUp"===key){let sibling=element;for(let i=0;getNextElement(sibling,elementDirection,depth)&&i<5;sibling=getNextElement(sibling,elementDirection,depth))i++;switchFocusToElement(sibling)}}),[isRTL,depth]);(0,keyboard._h)(ref,{key:["up","down","left","right","pageup","pagedown","home","end"]},onKeyDown,[ref,onKeyDown,...keyEventDeps])}}}]);