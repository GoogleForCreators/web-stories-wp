"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[2385],{"./packages/dashboard/src/app/api/useApiAlerts.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/contexts/snackbar/useSnackbar.ts"),_useApi__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/dashboard/src/app/api/useApi.js");function _temp(t0){const{state:t1}=t0,{stories:t2,templates:t3}=t1,{error:storyError}=t2,{error:templateError}=t3;return{storyError,templateError}}const __WEBPACK_DEFAULT_EXPORT__=function useApiAlerts(){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(10),{storyError:storyError_0,templateError:templateError_0}=(0,_useApi__WEBPACK_IMPORTED_MODULE_2__.A)(_temp),{showSnackbar}=(0,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__.d)();let t0;$[0]!==showSnackbar?(t0=message=>showSnackbar({message,dismissible:!0}),$[0]=showSnackbar,$[1]=t0):t0=$[1];const debouncedShowSnackbar=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.YQ)(t0,200);let t1,t2,t3,t4;$[2]!==debouncedShowSnackbar||$[3]!==storyError_0?(t1=()=>{storyError_0?.id&&debouncedShowSnackbar(storyError_0.message)},t2=[storyError_0,debouncedShowSnackbar],$[2]=debouncedShowSnackbar,$[3]=storyError_0,$[4]=t1,$[5]=t2):(t1=$[4],t2=$[5]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.vJ)(t1,t2),$[6]!==debouncedShowSnackbar||$[7]!==templateError_0?(t3=()=>{templateError_0?.id&&debouncedShowSnackbar(templateError_0.message)},t4=[templateError_0,debouncedShowSnackbar],$[6]=debouncedShowSnackbar,$[7]=templateError_0,$[8]=t3,$[9]=t4):(t3=$[8],t4=$[9]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.vJ)(t3,t4)}},"./packages/dashboard/src/app/views/exploreTemplates/filters/TemplateFiltersProvider/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>TemplateFiltersProvider,C:()=>filterContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_constants_templates__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/dashboard/src/constants/templates.ts"),_filters_reducer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/dashboard/src/app/views/filters/reducer.js"),_filters_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/dashboard/src/app/views/filters/types.js");const filterContext=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.q6)({state:{},actions:{}}),{filters:defaultTemplateFilters,sort:defaultTemplateSort}=_constants_templates__WEBPACK_IMPORTED_MODULE_3__.dc;function TemplateFiltersProvider(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(19),{children}=t0;let t1;$[0]===Symbol.for("react.memo_cache_sentinel")?(t1={filters:[],filtersObject:defaultTemplateFilters,sortObject:defaultTemplateSort},$[0]=t1):t1=$[0];const[state,dispatch]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.WO)(_filters_reducer__WEBPACK_IMPORTED_MODULE_4__.A,t1);let t2,t3;$[1]!==dispatch?(t2=(key,value)=>{dispatch({type:_filters_types__WEBPACK_IMPORTED_MODULE_5__.bS,payload:{key,value}})},$[1]=dispatch,$[2]=t2):t2=$[2],$[3]===Symbol.for("react.memo_cache_sentinel")?(t3=[],$[3]=t3):t3=$[3];const updateFilter=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t2,t3);let t4,t5;$[4]!==dispatch?(t4=values=>{dispatch({type:_filters_types__WEBPACK_IMPORTED_MODULE_5__.HX,payload:{type:"template",values}})},$[4]=dispatch,$[5]=t4):t4=$[5],$[6]===Symbol.for("react.memo_cache_sentinel")?(t5=[],$[6]=t5):t5=$[6];const updateSort=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t4,t5);let t6,t7;$[7]!==dispatch?(t6=value_0=>{dispatch({type:_filters_types__WEBPACK_IMPORTED_MODULE_5__.ak,payload:{value:value_0}})},$[7]=dispatch,$[8]=t6):t6=$[8],$[9]===Symbol.for("react.memo_cache_sentinel")?(t7=[],$[9]=t7):t7=$[9];const registerFilters=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t6,t7);let t8,t9;$[10]!==registerFilters||$[11]!==state||$[12]!==updateFilter||$[13]!==updateSort?(t8=()=>({state,actions:{updateSort,updateFilter,registerFilters}}),t9=[state,updateSort,updateFilter,registerFilters],$[10]=registerFilters,$[11]=state,$[12]=updateFilter,$[13]=updateSort,$[14]=t8,$[15]=t9):(t8=$[14],t9=$[15]);const contextValue=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t8,t9);let t10;return $[16]!==children||$[17]!==contextValue?(t10=react__WEBPACK_IMPORTED_MODULE_0__.createElement(filterContext.Provider,{value:contextValue},children),$[16]=children,$[17]=contextValue,$[18]=t10):t10=$[18],t10}TemplateFiltersProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_6___default().node},TemplateFiltersProvider.__docgenInfo={description:"",methods:[],displayName:"TemplateFiltersProvider",props:{children:{description:"",type:{name:"node"},required:!1}}}},"./packages/dashboard/src/app/views/exploreTemplates/filters/useTemplateFilters.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>useTemplateFilters});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_TemplateFiltersProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/dashboard/src/app/views/exploreTemplates/filters/TemplateFiltersProvider/index.js");function useTemplateFilters(t0){const selector=void 0===t0?_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.D_:t0;return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.i7)(_TemplateFiltersProvider__WEBPACK_IMPORTED_MODULE_1__.C,selector)}},"./packages/dashboard/src/app/views/exploreTemplates/header/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),flagged__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/flagged/dist/flagged.esm.js"),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/dashboard/src/constants/index.ts"),_utils_useTemplateView__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/dashboard/src/utils/useTemplateView.js"),_filters_useTemplateFilters__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/dashboard/src/app/views/exploreTemplates/filters/useTemplateFilters.js"),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/dashboard/src/utils/index.js"),_shared__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/dashboard/src/app/views/shared/index.js");function Header(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(35),{isLoading,totalTemplates,view,searchOptions:t1}=t0;let t2;$[0]!==t1?(t2=void 0===t1?[]:t1,$[0]=t1,$[1]=t2):t2=$[1];const searchOptions=t2,enableInProgressTemplateActions=(0,flagged__WEBPACK_IMPORTED_MODULE_3__.iT)("enableInProgressTemplateActions"),{filters:filters_0,sortObject:sortObject_0,updateFilter:updateFilter_0,updateSort:updateSort_0,registerFilters:registerFilters_0}=(0,_filters_useTemplateFilters__WEBPACK_IMPORTED_MODULE_6__.A)(_temp);let t3,t4;$[2]!==filters_0?(t3=()=>{const status=filters_0.find(_temp2),search=filters_0.find(_temp3);return[status?.filterId,search?.filterId]},t4=[filters_0],$[2]=filters_0,$[3]=t3,$[4]=t4):(t3=$[3],t4=$[4]);const[statusFilterValue,searchFilterValue]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t3,t4);let t5;$[5]!==updateFilter_0?(t5=value=>{updateFilter_0("search",{filterId:value})},$[5]=updateFilter_0,$[6]=t5):t5=$[6];const debouncedSearchChange=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.YQ)(t5,_constants__WEBPACK_IMPORTED_MODULE_4__.dQ);let t6,t7,t8,t9;$[7]!==registerFilters_0?(t6=()=>{registerFilters_0([{key:"search"}]),registerFilters_0([{key:"status",filterId:_constants__WEBPACK_IMPORTED_MODULE_4__.dc.filters.status}])},t7=[registerFilters_0],$[7]=registerFilters_0,$[8]=t6,$[9]=t7):(t6=$[8],t7=$[9]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.vJ)(t6,t7),$[10]!==updateFilter_0?(t8=()=>updateFilter_0("search",{filterId:null}),t9=[updateFilter_0],$[10]=updateFilter_0,$[11]=t8,$[12]=t9):(t8=$[11],t9=$[12]);const clearSearch=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t8,t9);let t10;$[13]!==statusFilterValue||$[14]!==totalTemplates?(t10={totalResults:totalTemplates,currentFilter:statusFilterValue,view:_constants__WEBPACK_IMPORTED_MODULE_4__.eZ.TEMPLATES_GALLERY},$[13]=statusFilterValue,$[14]=totalTemplates,$[15]=t10):t10=$[15];const resultsLabel=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.qM)(t10);let t11,t12,t13;$[16]===Symbol.for("react.memo_cache_sentinel")?(t11=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_9__.__)("Explore Templates","web-stories"),t12=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_9__.__)("Search Templates","web-stories"),$[16]=t11,$[17]=t12):(t11=$[16],t12=$[17]),$[18]!==clearSearch||$[19]!==debouncedSearchChange||$[20]!==searchFilterValue||$[21]!==searchOptions?(t13=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared__WEBPACK_IMPORTED_MODULE_8__.Av,{heading:t11,searchPlaceholder:t12,showSearch:!0,searchOptions,searchValue:searchFilterValue,handleSearchChange:debouncedSearchChange,onClear:clearSearch}),$[18]=clearSearch,$[19]=debouncedSearchChange,$[20]=searchFilterValue,$[21]=searchOptions,$[22]=t13):t13=$[22];const t14=view.style,t15=view.toggleStyle;let t16,t17,t18;return $[23]===Symbol.for("react.memo_cache_sentinel")?(t16=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_9__.__)("Choose sort option for display","web-stories"),$[23]=t16):t16=$[23],$[24]!==enableInProgressTemplateActions||$[25]!==isLoading||$[26]!==resultsLabel||$[27]!==sortObject_0||$[28]!==updateSort_0||$[29]!==view.style||$[30]!==view.toggleStyle?(t17=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared__WEBPACK_IMPORTED_MODULE_8__.WJ,{resultsLabel,layoutStyle:t14,handleLayoutSelect:t15,isLoading,pageSortOptions:_constants__WEBPACK_IMPORTED_MODULE_4__.XS,pageSortDefaultOption:_constants__WEBPACK_IMPORTED_MODULE_4__.D4.POPULAR,currentSort:sortObject_0,handleSortChange:updateSort_0,showSortDropdown:enableInProgressTemplateActions,sortDropdownAriaLabel:t16}),$[24]=enableInProgressTemplateActions,$[25]=isLoading,$[26]=resultsLabel,$[27]=sortObject_0,$[28]=updateSort_0,$[29]=view.style,$[30]=view.toggleStyle,$[31]=t17):t17=$[31],$[32]!==t13||$[33]!==t17?(t18=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,t13,t17),$[32]=t13,$[33]=t17,$[34]=t18):t18=$[34],t18}function _temp3(t0){const{key:key_0}=t0;return"search"===key_0}function _temp2(t0){const{key}=t0;return"status"===key}function _temp(t0){const{state:t1,actions:t2}=t0,{filters,sortObject}=t1,{updateFilter,updateSort,registerFilters}=t2;return{filters,sortObject,updateFilter,updateSort,registerFilters}}Header.propTypes={isLoading:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,totalTemplates:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number,view:_utils_useTemplateView__WEBPACK_IMPORTED_MODULE_5__.Q8.isRequired,searchOptions:prop_types__WEBPACK_IMPORTED_MODULE_10___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default().object)};const __WEBPACK_DEFAULT_EXPORT__=Header;Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{searchOptions:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1},isLoading:{description:"",type:{name:"bool"},required:!1},totalTemplates:{description:"",type:{name:"number"},required:!1},view:{description:"",type:{name:"custom",raw:"ViewPropTypes.isRequired"},required:!1}}}},"./packages/dashboard/src/app/views/exploreTemplates/modal/templateDetails/header/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/i18n/src/sprintf.ts"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/icons/cross_large.svg"),_propTypes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/dashboard/src/propTypes.js");const Nav=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.nav.withConfig({displayName:"header__Nav",componentId:"sc-1wko3r4-0"})(["justify-content:space-between;align-items:center;display:flex;margin:48px auto;width:calc(76% + 121px);"]),CTAButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.$).attrs({type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.VQ.Primary,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.Mp.Small}).withConfig({displayName:"header__CTAButton",componentId:"sc-1wko3r4-1"})(["padding:10px 16px;"]);function Header(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(14),{templateTitle,templateId,templateActions,canCreateStory}=t0;let t1;$[0]!==templateActions?(t1=templateActions||{},$[0]=templateActions,$[1]=t1):t1=$[1];const{createStoryFromTemplate,handleDetailsToggle}=t1;let t2,t3,t4,t5,t6;return $[2]===Symbol.for("react.memo_cache_sentinel")?(t2=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Close","web-stories"),$[2]=t2):t2=$[2],$[3]===Symbol.for("react.memo_cache_sentinel")?(t3=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.A,null),$[3]=t3):t3=$[3],$[4]!==handleDetailsToggle?(t4=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.$,{type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.VQ.Tertiary,variant:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.Ak.Square,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.Mp.Small,"aria-label":t2,onClick:handleDetailsToggle},t3),$[4]=handleDetailsToggle,$[5]=t4):t4=$[5],$[6]!==canCreateStory||$[7]!==createStoryFromTemplate||$[8]!==templateId||$[9]!==templateTitle?(t5=canCreateStory&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(CTAButton,{onClick:()=>createStoryFromTemplate(templateId),"aria-label":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_8__.A)((0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Use %s template to create new story","web-stories"),templateTitle)},(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Use template","web-stories")),$[6]=canCreateStory,$[7]=createStoryFromTemplate,$[8]=templateId,$[9]=templateTitle,$[10]=t5):t5=$[10],$[11]!==t4||$[12]!==t5?(t6=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Nav,null,t4,t5),$[11]=t4,$[12]=t5,$[13]=t6):t6=$[13],t6}Header.propTypes={canCreateStory:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,templateActions:_propTypes__WEBPACK_IMPORTED_MODULE_2__.zk,templateId:prop_types__WEBPACK_IMPORTED_MODULE_9___default().number,templateTitle:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string};const __WEBPACK_DEFAULT_EXPORT__=Header;Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{canCreateStory:{description:"",type:{name:"bool"},required:!1},templateActions:{description:"",type:{name:"shape",value:{createStoryFromTemplate:{name:"func",required:!1},handleDetailsToggle:{name:"func",required:!1},switchToTemplateByOffset:{name:"func",required:!1}}},required:!1},templateId:{description:"",type:{name:"number"},required:!1},templateTitle:{description:"",type:{name:"string"},required:!1}}}},"./packages/dashboard/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{sG:()=>app.sG,xh:()=>dashboard,ef:()=>components.ef,Du:()=>interfaceSkeleton,Zo:()=>components.Zo,dQ:()=>constants.dQ,m_:()=>components.m_,UK:()=>app.UK});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),deepMerge=__webpack_require__("./packages/design-system/src/utils/deepMerge.ts"),theme=__webpack_require__("./packages/design-system/src/theme/theme.ts"),colors=__webpack_require__("./packages/design-system/src/theme/colors.ts"),styles=__webpack_require__("./packages/design-system/src/theme/global/styles.ts"),modal_styles=__webpack_require__("./packages/design-system/src/components/modal/styles.ts"),snackbarProvider=__webpack_require__("./packages/design-system/src/contexts/snackbar/snackbarProvider.tsx"),popupProvider=__webpack_require__("./packages/design-system/src/contexts/popup/popupProvider.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),stylis_rtl=__webpack_require__("./node_modules/stylis-plugin-rtl/dist/stylis-rtl.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),flagged_esm=__webpack_require__("./node_modules/flagged/dist/flagged.esm.js"),app_config=__webpack_require__("./packages/dashboard/src/app/config/index.ts"),apiProvider=__webpack_require__("./packages/dashboard/src/app/api/apiProvider.js"),components=__webpack_require__("./packages/dashboard/src/components/index.js"),router=__webpack_require__("./packages/dashboard/src/app/router/index.ts"),src_theme=__webpack_require__("./packages/dashboard/src/theme.js"),utils=__webpack_require__("./packages/dashboard/src/utils/index.js");const src_getDefaultConfig=()=>({isRTL:!1,userId:1,locale:{locale:"en-US",dateFormat:"F j, Y",timeFormat:"g:i a",gmtOffset:"0",timezone:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysInitials:["S","M","T","W","T","F","S"],weekStartsOn:1},newStoryURL:"",cdnURL:"https://wp.stories.google/static/main/",version:"",capabilities:{canManageSettings:!1,canUploadFiles:!1},canViewDefaultTemplates:!1,flags:{},apiCallbacks:{},leftRailSecondaryNavigation:[],styleConstants:{topOffset:0,leftOffset:0}});function Dashboard(t0){const $=(0,dist.c)(27),{config,children}=t0;let t1;$[0]!==config?(t1=(0,deepMerge.A)(src_getDefaultConfig(),config),$[0]=config,$[1]=t1):t1=$[1];const _config=t1;let t2;$[2]===Symbol.for("react.memo_cache_sentinel")?(t2={...theme.w,colors:colors.B},$[2]=t2):t2=$[2];const activeTheme=t2,{isRTL,flags,styleConstants:t3}=_config;let t4;$[3]!==t3?(t4=void 0===t3?{}:t3,$[3]=t3,$[4]=t4):t4=$[4];const{leftOffset,topOffset}=t4;let t5,t6,t7,t8,t10,t9,t11,t12,t13,t14;return $[5]!==isRTL?(t5=isRTL?[stylis_rtl.Ay]:[],$[5]=isRTL,$[6]=t5):t5=$[6],$[7]===Symbol.for("react.memo_cache_sentinel")?(t6=react.createElement(styles.P,null),t7=react.createElement(modal_styles.E,null),$[7]=t6,$[8]=t7):(t6=$[7],t7=$[8]),$[9]!==isRTL||$[10]!==leftOffset||$[11]!==topOffset?(t8={isRTL,leftOffset,topOffset},$[9]=isRTL,$[10]=leftOffset,$[11]=topOffset,$[12]=t8):t8=$[12],$[13]===Symbol.for("react.memo_cache_sentinel")?(t9=react.createElement(src_theme.z,null),t10=react.createElement(utils.eY,null),$[13]=t10,$[14]=t9):(t10=$[13],t9=$[14]),$[15]!==children||$[16]!==t8?(t11=react.createElement(apiProvider.A,null,react.createElement(components.Xk,null,react.createElement(router.pg,null,react.createElement(snackbarProvider.A,null,react.createElement(popupProvider.A,{value:t8},t9,t10,children))))),$[15]=children,$[16]=t8,$[17]=t11):t11=$[17],$[18]!==_config||$[19]!==t11?(t12=react.createElement(styled_components_browser_esm.NP,{theme:activeTheme},t6,t7,react.createElement(app_config.s,{config:_config},t11)),$[18]=_config,$[19]=t11,$[20]=t12):t12=$[20],$[21]!==t12||$[22]!==t5?(t13=react.createElement(styled_components_browser_esm.ID,{stylisPlugins:t5},t12),$[21]=t12,$[22]=t5,$[23]=t13):t13=$[23],$[24]!==flags||$[25]!==t13?(t14=react.createElement(flagged_esm.nT,{features:flags},t13),$[24]=flags,$[25]=t13,$[26]=t14):t14=$[26],t14}Object.defineProperty(stylis_rtl.Ay,"name",{value:"stylisRTLPlugin"}),Dashboard.propTypes={config:prop_types_default().object.isRequired,children:prop_types_default().node};const dashboard=Dashboard;Dashboard.__docgenInfo={description:"",methods:[],displayName:"Dashboard",props:{config:{description:"",type:{name:"object"},required:!0},children:{description:"",type:{name:"node"},required:!1}}};var app=__webpack_require__("./packages/dashboard/src/app/index.js"),constants=__webpack_require__("./packages/dashboard/src/constants/index.ts"),src=(__webpack_require__("./packages/dashboard/src/app/views/shared/index.js"),__webpack_require__("./packages/dashboard/src/utils/keyboardOnlyOutline.js"),__webpack_require__("./packages/react/src/index.ts")),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),tracking_src=__webpack_require__("./packages/tracking/src/index.ts"),useSnackbar=__webpack_require__("./packages/design-system/src/contexts/snackbar/useSnackbar.ts"),snackbarContainer=__webpack_require__("./packages/design-system/src/components/snackbar/snackbarContainer.tsx"),useApi=__webpack_require__("./packages/dashboard/src/app/api/useApi.js"),useStoryFilters=__webpack_require__("./packages/dashboard/src/app/views/myStories/filters/useStoryFilters.js"),content=__webpack_require__("./packages/dashboard/src/app/views/myStories/content/index.js"),header=__webpack_require__("./packages/dashboard/src/app/views/myStories/header/index.js"),StoryFiltersProvider=__webpack_require__("./packages/dashboard/src/app/views/myStories/filters/StoryFiltersProvider/index.js");function MyStoriesView(){const $=(0,dist.c)(48),{duplicateStory:duplicateStory_0,fetchStories:fetchStories_0,trashStory:trashStory_0,updateStory:updateStory_0,allPagesFetched:allPagesFetched_0,isLoading:isLoading_0,stories:stories_0,storiesOrderById:storiesOrderById_0,totalPages:totalPages_0,totalStoriesByStatus:totalStoriesByStatus_0}=(0,useApi.A)(_temp),{filtersObject:filtersObject_0,sortObject:sortObject_0}=(0,useStoryFilters.A)(_temp2),{apiCallbacks,canViewDefaultTemplates}=(0,app_config.U)(),isMountedRef=(0,src.li)(!1);let t0,t1,t2;$[0]!==isMountedRef?(t0=()=>(isMountedRef.current=!0,()=>{isMountedRef.current=!1}),$[0]=isMountedRef,$[1]=t0):t0=$[1],$[2]===Symbol.for("react.memo_cache_sentinel")?(t1=[],$[2]=t1):t1=$[2],(0,src.vJ)(t0,t1),$[3]!==filtersObject_0||$[4]!==isLoading_0||$[5]!==sortObject_0||$[6]!==totalPages_0?(t2={filtersObject:filtersObject_0,sortObject:sortObject_0,isLoading:isLoading_0,totalPages:totalPages_0},$[3]=filtersObject_0,$[4]=isLoading_0,$[5]=sortObject_0,$[6]=totalPages_0,$[7]=t2):t2=$[7];const{page,view,showStoriesWhileLoading,initialPageReady}=(0,utils.uO)(t2);let t3,t4,t5,t6;$[8]!==fetchStories_0||$[9]!==filtersObject_0||$[10]!==page.value||$[11]!==sortObject_0?(t3=()=>{fetchStories_0({page:page.value,filters:filtersObject_0,sort:sortObject_0})},$[8]=fetchStories_0,$[9]=filtersObject_0,$[10]=page.value,$[11]=sortObject_0,$[12]=t3):t3=$[12],$[13]!==apiCallbacks||$[14]!==fetchStories_0||$[15]!==filtersObject_0||$[16]!==page.value||$[17]!==sortObject_0?(t4=[fetchStories_0,filtersObject_0,sortObject_0,page.value,apiCallbacks],$[13]=apiCallbacks,$[14]=fetchStories_0,$[15]=filtersObject_0,$[16]=page.value,$[17]=sortObject_0,$[18]=t4):t4=$[18],(0,src.vJ)(t3,t4),$[19]!==storiesOrderById_0||$[20]!==stories_0?(t5=()=>storiesOrderById_0.map((storyId=>stories_0[storyId])),t6=[stories_0,storiesOrderById_0],$[19]=storiesOrderById_0,$[20]=stories_0,$[21]=t5,$[22]=t6):(t5=$[21],t6=$[22]);const orderedStories=(0,src.Kr)(t5,t6);let t7,t8,t9,t10,t11,t12;return $[23]!==initialPageReady||$[24]!==orderedStories||$[25]!==totalStoriesByStatus_0||$[26]!==view?(t7=react.createElement(header.A,{initialPageReady,stories:orderedStories,totalStoriesByStatus:totalStoriesByStatus_0,view}),$[23]=initialPageReady,$[24]=orderedStories,$[25]=totalStoriesByStatus_0,$[26]=view,$[27]=t7):t7=$[27],$[28]!==isLoading_0||$[29]!==showStoriesWhileLoading?(t8={isLoading:isLoading_0,showStoriesWhileLoading},$[28]=isLoading_0,$[29]=showStoriesWhileLoading,$[30]=t8):t8=$[30],$[31]!==duplicateStory_0||$[32]!==trashStory_0||$[33]!==updateStory_0?(t9={duplicateStory:duplicateStory_0,trashStory:trashStory_0,updateStory:updateStory_0},$[31]=duplicateStory_0,$[32]=trashStory_0,$[33]=updateStory_0,$[34]=t9):t9=$[34],$[35]!==allPagesFetched_0||$[36]!==canViewDefaultTemplates||$[37]!==filtersObject_0||$[38]!==orderedStories||$[39]!==page||$[40]!==t8||$[41]!==t9||$[42]!==view?(t10=react.createElement(content.A,{allPagesFetched:allPagesFetched_0,canViewDefaultTemplates,filtersObject:filtersObject_0,loading:t8,page,stories:orderedStories,storyActions:t9,view}),$[35]=allPagesFetched_0,$[36]=canViewDefaultTemplates,$[37]=filtersObject_0,$[38]=orderedStories,$[39]=page,$[40]=t8,$[41]=t9,$[42]=view,$[43]=t10):t10=$[43],$[44]===Symbol.for("react.memo_cache_sentinel")?(t11=react.createElement(components.PE.Fixed,null,react.createElement(components.eq,null)),$[44]=t11):t11=$[44],$[45]!==t10||$[46]!==t7?(t12=react.createElement(components.PE.Provider,null,t7,t10,t11),$[45]=t10,$[46]=t7,$[47]=t12):t12=$[47],t12}function _temp2(t0){const{state:t1}=t0,{filtersObject,sortObject}=t1;return{filtersObject,sortObject}}function _temp(t0){const{actions:t1,state:t2}=t0,{storyApi:t3}=t1,{duplicateStory,fetchStories,trashStory,updateStory}=t3,{stories:t4}=t2,{allPagesFetched,isLoading,stories,storiesOrderById,totalPages,totalStoriesByStatus}=t4;return{duplicateStory,fetchStories,trashStory,updateStory,allPagesFetched,isLoading,stories,storiesOrderById,totalPages,totalStoriesByStatus}}function MyStories(){const $=(0,dist.c)(1);let t0;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=react.createElement(StoryFiltersProvider.A,null,react.createElement(MyStoriesView,null)),$[0]=t0):t0=$[0],t0}MyStories.__docgenInfo={description:"",methods:[],displayName:"MyStories"};var useLiveRegion=__webpack_require__("./packages/design-system/src/utils/useLiveRegion.ts"),uniqueEntriesByKey=__webpack_require__("./packages/design-system/src/utils/uniqueEntriesByKey.ts"),useRouteHistory=__webpack_require__("./packages/dashboard/src/app/router/useRouteHistory.ts"),views_utils=__webpack_require__("./packages/dashboard/src/app/views/utils/index.js"),useTemplateFilters=__webpack_require__("./packages/dashboard/src/app/views/exploreTemplates/filters/useTemplateFilters.js"),exploreTemplates_content=__webpack_require__("./packages/dashboard/src/app/views/exploreTemplates/content/index.js"),exploreTemplates_header=__webpack_require__("./packages/dashboard/src/app/views/exploreTemplates/header/index.js"),modal=__webpack_require__("./packages/design-system/src/components/modal/modal.tsx"),propTypes=__webpack_require__("./packages/dashboard/src/propTypes.js"),templateDetails_header=__webpack_require__("./packages/dashboard/src/app/views/exploreTemplates/modal/templateDetails/header/index.js"),templateDetails_content=__webpack_require__("./packages/dashboard/src/app/views/exploreTemplates/modal/templateDetails/content/index.js");function TemplateDetailsModal(t0){const $=(0,dist.c)(23),{activeTemplateIndex,activeTemplate,filteredTemplatesLength,isDetailsViewOpen,templateActions}=t0,{isRTL,apiCallbacks}=(0,app_config.U)(),canCreateStory=Boolean(apiCallbacks?.createStoryFromTemplate);let t1;$[0]!==templateActions?(t1=templateActions||{},$[0]=templateActions,$[1]=t1):t1=$[1];const{handleDetailsToggle,switchToTemplateByOffset}=t1;let t2,t3,t4;$[2]!==activeTemplate?.title?(t2=(0,sprintf.A)((0,i18n.__)("Template Details for %s","web-stories"),activeTemplate?.title),$[2]=activeTemplate?.title,$[3]=t2):t2=$[3],$[4]===Symbol.for("react.memo_cache_sentinel")?(t3={backgroundColor:`${theme.w.colors.opacity.overlayDark}`},t4={display:"block",height:"90vh",width:"90vw",backgroundColor:`${theme.w.colors.standard.white}`},$[4]=t3,$[5]=t4):(t3=$[4],t4=$[5]);const t5=activeTemplate?.title,t6=activeTemplate?.id;let t7,t8,t9;return $[6]!==canCreateStory||$[7]!==t5||$[8]!==t6||$[9]!==templateActions?(t7=react.createElement(templateDetails_header.A,{templateTitle:t5,templateId:t6,templateActions,canCreateStory}),$[6]=canCreateStory,$[7]=t5,$[8]=t6,$[9]=templateActions,$[10]=t7):t7=$[10],$[11]!==activeTemplate||$[12]!==activeTemplateIndex||$[13]!==filteredTemplatesLength||$[14]!==isRTL||$[15]!==switchToTemplateByOffset?(t8=react.createElement(templateDetails_content.A,{activeTemplateIndex,isRTL,filteredTemplatesLength,switchToTemplateByOffset,template:activeTemplate}),$[11]=activeTemplate,$[12]=activeTemplateIndex,$[13]=filteredTemplatesLength,$[14]=isRTL,$[15]=switchToTemplateByOffset,$[16]=t8):t8=$[16],$[17]!==handleDetailsToggle||$[18]!==isDetailsViewOpen||$[19]!==t2||$[20]!==t7||$[21]!==t8?(t9=react.createElement(modal.A,{isOpen:isDetailsViewOpen,onClose:handleDetailsToggle,contentLabel:t2,overlayStyles:t3,contentStyles:t4},t7,t8),$[17]=handleDetailsToggle,$[18]=isDetailsViewOpen,$[19]=t2,$[20]=t7,$[21]=t8,$[22]=t9):t9=$[22],t9}TemplateDetailsModal.propTypes={activeTemplateIndex:prop_types_default().number,activeTemplate:propTypes.Ms,filteredTemplatesLength:prop_types_default().number,isDetailsViewOpen:prop_types_default().bool,templateActions:propTypes.zk};const exploreTemplates_modal=TemplateDetailsModal;TemplateDetailsModal.__docgenInfo={description:"",methods:[],displayName:"TemplateDetailsModal",props:{activeTemplateIndex:{description:"",type:{name:"number"},required:!1},activeTemplate:{description:"",type:{name:"shape",value:{id:{name:"number",required:!0},status:{name:"custom",raw:"DashboardStatusesPropType",required:!1},title:{name:"string",required:!0},pages:{name:"array",required:!1},modified:{name:"object",required:!1},colors:{name:"arrayOf",value:{name:"shape",value:{label:{name:"string",required:!0},color:{name:"string",required:!0}}},required:!1},description:{name:"string",required:!1},tags:{name:"arrayOf",value:{name:"string"},required:!1},createdBy:{name:"string",required:!1},postersByPage:{name:"arrayOf",value:{name:"shape",value:{webp:{name:"string",required:!1},png:{name:"string",required:!1},type:{name:"string",required:!1}}},required:!1}}},required:!1},filteredTemplatesLength:{description:"",type:{name:"number"},required:!1},isDetailsViewOpen:{description:"",type:{name:"bool"},required:!1},templateActions:{description:"",type:{name:"shape",value:{createStoryFromTemplate:{name:"func",required:!1},handleDetailsToggle:{name:"func",required:!1},switchToTemplateByOffset:{name:"func",required:!1}}},required:!1}}};var TemplateFiltersProvider=__webpack_require__("./packages/dashboard/src/app/views/exploreTemplates/filters/TemplateFiltersProvider/index.js");function ExploreTemplatesView(){const $=(0,dist.c)(103),speak=(0,useLiveRegion.A)(),[isDetailsViewOpen,setIsDetailsViewOpen]=(0,src.J0)(!1),[activeTemplate,setActiveTemplate]=(0,src.J0)(null),[activeTemplateIndex,setActiveTemplateIndex]=(0,src.J0)(0),{templateIdParam,replace}=(0,useRouteHistory.A)(exploreTemplates_temp),idRef=(0,src.li)(templateIdParam),{allPagesFetched:allPagesFetched_0,isLoading:isLoading_0,templates:templates_0,templatesOrderById:templatesOrderById_0,totalPages:totalPages_0,totalTemplates:totalTemplates_0,createStoryFromTemplate:createStoryFromTemplate_0,fetchExternalTemplates:fetchExternalTemplates_0}=(0,useApi.A)(exploreTemplates_temp2),{filters:filters_0,sortObject:sortObject_0,filtersObject:filtersObject_0}=(0,useTemplateFilters.A)(_temp3);let t0;$[0]!==filtersObject_0||$[1]!==sortObject_0||$[2]!==totalPages_0?(t0={filtersObject:filtersObject_0,sortObject:sortObject_0,totalPages:totalPages_0},$[0]=filtersObject_0,$[1]=sortObject_0,$[2]=totalPages_0,$[3]=t0):t0=$[3];const{page,view}=(0,utils.D)(t0);let t1,t2;$[4]!==filters_0?(t1=()=>{const search=filters_0.find(_temp4);return[search?.filterId]},t2=[filters_0],$[4]=filters_0,$[5]=t1,$[6]=t2):(t1=$[5],t2=$[6]);const[searchFilterValue]=(0,src.Kr)(t1,t2);let t3,t4;$[7]!==templates_0?(t3=()=>(0,views_utils.mK)(templates_0),t4=[templates_0],$[7]=templates_0,$[8]=t3,$[9]=t4):(t3=$[8],t4=$[9]);const templateFilters=(0,src.Kr)(t3,t4);let t5,t6;$[10]!==searchFilterValue||$[11]!==templateFilters?(t5=()=>searchFilterValue?templateFilters.filter((opt=>opt.label.toLowerCase().includes(searchFilterValue.toLowerCase()))):templateFilters,t6=[templateFilters,searchFilterValue],$[10]=searchFilterValue,$[11]=templateFilters,$[12]=t5,$[13]=t6):(t5=$[12],t6=$[13]);const selectFilters=(0,src.Kr)(t5,t6);let t7,t8;$[14]!==selectFilters||$[15]!==templatesOrderById_0||$[16]!==templates_0?(t7=()=>templatesOrderById_0.map((templateId=>templates_0[templateId])).filter((0,views_utils.hB)(selectFilters)),t8=[templatesOrderById_0,templates_0,selectFilters],$[14]=selectFilters,$[15]=templatesOrderById_0,$[16]=templates_0,$[17]=t7,$[18]=t8):(t7=$[17],t8=$[18]);const orderedTemplates=(0,src.Kr)(t7,t8);let t9,t10;$[19]!==orderedTemplates.length||$[20]!==totalTemplates_0?(t9=()=>totalTemplates_0!==orderedTemplates.length?orderedTemplates.length:totalTemplates_0,$[19]=orderedTemplates.length,$[20]=totalTemplates_0,$[21]=t9):t9=$[21],$[22]!==orderedTemplates||$[23]!==totalTemplates_0?(t10=[orderedTemplates,totalTemplates_0],$[22]=orderedTemplates,$[23]=totalTemplates_0,$[24]=t10):t10=$[24];const totalVisibleTemplates=(0,src.Kr)(t9,t10);let t11,t12;$[25]!==selectFilters?(t11=()=>(0,uniqueEntriesByKey.A)(selectFilters,"label"),t12=[selectFilters],$[25]=selectFilters,$[26]=t11,$[27]=t12):(t11=$[26],t12=$[27]);const searchOptions=(0,src.Kr)(t11,t12);let t13,t14;$[28]!==createStoryFromTemplate_0||$[29]!==templates_0?(t13=templateId_0=>{const template=templates_0[templateId_0];(0,tracking_src.sx)("use_template",{name:template.title,template_id:template.id}),createStoryFromTemplate_0(template)},t14=[createStoryFromTemplate_0,templates_0],$[28]=createStoryFromTemplate_0,$[29]=templates_0,$[30]=t13,$[31]=t14):(t13=$[30],t14=$[31]);const handleCreateStoryFromTemplate=(0,src.hb)(t13,t14);let t15,t16;$[32]!==idRef||$[33]!==orderedTemplates||$[34]!==replace||$[35]!==setActiveTemplate||$[36]!==setActiveTemplateIndex?(t15=id=>{const currentTemplate=orderedTemplates.find((templateItem=>templateItem.id===id));setActiveTemplate(currentTemplate),setActiveTemplateIndex(orderedTemplates.findIndex((template_0=>template_0.id===id))),idRef.current&&(idRef.current=void 0),replace(`?id=${currentTemplate.id}&isLocal=${currentTemplate.isLocal}`)},$[32]=idRef,$[33]=orderedTemplates,$[34]=replace,$[35]=setActiveTemplate,$[36]=setActiveTemplateIndex,$[37]=t15):t15=$[37],$[38]!==orderedTemplates||$[39]!==replace?(t16=[replace,orderedTemplates],$[38]=orderedTemplates,$[39]=replace,$[40]=t16):t16=$[40];const updateTemplateView=(0,src.hb)(t15,t16);let t17,t18;$[41]!==replace||$[42]!==setIsDetailsViewOpen||$[43]!==speak||$[44]!==updateTemplateView?(t17=(id_0,title)=>{setIsDetailsViewOpen((prevIsOpen=>{const newIsOpen=!prevIsOpen;return title&&(0,tracking_src.X3)(title),newIsOpen&&id_0&&updateTemplateView(id_0),newIsOpen||(replace(""),speak((0,i18n.__)("Exit detail templates view","web-stories"))),newIsOpen}))},$[41]=replace,$[42]=setIsDetailsViewOpen,$[43]=speak,$[44]=updateTemplateView,$[45]=t17):t17=$[45],$[46]!==replace||$[47]!==speak||$[48]!==updateTemplateView?(t18=[replace,speak,updateTemplateView],$[46]=replace,$[47]=speak,$[48]=updateTemplateView,$[49]=t18):t18=$[49];const handleDetailsToggle=(0,src.hb)(t17,t18);let t19,t20;$[50]!==orderedTemplates||$[51]!==replace||$[52]!==setActiveTemplate||$[53]!==setActiveTemplateIndex||$[54]!==speak?(t19=offset=>{const newTemplate=orderedTemplates[offset];setActiveTemplate(newTemplate),setActiveTemplateIndex(offset),replace(`?id=${newTemplate.id}&isLocal=${newTemplate.isLocal}`),speak((0,sprintf.A)((0,i18n.__)("Viewing %s","web-stories"),newTemplate.title))},$[50]=orderedTemplates,$[51]=replace,$[52]=setActiveTemplate,$[53]=setActiveTemplateIndex,$[54]=speak,$[55]=t19):t19=$[55],$[56]!==orderedTemplates||$[57]!==replace||$[58]!==speak?(t20=[orderedTemplates,replace,speak],$[56]=orderedTemplates,$[57]=replace,$[58]=speak,$[59]=t20):t20=$[59];const switchToTemplateByOffset=(0,src.hb)(t19,t20);let t21,t22;$[60]!==handleCreateStoryFromTemplate||$[61]!==handleDetailsToggle||$[62]!==switchToTemplateByOffset?(t21=()=>({createStoryFromTemplate:handleCreateStoryFromTemplate,handleDetailsToggle,switchToTemplateByOffset}),t22=[handleCreateStoryFromTemplate,handleDetailsToggle,switchToTemplateByOffset],$[60]=handleCreateStoryFromTemplate,$[61]=handleDetailsToggle,$[62]=switchToTemplateByOffset,$[63]=t21,$[64]=t22):(t21=$[63],t22=$[64]);const templateActions=(0,src.Kr)(t21,t22);let t23,t24,t25,t26;$[65]!==fetchExternalTemplates_0?(t23=()=>{fetchExternalTemplates_0()},t24=[fetchExternalTemplates_0],$[65]=fetchExternalTemplates_0,$[66]=t23,$[67]=t24):(t23=$[66],t24=$[67]),(0,src.vJ)(t23,t24),$[68]!==idRef||$[69]!==orderedTemplates||$[70]!==replace||$[71]!==setIsDetailsViewOpen||$[72]!==updateTemplateView?(t25=()=>{if(idRef.current&&orderedTemplates.length){if(!orderedTemplates.some((template_1=>template_1.id===Number.parseInt(idRef.current))))return void replace("");setIsDetailsViewOpen(!0),updateTemplateView(Number.parseInt(idRef.current))}},$[68]=idRef,$[69]=orderedTemplates,$[70]=replace,$[71]=setIsDetailsViewOpen,$[72]=updateTemplateView,$[73]=t25):t25=$[73],$[74]!==orderedTemplates||$[75]!==replace||$[76]!==updateTemplateView?(t26=[orderedTemplates,replace,updateTemplateView],$[74]=orderedTemplates,$[75]=replace,$[76]=updateTemplateView,$[77]=t26):t26=$[77],(0,src.vJ)(t25,t26);const t27=isLoading_0&&!totalTemplates_0;let t28,t29,t30,t31,t32;return $[78]!==searchOptions||$[79]!==t27||$[80]!==totalVisibleTemplates||$[81]!==view?(t28=react.createElement(exploreTemplates_header.A,{isLoading:t27,totalTemplates:totalVisibleTemplates,searchOptions,view}),$[78]=searchOptions,$[79]=t27,$[80]=totalVisibleTemplates,$[81]=view,$[82]=t28):t28=$[82],$[83]!==allPagesFetched_0||$[84]!==isLoading_0||$[85]!==orderedTemplates||$[86]!==page||$[87]!==searchFilterValue||$[88]!==templateActions||$[89]!==totalVisibleTemplates||$[90]!==view?(t29=react.createElement(exploreTemplates_content.A,{isLoading:isLoading_0,allPagesFetched:allPagesFetched_0,page,templates:orderedTemplates,totalTemplates:totalVisibleTemplates,search:searchFilterValue,view,templateActions}),$[83]=allPagesFetched_0,$[84]=isLoading_0,$[85]=orderedTemplates,$[86]=page,$[87]=searchFilterValue,$[88]=templateActions,$[89]=totalVisibleTemplates,$[90]=view,$[91]=t29):t29=$[91],$[92]===Symbol.for("react.memo_cache_sentinel")?(t30=react.createElement(components.PE.Fixed,null,react.createElement(components.eq,null)),$[92]=t30):t30=$[92],$[93]!==activeTemplate||$[94]!==activeTemplateIndex||$[95]!==isDetailsViewOpen||$[96]!==orderedTemplates.length||$[97]!==templateActions?(t31=react.createElement(exploreTemplates_modal,{activeTemplate,activeTemplateIndex,isDetailsViewOpen,templateActions,filteredTemplatesLength:orderedTemplates.length}),$[93]=activeTemplate,$[94]=activeTemplateIndex,$[95]=isDetailsViewOpen,$[96]=orderedTemplates.length,$[97]=templateActions,$[98]=t31):t31=$[98],$[99]!==t28||$[100]!==t29||$[101]!==t31?(t32=react.createElement(components.PE.Provider,null,t28,t29,t30,t31),$[99]=t28,$[100]=t29,$[101]=t31,$[102]=t32):t32=$[102],t32}function _temp4(t0){const{key}=t0;return"search"===key}function _temp3(t0){const{state:t1}=t0,{filters,sortObject,filtersObject}=t1;return{filters,sortObject,filtersObject}}function exploreTemplates_temp2(t0){const{state:t1,actions:t2}=t0,{templates:t3}=t1,{allPagesFetched,isLoading,templates,templatesOrderById,totalPages,totalTemplates}=t3,{storyApi:t4,templateApi:t5}=t2,{createStoryFromTemplate}=t4,{fetchExternalTemplates}=t5;return{allPagesFetched,isLoading,templates,templatesOrderById,totalPages,totalTemplates,createStoryFromTemplate,fetchExternalTemplates}}function exploreTemplates_temp(t0){const{actions,state}=t0;return{templateIdParam:state.queryParams.id,replace:actions.replace}}function ExploreTemplates(){const $=(0,dist.c)(1);let t0;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=react.createElement(TemplateFiltersProvider.A,null,react.createElement(ExploreTemplatesView,null)),$[0]=t0):t0=$[0],t0}ExploreTemplates.__docgenInfo={description:"",methods:[],displayName:"ExploreTemplates"};var pageStructure=__webpack_require__("./packages/dashboard/src/components/pageStructure/index.js"),useApiAlerts=__webpack_require__("./packages/dashboard/src/app/api/useApiAlerts.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const InterfaceSkeleton=({additionalRoutes})=>{const{currentPath,templateId,availableRoutes}=(0,router.bG)((({state})=>({...state,templateId:state.queryParams.id}))),{push,setAvailableRoutes}=(0,router.bG)((({actions})=>actions)),{canViewDefaultTemplates,leftRailSecondaryNavigation=[],documentTitleSuffix=(0,i18n.__)("Web Stories","web-stories")}=(0,app_config.U)(),{addInitialFetchListener:addInitialFetchListener_0}=(0,useApi.A)((({actions:{storyApi:{addInitialFetchListener}},state:{templates:{templates}}})=>({currentTemplate:void 0!==templateId?templates[templateId]?.title:void 0,addInitialFetchListener}))),isFirstLoadOnMyStoriesRef=(0,src.li)(currentPath===constants.vc.DASHBOARD),[isRedirectComplete,setIsRedirectComplete]=(0,src.J0)(!isFirstLoadOnMyStoriesRef.current);(0,src.vJ)((()=>addInitialFetchListener_0?.((storyStatuses=>{storyStatuses?.all<=0&&isFirstLoadOnMyStoriesRef.current&&canViewDefaultTemplates&&(push(constants.vc.TEMPLATES_GALLERY),isFirstLoadOnMyStoriesRef.current=!1),setIsRedirectComplete(!0)}))),[addInitialFetchListener_0,push,currentPath,canViewDefaultTemplates]),(0,src.vJ)((()=>{if(availableRoutes.length>0)return;const additionalPaths=additionalRoutes?additionalRoutes.map((({path})=>path)):[];setAvailableRoutes([...Object.values(constants.vc),...additionalPaths])}),[additionalRoutes,availableRoutes.length,setAvailableRoutes]),(0,src.vJ)((()=>{if(!isRedirectComplete)return;const additionalRouteTitle=leftRailSecondaryNavigation.find((config=>config.value===currentPath)),dynamicPageTitle=constants.c9[currentPath]||additionalRouteTitle?.label||constants.c9.DEFAULT;document.title=(0,sprintf.A)((0,i18n.__)("%1$s â€¹ %2$s","web-stories"),dynamicPageTitle,documentTitleSuffix),(0,tracking_src.X3)(dynamicPageTitle)}),[currentPath,isRedirectComplete,leftRailSecondaryNavigation,documentTitleSuffix]),(0,useApiAlerts.A)();const{clearSnackbar,removeSnack,placement,currentSnacks}=(0,useSnackbar.d)(),prevPath=(0,src.ZC)(currentPath);return(0,src.vJ)((()=>{currentPath!==prevPath&&clearSnackbar()}),[clearSnackbar,currentPath,prevPath]),react.createElement(react.Fragment,null,react.createElement(pageStructure.Tv,null,react.createElement(pageStructure.IH,null),react.createElement(pageStructure.TK,null,availableRoutes.length>0&&react.createElement(react.Fragment,null,react.createElement(router.qh,{exact:!0,isDefault:!0,path:constants.vc.DASHBOARD,component:react.createElement(MyStories,null)}),canViewDefaultTemplates&&react.createElement(router.qh,{path:constants.vc.TEMPLATES_GALLERY,component:react.createElement(ExploreTemplates,null)}),additionalRoutes&&additionalRoutes.map((routeProps=>react.createElement(router.qh,_extends({key:routeProps.path},routeProps))))))),react.createElement(snackbarContainer.A,{notifications:currentSnacks,onRemove:removeSnack,placement,max:1}))},interfaceSkeleton=InterfaceSkeleton;InterfaceSkeleton.__docgenInfo={description:"",methods:[],displayName:"InterfaceSkeleton",props:{additionalRoutes:{description:"",type:{name:"array"},required:!1}}}},"./packages/design-system/src/contexts/popup/popupProvider.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./packages/design-system/src/contexts/popup/context.ts").A.Provider},"./packages/design-system/src/icons/cross_large.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgCrossLarge=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M25.146 25.854a.5.5 0 0 0 .708-.708L16.707 16l9.147-9.146a.5.5 0 0 0-.708-.708L16 15.293 6.854 6.146a.5.5 0 1 0-.708.708L15.293 16l-9.147 9.146a.5.5 0 0 0 .708.708L16 16.707z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgCrossLarge)},"./packages/design-system/src/utils/deepMerge.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function deepMerge(object,source={}){return Object.entries(source).forEach((([key,value])=>{void 0!==value&&(value&&"object"==typeof value&&!Array.isArray(value)?("key"in object||object[key]||Object.assign(object,{[key]:{}}),deepMerge(object[key],value)):Object.assign(object,{[key]:value}))})),object}__webpack_require__.d(__webpack_exports__,{A:()=>deepMerge})}}]);