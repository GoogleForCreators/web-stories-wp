"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[9475],{"./packages/design-system/src/icons/launch.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const SvgLaunch=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgLaunch)},"./packages/design-system/src/components/typography/link/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>Link});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_theme__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_theme__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_theme__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/typography/styles.ts"),_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/icons/launch.svg");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const StyledLaunch=(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay)(_icons__WEBPACK_IMPORTED_MODULE_3__.A).withConfig({displayName:"link__StyledLaunch",componentId:"sc-qlyh5o-0"})(["width:12px;margin-left:0.5ch;margin-bottom:2px;stroke-width:0;vertical-align:text-bottom;"]),StyledAnchor=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.a.withConfig({displayName:"link__StyledAnchor",componentId:"sc-qlyh5o-1"})(["",";"],(({size,theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["",";",";color:",";text-decoration:none;cursor:pointer;vertical-align:baseline;:hover{color:",";}:focus{color:"," !important;}",""],_styles__WEBPACK_IMPORTED_MODULE_4__.u,_theme__WEBPACK_IMPORTED_MODULE_5__.s({preset:theme.typography.presets.link[size],theme}),theme.colors.fg.linkNormal,theme.colors.fg.linkHover,theme.colors.fg.linkNormal,_theme__WEBPACK_IMPORTED_MODULE_6__.Q(theme.colors.border.focus))));function ConditionalSpanWrapper({isWrapped,children}){return isWrapped?react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,children):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,children)}const Link=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Rf)((function Link({children,size=_theme__WEBPACK_IMPORTED_MODULE_7__.$.Medium,...props},ref){const isExternalLink="_blank"===props.target;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledAnchor,_extends({ref,size},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConditionalSpanWrapper,{isWrapped:isExternalLink},children,isExternalLink&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledLaunch,null)))}))},"./packages/design-system/src/theme/helpers/visuallyHidden.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>visuallyHidden});const visuallyHidden=(0,__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").AH)(["position:absolute;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;"])},"./packages/design-system/src/utils/panelSections.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>PanelSections,q:()=>STYLE_PANE_IDS});var _panelTypes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/design-system/src/utils/panelTypes.ts");let STYLE_PANE_IDS=function(STYLE_PANE_IDS){return STYLE_PANE_IDS.Selection="selection",STYLE_PANE_IDS.Link="link",STYLE_PANE_IDS.Animation="animation",STYLE_PANE_IDS}({});const{Link,Animation,...panelsExcludingLinkAndAnimation}=_panelTypes__WEBPACK_IMPORTED_MODULE_0__.A,PanelSections={[STYLE_PANE_IDS.Selection]:Object.values(panelsExcludingLinkAndAnimation),[STYLE_PANE_IDS.Link]:[Link],[STYLE_PANE_IDS.Animation]:[Animation]}},"./packages/story-editor/src/app/highlights/context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./packages/react/src/index.ts").q6)({})},"./packages/story-editor/src/app/highlights/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z8:()=>provider,xP:()=>HighlightType,N:()=>useHighlights.A});var useHighlights=__webpack_require__("./packages/story-editor/src/app/highlights/useHighlights.ts"),react=__webpack_require__("./node_modules/react/index.js"),src=(__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js"),__webpack_require__("./packages/react/src/index.ts")),useStory=__webpack_require__("./packages/story-editor/src/app/story/useStory.ts"),context=__webpack_require__("./packages/story-editor/src/app/highlights/context.ts"),panelSections=__webpack_require__("./packages/design-system/src/utils/panelSections.ts"),constants=__webpack_require__("./packages/story-editor/src/components/sidebar/constants.ts"),paneIds=__webpack_require__("./packages/story-editor/src/components/library/paneIds.ts");let HighlightType=function(HighlightType){return HighlightType.StoryTitle="STORY_TITLE",HighlightType.ElementToolbarToggle="ELEMENT_TOOLBAR_TOGGLE",HighlightType.StylePane="STYLE_PANE",HighlightType.Animation="ANIMATION",HighlightType.AssistiveText="ASSISTIVE_TEXT",HighlightType.Captions="Captions",HighlightType.Excerpt="EXCERPT",HighlightType.Link="LINK",HighlightType.PageBackground="PAGE_BACKGROUND",HighlightType.Poster="POSTER",HighlightType.PublisherLogo="PUBLISHER_LOGO",HighlightType.VideoA11yPoster="VIDEO_A11Y_POSTER",HighlightType.Style="STYLE",HighlightType.Font="FONT",HighlightType.TextColor="TEXT_COLOR",HighlightType.Media="MEDIA",HighlightType.Media3p="MEDIA3P",HighlightType.TextSet="TEXT",HighlightType.PageTemplates="PAGE_TEMPLATES",HighlightType.PageBackgroundAudio="PAGE_BACKGROUND_AUDIO",HighlightType}({});const STATES={[HighlightType.StoryTitle]:{focus:!0},[HighlightType.ElementToolbarToggle]:{focus:!0},[HighlightType.StylePane]:{focus:!0,tab:constants.Y,section:panelSections.q.Selection},[HighlightType.Poster]:{focus:!0,tab:constants.qQ},[HighlightType.PublisherLogo]:{focus:!0,tab:constants.qQ},[HighlightType.Excerpt]:{focus:!0,tab:constants.qQ},[HighlightType.PageBackgroundAudio]:{focus:!0,tab:constants.Y},[HighlightType.Captions]:{focus:!0,tab:constants.Y,section:panelSections.q.Selection},[HighlightType.AssistiveText]:{focus:!0,tab:constants.Y,section:panelSections.q.Selection},[HighlightType.PageBackground]:{focus:!0,tab:constants.Y,section:panelSections.q.Selection},[HighlightType.Animation]:{focus:!0,tab:constants.Y,section:panelSections.q.Animation},[HighlightType.Font]:{focus:!0,tab:constants.Y,section:panelSections.q.Selection},[HighlightType.Link]:{focus:!0,tab:constants.Y,section:panelSections.q.Link},[HighlightType.VideoA11yPoster]:{focus:!0,tab:constants.Y,section:panelSections.q.Selection},[HighlightType.Style]:{focus:!0,tab:constants.Y,section:panelSections.q.Selection},[HighlightType.TextColor]:{focus:!0,tab:constants.Y,section:panelSections.q.Selection},[HighlightType.Media]:{focus:!0,tab:constants.i,section:paneIds.o.Media},[HighlightType.Media3p]:{focus:!0,tab:constants.i,section:paneIds.o.Media3p},[HighlightType.TextSet]:{focus:!0,tab:constants.i,section:paneIds.o.Text},[HighlightType.PageTemplates]:{focus:!0,tab:constants.i,section:paneIds.o.PageTemplates}};const provider=function HighlightsProvider({children}){const[highlighted,setHighlighted]=(0,src.J0)({}),{actions:{setSelectedElementsById,setCurrentPage}}=(0,useStory.P)(),selectElement=(0,src.hb)((({elementId,elements,pageId})=>{if(pageId&&setCurrentPage({pageId}),elements?.length){const elementIds=elements.map((element=>element.id));setSelectedElementsById({elementIds})}else if(elementId){setSelectedElementsById({elementIds:[elementId]})}}),[setCurrentPage,setSelectedElementsById]),setHighlights=(0,src.hb)((({elements,elementId,pageId,highlight})=>{if((elements||elementId||pageId)&&selectElement({elements,elementId,pageId}),highlight&&STATES[highlight]){const{tab,section,...highlightState}=STATES[highlight];setHighlighted({[highlight]:{...highlightState,showEffect:!0},tab,section})}}),[selectElement]),onFocusOut=(0,src.hb)((()=>setHighlighted({})),[setHighlighted]),cancelEffect=(0,src.hb)((highlight=>setHighlighted((state=>({...state,[highlight]:{...state[highlight],showEffect:!1}})))),[]),contextValue=(0,src.Kr)((()=>({setHighlights,onFocusOut,cancelEffect,...highlighted})),[cancelEffect,onFocusOut,setHighlights,highlighted]);return react.createElement(context.A.Provider,{value:contextValue},children)}},"./packages/story-editor/src/app/highlights/useHighlights.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/story-editor/src/app/highlights/context.ts");const __WEBPACK_DEFAULT_EXPORT__=function useHighlights(selector=_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.D_){return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.i7)(_context__WEBPACK_IMPORTED_MODULE_1__.A,selector)}},"./packages/story-editor/src/components/floatingMenu/stories/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_default:()=>_default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_app_config__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/story-editor/src/app/config/index.ts"),_app_story__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/story-editor/src/app/story/index.ts"),_canvas_editLayerFocusManager__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/components/canvas/editLayerFocusManager/index.js"),_menu__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/components/floatingMenu/menu.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Stories Editor/Components/FloatingMenu",component:_menu__WEBPACK_IMPORTED_MODULE_4__.A,args:{selectedElementType:"image",selectionIdentifier:"a1d51657-6c26-43b6-9571-a5f1de0dcbd9",visuallyHidden:!1,ref:{current:{}}},argTypes:{handleDismiss:{action:"dismissed"},selectedElementType:{options:["image","shape","sticker"],control:{type:"select"}}},parameters:{controls:{exclude:["selectionIdentifier","visuallyHidden","ref","handleDismiss"]}}},_default={render:function Render(args){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_app_config__WEBPACK_IMPORTED_MODULE_1__.QO.Provider,{value:{capabilities:{hasUploadMediaAction:!0}}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_app_story__WEBPACK_IMPORTED_MODULE_2__.Vm.Provider,{value:{state:{story:{},selectedElements:[{type:args.selectedElementType,flip:"horizontal",resource:{},id:"some-element-id"}]},actions:{updateSelectedElements:()=>{}}}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_canvas_editLayerFocusManager__WEBPACK_IMPORTED_MODULE_3__.Ay,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_menu__WEBPACK_IMPORTED_MODULE_4__.A,args))))}}},"./packages/story-editor/src/components/library/paneIds.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>PANE_IDS});let PANE_IDS=function(PANE_IDS){return PANE_IDS.Media="media",PANE_IDS.Media3p="media3p",PANE_IDS.Text="text",PANE_IDS.Shapes="shapes",PANE_IDS.Elements="elements",PANE_IDS.PageTemplates="pageTemplates",PANE_IDS.Shopping="shopping",PANE_IDS}({})},"./packages/story-editor/src/components/sidebar/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>STYLE,i:()=>INSERT,kS:()=>PUBLISH_MODAL_DOCUMENT,qQ:()=>DOCUMENT});const INSERT="insert",STYLE="design",DOCUMENT="document",PUBLISH_MODAL_DOCUMENT="publish_modal_document"},"./packages/units/src/calcRotatedObjectPositionAndSize.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>calcRotatedObjectPositionAndSize});var _getCorners__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/units/src/getCorners.ts");function calcRotatedObjectPositionAndSize(angle=0,x,y,width,height){if(!angle)return{x,y,width,height};const{topLeftPoint,topRightPoint,bottomRightPoint,bottomLeftPoint}=(0,_getCorners__WEBPACK_IMPORTED_MODULE_0__.A)(angle,x,y,width,height),boundTopLeftX=Math.min(topLeftPoint.x,topRightPoint.x,bottomRightPoint.x,bottomLeftPoint.x),boundTopLeftY=Math.min(topLeftPoint.y,topRightPoint.y,bottomRightPoint.y,bottomLeftPoint.y);return{x:boundTopLeftX,y:boundTopLeftY,width:Math.max(topLeftPoint.x,topRightPoint.x,bottomRightPoint.x,bottomLeftPoint.x)-boundTopLeftX,height:Math.max(topLeftPoint.y,topRightPoint.y,bottomRightPoint.y,bottomLeftPoint.y)-boundTopLeftY}}},"./packages/units/src/getBoundRect.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.for-each.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js");var _calcRotatedObjectPositionAndSize__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/units/src/calcRotatedObjectPositionAndSize.ts");const __WEBPACK_DEFAULT_EXPORT__=function getBoundRect(list){const updatedList=list.map((el=>(0,_calcRotatedObjectPositionAndSize__WEBPACK_IMPORTED_MODULE_3__.A)(el.rotationAngle,el.x,el.y,el.width,el.height))),firstElement=updatedList[0];let startX=firstElement.x,startY=firstElement.y,endX=startX+firstElement.width,endY=startY+firstElement.height;return updatedList.slice(1).forEach((el=>{startX=Math.min(el.x,startX),startY=Math.min(el.y,startY),endX=Math.max(el.x+el.width,endX),endY=Math.max(el.y+el.height,endY)})),{startX,startY,endX,endY,width:endX-startX,height:endY-startY}}}}]);