"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[5743],{"./packages/design-system/src/components/keyboard/keyboard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{rm:()=>Shortcut,A0:()=>useEscapeToBlurEffect,A3:()=>useGlobalIsKeyPressed,pP:()=>useGlobalKeyDownEffect,_h:()=>useKeyDownEffect,wk:()=>useKeyEffect});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),src=__webpack_require__("./packages/react/src/index.ts");const keyboard_keys={undo:"mod+z",redo:"shift+mod+z",delete:["del","backspace"],clone:"mod+d"},context=(0,src.q6)({keys:keyboard_keys});var utils=__webpack_require__("./packages/design-system/src/components/keyboard/utils.ts");const globalRef={current:null};function setGlobalRef(){globalRef.current||(globalRef.current=document.documentElement)}function useKeyEffectInternal(refOrNode,keyNameOrSpec,type,callback,deps){const{keys}=(0,src.NT)(context),batchingCallback=(0,src.T0)(callback,deps||[]);(0,src.vJ)((()=>{const nodeEl=(0,utils.RS)(refOrNode);if(!nodeEl)return;if(nodeEl.nodeType!==Node.ELEMENT_NODE&&nodeEl.nodeType!==Node.DOCUMENT_NODE)throw new Error("only an element or a document node can be used");const keySpec=(0,utils.Zg)(keys,keyNameOrSpec);if(1===keySpec.key.length&&""===keySpec.key[0])return;const mousetrap=(0,utils.iJ)(nodeEl),handler=(0,utils.Eh)(nodeEl,keySpec,batchingCallback);return mousetrap.bind(keySpec.key,handler,type),()=>{mousetrap.unbind(keySpec.key,type)}}),[batchingCallback,keys])}function useKeyEffect(refOrNode,keyNameOrSpec,callback,deps){useKeyEffectInternal(refOrNode,keyNameOrSpec,void 0,callback,deps)}function useKeyDownEffect(refOrNode,keyNameOrSpec,callback,deps){useKeyEffectInternal(refOrNode,keyNameOrSpec,"keydown",callback,deps)}function useKeyUpEffect(refOrNode,keyNameOrSpec,callback,deps){useKeyEffectInternal(refOrNode,keyNameOrSpec,"keyup",callback,deps)}function useGlobalKeyDownEffect(keyNameOrSpec,callback,deps){setGlobalRef(),useKeyDownEffect(globalRef,keyNameOrSpec,callback,deps)}function useGlobalIsKeyPressed(keyNameOrSpec,deps){return setGlobalRef(),function useIsKeyPressed(refOrNode,keyNameOrSpec,deps){const[isKeyPressed,setIsKeyPressed]=(0,src.J0)(!1),handleBlur=(0,src.hb)((()=>{setIsKeyPressed(!1)}),[]);return(0,src.vJ)((()=>(window.addEventListener("blur",handleBlur),()=>{window.removeEventListener("blur",handleBlur)})),[handleBlur]),useKeyDownEffect(refOrNode,keyNameOrSpec,(()=>setIsKeyPressed(!0)),deps),useKeyUpEffect(refOrNode,keyNameOrSpec,(()=>setIsKeyPressed(!1)),deps),isKeyPressed}(globalRef,keyNameOrSpec,deps)}function useEscapeToBlurEffect(refOrNode,deps){useKeyDownEffect(refOrNode,{key:"esc",editable:!0},(()=>{const nodeEl=(0,utils.RS)(refOrNode),{activeElement}=document;nodeEl&&activeElement&&nodeEl.contains(activeElement)&&activeElement.blur()}),deps)}function Shortcut(t0){const $=(0,dist.c)(13),{component:Component,shortcut:t1}=t0,shortcut=void 0===t1?"":t1;let T0,t2,t3,t4;if($[0]!==Component||$[1]!==shortcut){const chars=shortcut.split(" ");let t4;T0=Component,$[5]!==shortcut?(t2=(0,utils._M)(shortcut),$[5]=shortcut,$[6]=t2):t2=$[6],$[7]!==Component?(t4=(char,index)=>react.createElement(Component,{key:`${index}-${char}`},(0,utils.KV)(char)),$[7]=Component,$[8]=t4):t4=$[8],t3=chars.map(t4),$[0]=Component,$[1]=shortcut,$[2]=T0,$[3]=t2,$[4]=t3}else T0=$[2],t2=$[3],t3=$[4];return $[9]!==T0||$[10]!==t2||$[11]!==t3?(t4=react.createElement(T0,{"aria-label":t2},t3),$[9]=T0,$[10]=t2,$[11]=t3,$[12]=t4):t4=$[12],t4}Shortcut.__docgenInfo={description:"Returns a prettified shortcut wrapped with a <kbd> element.",methods:[],displayName:"Shortcut",props:{component:{required:!0,tsType:{name:"ReactFC",raw:"React.FC"},description:""},shortcut:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}}}}},"./packages/design-system/src/components/slider/slider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),_keyboard__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),_tooltip__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/tooltip/tooltip.tsx"),_popup__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/utils/noop.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const rangeThumb=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.AH)(["appearance:none;width:","px;height:","px;background-color:",";cursor:pointer;border-radius:50px;"],(({thumbSize})=>thumbSize),(({thumbSize})=>thumbSize),(({theme})=>theme.colors.interactiveBg.primaryNormal)),rangeThumbHover=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.AH)(["background-color:",";"],(({theme})=>theme.colors.interactiveBg.primaryHover)),rangeThumbFocus=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.AH)(["z-index:2;border:2px solid ",";padding:2px;background-clip:content-box;width:","px;height:","px;margin-left:","px;"],(({theme})=>theme.colors.accent.secondary),(({thumbSize})=>thumbSize+8),(({thumbSize})=>thumbSize+8),(({thumbSize,width,percentage})=>function getFocusedThumbMargin(percentage,thumbSize,width){const leftMargin=Math.ceil(getAdjustedWidthValue(4,thumbSize,width));return 2*percentage*.01*leftMargin-leftMargin}(percentage,thumbSize,width))),Input=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.input.attrs({type:"range"}).withConfig({displayName:"slider__Input",componentId:"sc-674v79-0"})(["z-index:1;position:relative;min-width:100px;cursor:pointer;outline:none;background:",";border-radius:100px;height:4px;appearance:none;flex:1;margin:0;::-webkit-slider-thumb{","}::-moz-range-thumb{","}::-ms-thumb{","}::before{z-index:-1;position:absolute;content:' ';height:6px;top:calc(50% - 3px);left:-calc( ","% - 4px );width:","%;background-color:",";border-radius:50px;}:hover{::before{background-color:",";}::-webkit-slider-thumb{","}::-moz-range-thumb{","}::-ms-thumb{","}}&:focus{&::-webkit-slider-thumb{","}&::-moz-range-thumb{","}&::-ms-thumb{","}}"],(({theme})=>theme.colors.bg.quaternary),rangeThumb,rangeThumb,rangeThumb,(({percentage,thumbSize,width})=>getAdjustedWidthValue(percentage,thumbSize,width)),(({percentage=0})=>percentage),(({theme})=>theme.colors.interactiveBg.primaryNormal),(({theme})=>theme.colors.interactiveBg.primaryHover),rangeThumbHover,rangeThumbHover,rangeThumbHover,rangeThumbFocus,rangeThumbFocus,rangeThumbFocus);function getAdjustedWidthValue(value=0,thumbSize,width){return width||(width=1),(width-thumbSize)/width*value}const Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"slider__Wrapper",componentId:"sc-674v79-1"})(["position:relative;left:0;top:0;"]),FakeThumb=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"slider__FakeThumb",componentId:"sc-674v79-2"})(["width:0;height:0;position:absolute;left:","px;top:","px;"],(({thumbSize})=>thumbSize/2),(({thumbSize})=>-thumbSize/2+12));function Slider(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(70);let majorStep,minorStep,popupZIndexOverride,rest,t1,t2,t3,t4,t5,value;$[0]!==t0?(({minorStep,majorStep,handleChange:t1,value,min:t2,max:t3,thumbSize:t4,suffix:t5,popupZIndexOverride,...rest}=t0),$[0]=t0,$[1]=majorStep,$[2]=minorStep,$[3]=popupZIndexOverride,$[4]=rest,$[5]=t1,$[6]=t2,$[7]=t3,$[8]=t4,$[9]=t5,$[10]=value):(majorStep=$[1],minorStep=$[2],popupZIndexOverride=$[3],rest=$[4],t1=$[5],t2=$[6],t3=$[7],t4=$[8],t5=$[9],value=$[10]);const handleChange=void 0===t1?_utils__WEBPACK_IMPORTED_MODULE_4__.l:t1,min=void 0===t2?0:t2,max=void 0===t3?500:t3,thumbSize=void 0===t4?24:t4,suffix=void 0===t5?"":t5,ref=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.li)(null),fakeThumbRef=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.li)(null),[widthTracker,setWidthTracker]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.J0)(0);let t6,t7;$[11]!==handleChange||$[12]!==majorStep||$[13]!==max||$[14]!==min||$[15]!==minorStep||$[16]!==value?(t6=(direction,isMajor)=>{let val=value+direction*(isMajor?majorStep:minorStep);val="number"==typeof min?Math.max(min,val):val,val="number"==typeof max?Math.min(max,val):val,handleChange(val)},t7=[minorStep,majorStep,handleChange,min,max,value],$[11]=handleChange,$[12]=majorStep,$[13]=max,$[14]=min,$[15]=minorStep,$[16]=value,$[17]=t6,$[18]=t7):(t6=$[17],t7=$[18]);const update=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t6,t7),percentageVal=(value-min)/(max-min)*100;let t8,t9,t10,t11,t12,t13,t14,t15,t16,t17,t18,t19,t20,t21;$[19]!==ref||$[20]!==setWidthTracker||$[21]!==widthTracker?(t8=()=>{if(ref.current&&!widthTracker){const{width}=ref.current.getBoundingClientRect();setWidthTracker(width)}},$[19]=ref,$[20]=setWidthTracker,$[21]=widthTracker,$[22]=t8):t8=$[22],$[23]!==ref||$[24]!==widthTracker?(t9=[ref,widthTracker],$[23]=ref,$[24]=widthTracker,$[25]=t9):t9=$[25],(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Nf)(t8,t9),$[26]===Symbol.for("react.memo_cache_sentinel")?(t10=["left","down"],$[26]=t10):t10=$[26],$[27]!==update?(t11=()=>update(-1,!0),t12=[update],$[27]=update,$[28]=t11,$[29]=t12):(t11=$[28],t12=$[29]),(0,_keyboard__WEBPACK_IMPORTED_MODULE_5__._h)(ref,t10,t11,t12),$[30]===Symbol.for("react.memo_cache_sentinel")?(t13=["right","up"],$[30]=t13):t13=$[30],$[31]!==update?(t14=()=>update(1,!0),t15=[update],$[31]=update,$[32]=t14,$[33]=t15):(t14=$[32],t15=$[33]),(0,_keyboard__WEBPACK_IMPORTED_MODULE_5__._h)(ref,t13,t14,t15),$[34]===Symbol.for("react.memo_cache_sentinel")?(t16=["shift+left","shift+down"],$[34]=t16):t16=$[34],$[35]!==update?(t17=()=>update(-1,!1),t18=[update],$[35]=update,$[36]=t17,$[37]=t18):(t17=$[36],t18=$[37]),(0,_keyboard__WEBPACK_IMPORTED_MODULE_5__._h)(ref,t16,t17,t18),$[38]===Symbol.for("react.memo_cache_sentinel")?(t19=["shift+right","shift+up"],$[38]=t19):t19=$[38],$[39]!==update?(t20=()=>update(1,!1),t21=[update],$[39]=update,$[40]=t20,$[41]=t21):(t20=$[40],t21=$[41]),(0,_keyboard__WEBPACK_IMPORTED_MODULE_5__._h)(ref,t19,t20,t21);const printValue=`${value}${suffix}`,t22=`translate(${(widthTracker-thumbSize)*percentageVal/100}px, 0)`;let t23,t24,t25,t26,t27,t28;return $[42]!==t22?(t23={transform:t22},$[42]=t22,$[43]=t23):t23=$[43],$[44]!==handleChange?(t24=evt=>handleChange(evt.target.valueAsNumber),$[44]=handleChange,$[45]=t24):t24=$[45],$[46]!==max||$[47]!==min||$[48]!==minorStep||$[49]!==percentageVal||$[50]!==printValue||$[51]!==ref||$[52]!==rest||$[53]!==t24||$[54]!==thumbSize||$[55]!==value||$[56]!==widthTracker?(t25=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Input,_extends({percentage:percentageVal,ref,onChange:t24,step:minorStep,value,min,max,thumbSize,width:widthTracker,"aria-valuenow":value,"aria-valuetext":printValue},rest)),$[46]=max,$[47]=min,$[48]=minorStep,$[49]=percentageVal,$[50]=printValue,$[51]=ref,$[52]=rest,$[53]=t24,$[54]=thumbSize,$[55]=value,$[56]=widthTracker,$[57]=t25):t25=$[57],$[58]!==fakeThumbRef||$[59]!==thumbSize?(t26=react__WEBPACK_IMPORTED_MODULE_0__.createElement(FakeThumb,{ref:fakeThumbRef,thumbSize}),$[58]=fakeThumbRef,$[59]=thumbSize,$[60]=t26):t26=$[60],$[61]!==t25||$[62]!==t26?(t27=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper,null,t25,t26),$[61]=t25,$[62]=t26,$[63]=t27):t27=$[63],$[64]!==fakeThumbRef||$[65]!==popupZIndexOverride||$[66]!==printValue||$[67]!==t23||$[68]!==t27?(t28=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tooltip__WEBPACK_IMPORTED_MODULE_6__.A,{title:printValue,placement:_popup__WEBPACK_IMPORTED_MODULE_7__.W.Top,popupZIndexOverride,forceAnchorRef:fakeThumbRef,styleOverride:t23},t27),$[64]=fakeThumbRef,$[65]=popupZIndexOverride,$[66]=printValue,$[67]=t23,$[68]=t27,$[69]=t28):t28=$[69],t28}const __WEBPACK_DEFAULT_EXPORT__=Slider;Slider.__docgenInfo={description:"A styled range input component.\n\nThis component must be initialized with two step values - one value (`majorStep`)\nis the coarse value, that simply pressing arrow-left and arrow-right will move\nbetween (e.g. 1) and the other (`minorStep`) is the more fine-grained value (e.g. 0.1)\nwhich can be used by pressing shift+arrow.\n\nWhen using the mouse, only `minorStep` is considered and this is the resolution the\nrange has.",methods:[],displayName:"Slider",props:{minorStep:{required:!0,tsType:{name:"number"},description:""},majorStep:{required:!0,tsType:{name:"number"},description:""},handleChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}},value:{required:!0,tsType:{name:"number"},description:""},min:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},max:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"500",computed:!1}},thumbSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},suffix:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},popupZIndexOverride:{required:!1,tsType:{name:"number"},description:""}},composes:["ComponentProps"]}},"./packages/design-system/src/components/slider/stories/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_default:()=>_default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_storybookUtils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/storybookUtils/darkThemeProvider.js"),___WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/slider/slider.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Container=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"stories__Container",componentId:"sc-n0h430-0"})(["padding:50px;background-color:",";border:1px solid ",";"],(({theme})=>theme.colors.bg.primary),(({theme})=>theme.colors.standard.black)),__WEBPACK_DEFAULT_EXPORT__={title:"DesignSystem/Components/Slider",component:___WEBPACK_IMPORTED_MODULE_3__.A,args:{thumbSize:24,min:0,max:100,majorStep:10,minorStep:1},parameters:{controls:{exclude:["handleChange","value","suffix"]}}},_default={render:function Render(args){const[lightValue,setLightValue]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.J0)(0),[darkValue,setDarkValue]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.J0)(0);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(Container,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_4__.E.Paragraph,null,"Percentage:"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.A,_extends({},args,{handleChange:setLightValue,value:lightValue,suffix:"%"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_storybookUtils__WEBPACK_IMPORTED_MODULE_5__.J,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(Container,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_4__.E.Paragraph,null,"Milliseconds:"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.A,_extends({},args,{handleChange:setDarkValue,value:darkValue,suffix:"ms"})))))}}},"./packages/design-system/src/storybookUtils/darkThemeProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>DarkThemeProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/theme.ts");const DarkThemeProvider=t0=>{const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(2),{children}=t0;let t1;return $[0]!==children?(t1=react__WEBPACK_IMPORTED_MODULE_0__.createElement(styled_components__WEBPACK_IMPORTED_MODULE_2__.NP,{theme:_theme__WEBPACK_IMPORTED_MODULE_3__.w},children),$[0]=children,$[1]=t1):t1=$[1],t1};DarkThemeProvider.__docgenInfo={description:"",methods:[],displayName:"DarkThemeProvider",props:{children:{description:"",type:{name:"node"},required:!0}}}}}]);