"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[5402],{"./packages/design-system/src/components/contextMenu/components/button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),uuid__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),_button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_contextMenuProvider__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/contextMenu/contextMenuProvider/useContextMenu.ts"),_styles__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/contextMenu/components/styles.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const StyledButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay)(_button__WEBPACK_IMPORTED_MODULE_4__.$).withConfig({displayName:"button__StyledButton",componentId:"sc-1mvlmgw-0"})(["",";width:auto;"," :disabled{background-color:transparent;span{color:",";}}:hover:not(:disabled){background-color:",";}:active:not(:disabled){background-color:",";}"],_styles__WEBPACK_IMPORTED_MODULE_5__.L,(({isHorizontal,isIconMenu,forcePadding,theme})=>({height:isHorizontal?"32px":void 0,padding:!forcePadding&&(isHorizontal||isIconMenu)?0:void 0,borderRadius:isHorizontal||isIconMenu?theme.borders.radius.small:0})),(({theme})=>theme.colors.fg.disable),(({theme})=>theme.colors.interactiveBg.secondaryHover),(({theme})=>theme.colors.interactiveBg.secondaryPress)),Button=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Rf)((function Button(t0,ref){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(31);let id,onBlur,onClick,onFocus,props,t1,t2;$[0]!==t0?(({id,onBlur,onClick,onFocus,forcePadding:t1,dismissOnClick:t2,...props}=t0),$[0]=t0,$[1]=id,$[2]=onBlur,$[3]=onClick,$[4]=onFocus,$[5]=props,$[6]=t1,$[7]=t2):(id=$[1],onBlur=$[2],onClick=$[3],onFocus=$[4],props=$[5],t1=$[6],t2=$[7]);const forcePadding=void 0!==t1&&t1,dismissOnClick=void 0===t2||t2,{focusedId,isIconMenu,isHorizontal,onDismiss,onMenuItemBlur,onMenuItemFocus}=(0,_contextMenuProvider__WEBPACK_IMPORTED_MODULE_6__.A)(_temp);let t3;$[8]===Symbol.for("react.memo_cache_sentinel")?(t3=[],$[8]=t3):t3=$[8];const autoGeneratedId=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(_temp2,t3),elementId=id||autoGeneratedId;let t4;$[9]!==onBlur||$[10]!==onMenuItemBlur?(t4=evt=>{onMenuItemBlur(),onBlur?.(evt)},$[9]=onBlur,$[10]=onMenuItemBlur,$[11]=t4):t4=$[11];const handleBlur=t4;let t5;$[12]!==dismissOnClick||$[13]!==onClick||$[14]!==onDismiss?(t5=evt_0=>{onClick(evt_0),dismissOnClick&&onDismiss(evt_0.nativeEvent)},$[12]=dismissOnClick,$[13]=onClick,$[14]=onDismiss,$[15]=t5):t5=$[15];const handleClick=t5;let t6;$[16]!==elementId||$[17]!==onFocus||$[18]!==onMenuItemFocus?(t6=evt_1=>{onMenuItemFocus(elementId),onFocus?.(evt_1)},$[16]=elementId,$[17]=onFocus,$[18]=onMenuItemFocus,$[19]=t6):t6=$[19];const handleFocus=t6,t7=focusedId===elementId?0:-1;let t8;return $[20]!==elementId||$[21]!==forcePadding||$[22]!==handleBlur||$[23]!==handleClick||$[24]!==handleFocus||$[25]!==isHorizontal||$[26]!==isIconMenu||$[27]!==props||$[28]!==ref||$[29]!==t7?(t8=react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledButton,_extends({ref,id:elementId,tabIndex:t7,role:"menuitem",isIconMenu,isHorizontal,forcePadding,onBlur:handleBlur,onClick:handleClick,onFocus:handleFocus},props)),$[20]=elementId,$[21]=forcePadding,$[22]=handleBlur,$[23]=handleClick,$[24]=handleFocus,$[25]=isHorizontal,$[26]=isIconMenu,$[27]=props,$[28]=ref,$[29]=t7,$[30]=t8):t8=$[30],t8})),__WEBPACK_DEFAULT_EXPORT__=Button;function _temp(t0){const{state,actions}=t0;return{focusedId:state.focusedId,isIconMenu:state.isIconMenu,isHorizontal:state.isHorizontal,onDismiss:actions.onDismiss,onMenuItemBlur:actions.onMenuItemBlur,onMenuItemFocus:actions.onMenuItemFocus}}function _temp2(){return(0,uuid__WEBPACK_IMPORTED_MODULE_7__.A)()}Button.__docgenInfo={description:"A styled button for use in the context menu.",methods:[],displayName:"Button",props:{id:{required:!1,tsType:{name:"string"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(evt: SyntheticEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"SyntheticEvent",elements:[{name:"HTMLButtonElement"}],raw:"SyntheticEvent<HTMLButtonElement>"},name:"evt"}],return:{name:"void"}}},description:""},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(evt: SyntheticEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"SyntheticEvent",elements:[{name:"HTMLButtonElement"}],raw:"SyntheticEvent<HTMLButtonElement>"},name:"evt"}],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(evt: SyntheticEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"SyntheticEvent",elements:[{name:"HTMLButtonElement"}],raw:"SyntheticEvent<HTMLButtonElement>"},name:"evt"}],return:{name:"void"}}},description:""},forcePadding:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},dismissOnClick:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}},composes:["ComponentPropsWithoutRef"]}},"./packages/design-system/src/components/contextMenu/components/separator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_contextMenuProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/contextMenu/contextMenuProvider/useContextMenu.ts");const Line=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"separator__Line",componentId:"sc-1sjb4ry-0"})(["display:block;flex-shrink:0;",""],(({isHorizontal,isIconMenu,theme})=>isHorizontal?`\n        width: 1px;\n        height: 89%; /* 32px out of 36px */\n        margin: auto 2px; /* there's an extra 6px horizontal flexbox gap */\n        background-color: ${theme.colors.divider.secondary};\n      `:`\n        height: 1px;\n        margin: 2px auto; /* there's an extra 6px vertical flexbox gap */\n        width: ${isIconMenu?40:100}%;\n        background-color: ${theme.colors.divider.primary};\n      `));function Separator(){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(2),props=(0,_contextMenuProvider__WEBPACK_IMPORTED_MODULE_3__.A)(_temp);let t0;return $[0]!==props?(t0=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Line,props),$[0]=props,$[1]=t0):t0=$[1],t0}function _temp(t0){const{state:t1}=t0,{isIconMenu,isHorizontal}=t1;return{isIconMenu,isHorizontal}}const __WEBPACK_DEFAULT_EXPORT__=Separator;Separator.__docgenInfo={description:"A horizontal line that can be rendered between context menu\nitems.",methods:[],displayName:"Separator"}},"./packages/design-system/src/components/contextMenu/components/styles.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>menuItemStyles});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_button_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/button/constants.ts");const menuItemStyles=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.AH)(["",";display:flex;justify-content:space-between;align-items:center;padding:2px 16px;border:0;color:",";font-weight:500;text-align:left;transition:background-color ",";"],(({theme})=>_theme__WEBPACK_IMPORTED_MODULE_1__.s({preset:theme.typography.presets.paragraph[_theme__WEBPACK_IMPORTED_MODULE_2__.$.XSmall],theme})),(({theme})=>theme.colors.fg.primary),_button_constants__WEBPACK_IMPORTED_MODULE_3__.QB)},"./packages/design-system/src/components/contextMenu/contextMenu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>contextMenu});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),noop=__webpack_require__("./packages/design-system/src/utils/noop.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Popover=styled_components_browser_esm.Ay.div.withConfig({displayName:"styled__Popover",componentId:"sc-16ikxuv-0"})(["--translate-x:calc(var(--delta-x,0) * 1px);--translate-y:calc(var(--delta-y,0) * 1px);display:",";position:",";z-index:",";transform:translate(var(--translate-x),var(--translate-y));"],(({isOpen})=>isOpen?"block":"none"),(({isInline})=>isInline?"relative":"absolute"),(({popoverZIndex=9991})=>popoverZIndex)),Shadow=styled_components_browser_esm.Ay.div.withConfig({displayName:"styled__Shadow",componentId:"sc-16ikxuv-1"})(["position:absolute;top:0;right:0;bottom:0;left:0;border-radius:",";box-shadow:0px 4px 4px rgba(0,0,0,0.25);pointer-events:none;"],(({theme,$isHorizontal})=>$isHorizontal?theme.borders.radius.medium:theme.borders.radius.small));function SmartPopover(t0){const $=(0,dist.c)(9);let isRTL,props,t1,t2;$[0]!==t0?(({isRTL,...props}=t0),$[0]=t0,$[1]=isRTL,$[2]=props):(isRTL=$[1],props=$[2]),$[3]!==isRTL?(t1=node=>{if(!node)return;const boundingBox=node.getBoundingClientRect(),max_x=window.innerWidth-boundingBox.width,max_y=window.innerHeight-boundingBox.height,horizontalEdgeCondition=isRTL?boundingBox.x<0:max_x<boundingBox.x,horizontalEdgeTransform=isRTL?boundingBox.width:-boundingBox.width,delta={x:horizontalEdgeCondition?horizontalEdgeTransform:0,y:Math.min(0,max_y-boundingBox.y)};node.style.setProperty("--delta-x",String(delta.x)),node.style.setProperty("--delta-y",String(delta.y))},t2=[isRTL],$[3]=isRTL,$[4]=t1,$[5]=t2):(t1=$[4],t2=$[5]);const setRef=(0,src.hb)(t1,t2);let t3;return $[6]!==props||$[7]!==setRef?(t3=props.isOpen?react.createElement(Popover,_extends({ref:setRef},props)):null,$[6]=props,$[7]=setRef,$[8]=t3):t3=$[8],t3}SmartPopover.__docgenInfo={description:"",methods:[],displayName:"SmartPopover",props:{isRTL:{required:!1,tsType:{name:"boolean"},description:""}},composes:["ComponentPropsWithoutRef"]};var constants=__webpack_require__("./packages/design-system/src/utils/constants.ts");const utils_useMouseDownOutsideRef=function useMouseDownOutsideRef(onMouseDownOutside=noop.l){const targetRef=(0,src.li)(null),handleDocumentClickCaptureRef=(0,src.li)(noop.l),onMouseDownOutsideRef=(0,src.li)(onMouseDownOutside);return onMouseDownOutsideRef.current=onMouseDownOutside,(0,src.hb)((node=>{targetRef.current&&document.removeEventListener("mousedown",handleDocumentClickCaptureRef.current,!0),node&&(handleDocumentClickCaptureRef.current=evt=>{node===evt.target||evt.target instanceof Node&&node.contains(evt.target)||onMouseDownOutsideRef.current?.(evt)},document.addEventListener("mousedown",handleDocumentClickCaptureRef.current,!0)),targetRef.current=node}),[])};var useForwardedRef=__webpack_require__("./packages/design-system/src/utils/useForwardedRef.ts"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),useContextMenu=__webpack_require__("./packages/design-system/src/components/contextMenu/contextMenuProvider/useContextMenu.ts"),contextMenu_constants=__webpack_require__("./packages/design-system/src/components/contextMenu/constants.ts");function menu_extends(){return menu_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},menu_extends.apply(null,arguments)}const MenuWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"menu__MenuWrapper",componentId:"sc-13mg48i-0"})((({theme})=>(0,styled_components_browser_esm.AH)(["background-color:",";border-radius:",";border:1px solid ",";gap:6px;display:flex;"," *:last-child{margin-bottom:0;}"],(({isSecondary})=>isSecondary?theme.colors.bg.secondary:theme.colors.bg.primary),(({isHorizontal})=>isHorizontal?theme.borders.radius.medium:theme.borders.radius.small),theme.colors.border.disable,(({isHorizontal,isIconMenu})=>isHorizontal?(0,styled_components_browser_esm.AH)(["height:52px;padding:7px 10px;align-items:center;"]):(0,styled_components_browser_esm.AH)(["flex-direction:column;width:",";padding:",";max-width:","px;",";"],isIconMenu?"40px":"auto",isIconMenu?"4px 3px":"8px 0",300,!isIconMenu&&(0,styled_components_browser_esm.AH)(["min-width:","px;"],contextMenu_constants.o))))));function getFocusableChildren(parent,isSubMenu){const allButtons=Array.from(parent.querySelectorAll(constants.E.join(", "))).filter((e=>e instanceof HTMLElement));return isSubMenu?allButtons:allButtons.filter((elem=>!elem.matches(`[role="menu"], [role="menu"] [role="menu"] *, .${contextMenu_constants.D}`)))}const Menu=(0,src.Rf)((({children,disableControlledTabNavigation,isOpen,onFocus=noop.l,isSubMenu=!1,isSecondary=!1,parentMenuRef,onCloseSubMenu=noop.l,dismissOnEscape=!0,...props},forwardedRef)=>{const{isRTL}=props,{focusedId,isIconMenu,isHorizontal,onDismiss,setFocusedId}=(0,useContextMenu.A)((({state,actions})=>({focusedId:state.focusedId,isIconMenu:state.isIconMenu,isHorizontal:state.isHorizontal,onDismiss:actions.onDismiss,setFocusedId:actions.setFocusedId}))),mouseDownOutsideRef=utils_useMouseDownOutsideRef((()=>isOpen&&!isSubMenu&&onDismiss())),ref=(0,useForwardedRef.A)(forwardedRef),composedListRef=(0,src.jn)(mouseDownOutsideRef,ref),handleFocus=(0,src.hb)((evt=>{if(onFocus(evt),!ref.current)return;const menuChildren=[...ref.current.children],isFocusOutsideMenu=menuChildren.length&&![...menuChildren].some((child=>child.contains(evt.target)));if(ref.current===evt.target&&isFocusOutsideMenu){const focusableChildren=getFocusableChildren(ref.current);document.dispatchEvent(new KeyboardEvent("keydown",{key:"tab"})),focusableChildren.length>0&&focusableChildren[0]instanceof HTMLElement&&focusableChildren[0].focus()}}),[onFocus,ref]),getPrevIndex=(0,src.hb)((focusableChildren_0=>{let prevIndex=focusableChildren_0.findIndex((element=>element.id===focusedId));return-1===prevIndex&&(prevIndex=focusableChildren_0.findIndex((element_0=>element_0.id===document.activeElement?.id))),prevIndex}),[focusedId]),handleKeyboardNav=(0,src.hb)((evt_0=>{const{key}=evt_0;if("Escape"===key)return void onDismiss(evt_0);if(!ref.current)return;const focusableChildren_1=getFocusableChildren(ref.current,isSubMenu);let prevIndex_0=getPrevIndex(focusableChildren_1);-1===prevIndex_0&&focusableChildren_1.length&&(setFocusedId(focusableChildren_1[0].id),prevIndex_0=0);const keyBackward=isHorizontal?constants.R.LEFT:constants.R.UP;if([keyBackward,isHorizontal?constants.R.RIGHT:constants.R.DOWN].includes(key)){let newIndex=prevIndex_0+(keyBackward===key?-1:1);-1===newIndex&&(newIndex=focusableChildren_1.length-1);const newSelectedElement=focusableChildren_1[newIndex%focusableChildren_1.length];return newSelectedElement?.focus(),void setFocusedId(newSelectedElement.id||null)}const keyOut=isHorizontal?constants.R.UP:isRTL?constants.R.RIGHT:constants.R.LEFT;if(isSubMenu&&keyOut===key&&parentMenuRef?.current){const parentButton=parentMenuRef.current.querySelector('button[aria-expanded="true"]');parentButton?.focus(),onCloseSubMenu()}}),[ref,isSubMenu,getPrevIndex,isHorizontal,isRTL,parentMenuRef,onDismiss,setFocusedId,onCloseSubMenu]);(0,src.vJ)((()=>{if(isOpen&&ref.current){const focusableChildren_2=getFocusableChildren(ref.current);focusableChildren_2.length&&focusableChildren_2[0]instanceof HTMLElement&&(focusableChildren_2[0].focus(),setFocusedId(focusableChildren_2[0].id))}}),[isOpen,ref,setFocusedId]);const keySpec=(0,src.Kr)((()=>disableControlledTabNavigation?{key:[]}:{key:["tab"],shift:!0}),[disableControlledTabNavigation]);return(0,keyboard._h)(ref,{key:dismissOnEscape?["esc","down","up","left","right"]:["down","up","left","right"]},handleKeyboardNav,[handleKeyboardNav,dismissOnEscape]),(0,keyboard._h)(ref,keySpec,onDismiss,[keySpec,onDismiss]),react.createElement(MenuWrapper,menu_extends({ref:composedListRef,"data-testid":"context-menu-list",role:"menu",isIconMenu,isHorizontal,isSecondary,tabIndex:ref.current?.contains(document.activeElement)?-1:0,onFocus:handleFocus},props),children)})),menu=Menu;Menu.__docgenInfo={description:"",methods:[],displayName:"Menu",props:{onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: SyntheticEvent) => void",signature:{arguments:[{type:{name:"SyntheticEvent"},name:"e"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}},disableControlledTabNavigation:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:""},onCloseSubMenu:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}},isIconMenu:{required:!1,tsType:{name:"boolean"},description:""},isSubMenu:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isSecondary:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isRTL:{required:!1,tsType:{name:"boolean"},description:""},parentMenuRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLElement"}],raw:"RefObject<HTMLElement>"},description:""},dismissOnEscape:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};var theme_constants=__webpack_require__("./packages/design-system/src/theme/constants/index.ts");let Direction=function(Direction){return Direction.Top="top",Direction.Right="right",Direction.Bottom="bottom",Direction.Left="left",Direction}({});const CORNER_DIRECTIONS={[`${Direction.Top}_${Direction.Left}`]:`${Direction.Top}_${Direction.Left}`,[`${Direction.Top}_${Direction.Right}`]:`${Direction.Top}_${Direction.Right}`,[`${Direction.Bottom}_${Direction.Right}`]:`${Direction.Bottom}_${Direction.Right}`,[`${Direction.Bottom}_${Direction.Left}`]:`${Direction.Bottom}_${Direction.Left}`};function animationContainer_extends(){return animationContainer_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},animationContainer_extends.apply(null,arguments)}const PERCENTAGE_OFFSET={[Direction.Top]:100,[Direction.Right]:0,[Direction.Bottom]:-100,[Direction.Left]:-50},transition=`transform 0.175s ${theme_constants.U.default}`,fullSize=(0,styled_components_browser_esm.AH)(["top:0;right:0;bottom:0;left:0;"]),animationContainer_MenuWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"animationContainer__MenuWrapper",componentId:"sc-mgrs2o-0"})(["position:absolute;"]),MenuRevealer=styled_components_browser_esm.Ay.div.withConfig({displayName:"animationContainer__MenuRevealer",componentId:"sc-mgrs2o-1"})(["overflow:",";border-radius:",";",""],(({animationFinished})=>animationFinished?"normal":"hidden"),(({theme})=>theme.borders.radius.small),fullSize),MenuCounterRevealer=styled_components_browser_esm.Ay.div.withConfig({displayName:"animationContainer__MenuCounterRevealer",componentId:"sc-mgrs2o-2"})(["border-radius:",";"],(({theme})=>theme.borders.radius.small)),ButtonInner=(0,styled_components_browser_esm.Ay)(Popover).withConfig({displayName:"animationContainer__ButtonInner",componentId:"sc-mgrs2o-3"})([""," ",";transform:",";","{","}","{transition:",";","}","{transition:",";","}","{transition:",";transform:",";transform-origin:",";}"],fullSize,(({isInline})=>isInline&&"position: relative"),(({align})=>{switch(align){case CORNER_DIRECTIONS.top_left:return`translate(${PERCENTAGE_OFFSET[Direction.Left]}%, ${PERCENTAGE_OFFSET[Direction.Top]}%)`;case CORNER_DIRECTIONS.top_right:return`translate(${PERCENTAGE_OFFSET[Direction.Right]}%, ${PERCENTAGE_OFFSET[Direction.Top]}%)`;case CORNER_DIRECTIONS.bottom_right:return`translate(${PERCENTAGE_OFFSET[Direction.Right]}%, ${PERCENTAGE_OFFSET[Direction.Bottom]}%)`;default:return`translate(${PERCENTAGE_OFFSET[Direction.Left]}%, ${PERCENTAGE_OFFSET[Direction.Bottom]}%)`}}),animationContainer_MenuWrapper,(props=>{switch(props.align){case CORNER_DIRECTIONS.top_right:return(0,styled_components_browser_esm.AH)(["top:0;right:0;"]);case CORNER_DIRECTIONS.top_left:return(0,styled_components_browser_esm.AH)(["top:0;left:0;"]);case CORNER_DIRECTIONS.bottom_right:return(0,styled_components_browser_esm.AH)(["right:0;bottom:0;"]);default:return(0,styled_components_browser_esm.AH)(["left:0;bottom:0;"])}}),MenuRevealer,(props=>props.isReady?transition:"none"),(props=>{switch(props.align){case CORNER_DIRECTIONS.top_right:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(50%, -50%)");case CORNER_DIRECTIONS.top_left:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(-50%, -50%)");case CORNER_DIRECTIONS.bottom_right:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(50%, 50%)");default:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(-50%, 50%)")}}),MenuCounterRevealer,(props=>props.isReady?transition:"none"),(props=>{switch(props.align){case CORNER_DIRECTIONS.top_right:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(-50%, 50%)");case CORNER_DIRECTIONS.top_left:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(50%, 50%)");case CORNER_DIRECTIONS.bottom_right:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(-50%, -50%)");default:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(50%, -50%)")}}),Shadow,(props=>props.isReady?transition:"none"),(props=>props.isReady?"none":"scale(0.5)"),(props=>{switch(props.align){case CORNER_DIRECTIONS.top_right:return"right top";case CORNER_DIRECTIONS.top_left:return"left top";case CORNER_DIRECTIONS.bottom_right:return"right bottom";default:return"left bottom"}}));function AnimationContainer(t0){const $=(0,dist.c)(37);let children,isOpen,props;$[0]!==t0?(({children,isOpen,...props}=t0),$[0]=t0,$[1]=children,$[2]=isOpen,$[3]=props):(children=$[1],isOpen=$[2],props=$[3]);const[align,setAlign]=(0,src.J0)(null),[isReady,setIsReady]=(0,src.J0)(!1),[animationFinished,setAnimationFinished]=(0,src.J0)(!0),menuPositionRef=(0,src.li)(null),menuTogglePositionRef=(0,src.li)(null);let t1,t2,t3,t4,t5,t6;$[4]!==isOpen||$[5]!==menuPositionRef||$[6]!==menuTogglePositionRef||$[7]!==setAlign?(t1=()=>{if(!isOpen)return void setAlign(null);if(!menuTogglePositionRef.current||!menuPositionRef.current)return;const toggleBoundingBox=menuTogglePositionRef.current.getBoundingClientRect(),menuWrapperBoundingBox=menuPositionRef.current.getBoundingClientRect(),menuLeft=toggleBoundingBox.left+toggleBoundingBox.width*(PERCENTAGE_OFFSET[Direction.Left]/100),menuBottom=toggleBoundingBox.bottom+toggleBoundingBox.height*(PERCENTAGE_OFFSET[Direction.Bottom]/100),alignHorizontal=menuLeft+menuWrapperBoundingBox.width>window.innerWidth?Direction.Right:Direction.Left,alignVertical=0>menuBottom-menuWrapperBoundingBox.height?Direction.Top:Direction.Bottom;setAlign(CORNER_DIRECTIONS[`${alignVertical}_${alignHorizontal}`])},$[4]=isOpen,$[5]=menuPositionRef,$[6]=menuTogglePositionRef,$[7]=setAlign,$[8]=t1):t1=$[8],$[9]!==isOpen?(t2=[isOpen],$[9]=isOpen,$[10]=t2):t2=$[10],(0,src.Nf)(t1,t2),$[11]!==isOpen||$[12]!==setAnimationFinished?(t3=()=>{if(!isOpen)return;setAnimationFinished(!1);const timeoutId=setTimeout((()=>setAnimationFinished(!0)),175);return()=>clearTimeout(timeoutId)},$[11]=isOpen,$[12]=setAnimationFinished,$[13]=t3):t3=$[13],$[14]!==isOpen?(t4=[isOpen],$[14]=isOpen,$[15]=t4):t4=$[15],(0,src.vJ)(t3,t4),$[16]!==align||$[17]!==setIsReady?(t5=()=>{const frameId=requestAnimationFrame((()=>setIsReady(Boolean(align))));return()=>cancelAnimationFrame(frameId)},$[16]=align,$[17]=setIsReady,$[18]=t5):t5=$[18],$[19]!==align?(t6=[align],$[19]=align,$[20]=t6):t6=$[20],(0,src.vJ)(t5,t6);const t7=isOpen&&animationFinished;let t8,t9,t10,t11,t12;return $[21]!==children||$[22]!==menuPositionRef?(t8=react.createElement(MenuCounterRevealer,{ref:menuPositionRef},children),$[21]=children,$[22]=menuPositionRef,$[23]=t8):t8=$[23],$[24]!==t7||$[25]!==t8?(t9=react.createElement(MenuRevealer,{animationFinished:t7},t8),$[24]=t7,$[25]=t8,$[26]=t9):t9=$[26],$[27]===Symbol.for("react.memo_cache_sentinel")?(t10=react.createElement(Shadow,null),$[27]=t10):t10=$[27],$[28]!==t9?(t11=react.createElement(animationContainer_MenuWrapper,null,t9,t10),$[28]=t9,$[29]=t11):t11=$[29],$[30]!==align||$[31]!==isOpen||$[32]!==isReady||$[33]!==menuTogglePositionRef||$[34]!==props||$[35]!==t11?(t12=react.createElement(ButtonInner,animationContainer_extends({align,isOpen,isReady,ref:menuTogglePositionRef},props),t11),$[30]=align,$[31]=isOpen,$[32]=isReady,$[33]=menuTogglePositionRef,$[34]=props,$[35]=t11,$[36]=t12):t12=$[36],t12}const animationContainer=AnimationContainer;AnimationContainer.__docgenInfo={description:"",methods:[],displayName:"AnimationContainer",props:{isOpen:{required:!1,tsType:{name:"boolean"},description:""}},composes:["ComponentPropsWithoutRef"]};var context=__webpack_require__("./packages/design-system/src/components/contextMenu/contextMenuProvider/context.ts");function ContextMenuProvider(t0){const $=(0,dist.c)(21),{children,isIconMenu:t1,isHorizontal:t2,onDismiss}=t0,isIconMenu=void 0!==t1&&t1,isHorizontal=void 0!==t2&&t2,[focusedId,setFocusedId]=(0,src.J0)(null);let t3,t4;$[0]!==setFocusedId?(t3=id=>setFocusedId(id),$[0]=setFocusedId,$[1]=t3):t3=$[1],$[2]===Symbol.for("react.memo_cache_sentinel")?(t4=[],$[2]=t4):t4=$[2];const handleFocus=(0,src.hb)(t3,t4);let t5,t6;$[3]!==setFocusedId?(t5=()=>setFocusedId(null),$[3]=setFocusedId,$[4]=t5):t5=$[4],$[5]===Symbol.for("react.memo_cache_sentinel")?(t6=[],$[5]=t6):t6=$[5];const handleBlur=(0,src.hb)(t5,t6);let t7,t8,t9;$[6]!==focusedId||$[7]!==isHorizontal||$[8]!==isIconMenu?(t7={focusedId,isIconMenu,isHorizontal},$[6]=focusedId,$[7]=isHorizontal,$[8]=isIconMenu,$[9]=t7):t7=$[9],$[10]!==handleBlur||$[11]!==handleFocus||$[12]!==onDismiss||$[13]!==setFocusedId?(t8={onDismiss,onMenuItemBlur:handleBlur,onMenuItemFocus:handleFocus,setFocusedId},$[10]=handleBlur,$[11]=handleFocus,$[12]=onDismiss,$[13]=setFocusedId,$[14]=t8):t8=$[14],$[15]!==t7||$[16]!==t8?(t9={state:t7,actions:t8},$[15]=t7,$[16]=t8,$[17]=t9):t9=$[17];const value=t9;let t10;return $[18]!==children||$[19]!==value?(t10=react.createElement(context.A.Provider,{value},children),$[18]=children,$[19]=value,$[20]=t10):t10=$[20],t10}function contextMenu_extends(){return contextMenu_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},contextMenu_extends.apply(null,arguments)}ContextMenuProvider.__docgenInfo={description:"",methods:[],displayName:"ContextMenuProvider",props:{isIconMenu:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isHorizontal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onDismiss:{required:!0,tsType:{name:"signature",type:"function",raw:"(evt?: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"evt"}],return:{name:"void"}}},description:""}}};const ContextMenu=(0,src.Rf)(((t0,ref)=>{const $=(0,dist.c)(39);let animate,children,isAlwaysVisible,popoverZIndex,props,t1,t2,t3,t4,t5,t6;if($[0]!==t0){const{animate:t6,"aria-label":t7,children:t8,id,isAlwaysVisible:t9,isIconMenu:t10,isHorizontal:t11,isInline:t12,onDismiss:t13,popoverZIndex:t14,...t15}=t0;animate=t6,t1=t7,children=t8,isAlwaysVisible=t9,t2=t10,t3=t11,t4=t12,t5=t13,popoverZIndex=t14,props=t15,$[0]=t0,$[1]=animate,$[2]=children,$[3]=isAlwaysVisible,$[4]=popoverZIndex,$[5]=props,$[6]=t1,$[7]=t2,$[8]=t3,$[9]=t4,$[10]=t5}else animate=$[1],children=$[2],isAlwaysVisible=$[3],popoverZIndex=$[4],props=$[5],t1=$[6],t2=$[7],t3=$[8],t4=$[9],t5=$[10];$[11]!==t1?(t6=void 0===t1?(0,i18n.__)("Menu","web-stories"):t1,$[11]=t1,$[12]=t6):t6=$[12];const ariaLabel=t6,isIconMenu=void 0!==t2&&t2,isHorizontal=void 0!==t3&&t3,isInline=void 0!==t4&&t4,onDismiss=void 0===t5?noop.l:t5,{isRTL}=props;let t7,t8;$[13]!==animate?(t7=()=>animate?animationContainer:SmartPopover,t8=[animate],$[13]=animate,$[14]=t7,$[15]=t8):(t7=$[14],t8=$[15]);const Wrapper=(0,src.Kr)(t7,t8),t9=isAlwaysVisible?null:"dialog",t10=isAlwaysVisible||props.isOpen;let t11,t12,t13,t14;return $[16]!==ariaLabel||$[17]!==children||$[18]!==props||$[19]!==ref?(t11=react.createElement(menu,contextMenu_extends({"aria-label":ariaLabel,ref,"aria-expanded":props.isOpen},props),children),$[16]=ariaLabel,$[17]=children,$[18]=props,$[19]=ref,$[20]=t11):t11=$[20],$[21]!==animate||$[22]!==isHorizontal?(t12=!animate&&react.createElement(Shadow,{$isHorizontal:isHorizontal}),$[21]=animate,$[22]=isHorizontal,$[23]=t12):t12=$[23],$[24]!==Wrapper||$[25]!==ariaLabel||$[26]!==isInline||$[27]!==isRTL||$[28]!==popoverZIndex||$[29]!==t10||$[30]!==t11||$[31]!==t12||$[32]!==t9?(t13=react.createElement(Wrapper,{"aria-label":ariaLabel,isInline,role:t9,isOpen:t10,isRTL,popoverZIndex},t11,t12),$[24]=Wrapper,$[25]=ariaLabel,$[26]=isInline,$[27]=isRTL,$[28]=popoverZIndex,$[29]=t10,$[30]=t11,$[31]=t12,$[32]=t9,$[33]=t13):t13=$[33],$[34]!==isHorizontal||$[35]!==isIconMenu||$[36]!==onDismiss||$[37]!==t13?(t14=react.createElement(ContextMenuProvider,{isIconMenu,isHorizontal,onDismiss},t13),$[34]=isHorizontal,$[35]=isIconMenu,$[36]=onDismiss,$[37]=t13,$[38]=t14):t14=$[38],t14})),contextMenu=ContextMenu;ContextMenu.__docgenInfo={description:"",methods:[],displayName:"ContextMenu",props:{onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: SyntheticEvent) => void",signature:{arguments:[{type:{name:"SyntheticEvent"},name:"e"}],return:{name:"void"}}},description:""},disableControlledTabNavigation:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:""},onCloseSubMenu:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isIconMenu:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isSubMenu:{required:!1,tsType:{name:"boolean"},description:""},isSecondary:{required:!1,tsType:{name:"boolean"},description:""},isRTL:{required:!1,tsType:{name:"boolean"},description:""},parentMenuRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLElement"}],raw:"RefObject<HTMLElement>"},description:""},dismissOnEscape:{required:!1,tsType:{name:"boolean"},description:""},animate:{required:!1,tsType:{name:"boolean"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"__('Menu', 'web-stories')",computed:!0}},id:{required:!1,tsType:{name:"string"},description:""},onDismiss:{required:!1,tsType:{name:"signature",type:"function",raw:"(evt?: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"evt"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}},isAlwaysVisible:{required:!1,tsType:{name:"boolean"},description:""},isInline:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isHorizontal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},popoverZIndex:{required:!1,tsType:{name:"number"},description:""}}}},"./packages/design-system/src/components/contextMenu/contextMenuProvider/context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./packages/react/src/index.ts").q6)({state:{focusedId:null,isIconMenu:!1,isHorizontal:!1},actions:{onDismiss:()=>{},onMenuItemBlur:()=>{},onMenuItemFocus:()=>{},setFocusedId:()=>{}}})},"./packages/design-system/src/components/contextMenu/contextMenuProvider/useContextMenu.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/components/contextMenu/contextMenuProvider/context.ts");const __WEBPACK_DEFAULT_EXPORT__=function useContextMenu(t0){const selector=void 0===t0?_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.D_:t0;return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.i7)(_context__WEBPACK_IMPORTED_MODULE_1__.A,selector)}}}]);