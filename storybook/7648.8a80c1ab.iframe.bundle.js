"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[7648],{"./packages/design-system/src/components/contextMenu/components/button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),uuid__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_contextMenuProvider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/contextMenu/contextMenuProvider/useContextMenu.ts"),_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/contextMenu/components/styles.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const StyledButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay)(_button__WEBPACK_IMPORTED_MODULE_3__.$).withConfig({displayName:"button__StyledButton",componentId:"sc-1mvlmgw-0"})(["",";width:auto;"," :disabled{background-color:transparent;span{color:",";}}:hover:not(:disabled){background-color:",";}:active:not(:disabled){background-color:",";}"],_styles__WEBPACK_IMPORTED_MODULE_4__.L,(({isHorizontal,isIconMenu,forcePadding,theme})=>({height:isHorizontal?"32px":void 0,padding:!forcePadding&&(isHorizontal||isIconMenu)?0:void 0,borderRadius:isHorizontal||isIconMenu?theme.borders.radius.small:0})),(({theme})=>theme.colors.fg.disable),(({theme})=>theme.colors.interactiveBg.secondaryHover),(({theme})=>theme.colors.interactiveBg.secondaryPress)),__WEBPACK_DEFAULT_EXPORT__=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Rf)((function Button({id,onBlur,onClick,onFocus,forcePadding=!1,dismissOnClick=!0,...props},ref){const{focusedId,isIconMenu,isHorizontal,onDismiss,onMenuItemBlur,onMenuItemFocus}=(0,_contextMenuProvider__WEBPACK_IMPORTED_MODULE_5__.A)((({state,actions})=>({focusedId:state.focusedId,isIconMenu:state.isIconMenu,isHorizontal:state.isHorizontal,onDismiss:actions.onDismiss,onMenuItemBlur:actions.onMenuItemBlur,onMenuItemFocus:actions.onMenuItemFocus}))),autoGeneratedId=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Kr)(uuid__WEBPACK_IMPORTED_MODULE_6__.A,[]),elementId=id||autoGeneratedId;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledButton,_extends({ref,id:elementId,tabIndex:focusedId===elementId?0:-1,role:"menuitem",isIconMenu,isHorizontal,forcePadding,onBlur:evt=>{onMenuItemBlur(),onBlur?.(evt)},onClick:evt=>{onClick(evt),dismissOnClick&&onDismiss(evt.nativeEvent)},onFocus:evt=>{onMenuItemFocus(elementId),onFocus?.(evt)}},props))}))},"./packages/design-system/src/components/contextMenu/components/separator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_contextMenuProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/contextMenu/contextMenuProvider/useContextMenu.ts");const Line=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"separator__Line",componentId:"sc-1sjb4ry-0"})(["display:block;flex-shrink:0;",""],(({isHorizontal,isIconMenu,theme})=>isHorizontal?`\n        width: 1px;\n        height: 89%; /* 32px out of 36px */\n        margin: auto 2px; /* there's an extra 6px horizontal flexbox gap */\n        background-color: ${theme.colors.divider.secondary};\n      `:`\n        height: 1px;\n        margin: 2px auto; /* there's an extra 6px vertical flexbox gap */\n        width: ${isIconMenu?40:100}%;\n        background-color: ${theme.colors.divider.primary};\n      `));const __WEBPACK_DEFAULT_EXPORT__=function Separator(){const props=(0,_contextMenuProvider__WEBPACK_IMPORTED_MODULE_2__.A)((({state:{isIconMenu,isHorizontal}})=>({isIconMenu,isHorizontal})));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Line,props)}},"./packages/design-system/src/components/contextMenu/components/styles.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>menuItemStyles});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_button_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/button/constants.ts");const menuItemStyles=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.AH)(["",";display:flex;justify-content:space-between;align-items:center;padding:2px 16px;border:0;color:",";font-weight:500;text-align:left;transition:background-color ",";"],(({theme})=>_theme__WEBPACK_IMPORTED_MODULE_1__.s({preset:theme.typography.presets.paragraph[_theme__WEBPACK_IMPORTED_MODULE_2__.$.XSmall],theme})),(({theme})=>theme.colors.fg.primary),_button_constants__WEBPACK_IMPORTED_MODULE_3__.QB)},"./packages/design-system/src/components/contextMenu/contextMenu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>contextMenu});var react=__webpack_require__("./node_modules/react/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),noop=__webpack_require__("./packages/design-system/src/utils/noop.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Popover=styled_components_browser_esm.Ay.div.withConfig({displayName:"styled__Popover",componentId:"sc-16ikxuv-0"})(["--translate-x:calc(var(--delta-x,0) * 1px);--translate-y:calc(var(--delta-y,0) * 1px);display:",";position:",";z-index:",";transform:translate(var(--translate-x),var(--translate-y));"],(({isOpen})=>isOpen?"block":"none"),(({isInline})=>isInline?"relative":"absolute"),(({popoverZIndex=9991})=>popoverZIndex)),Shadow=styled_components_browser_esm.Ay.div.withConfig({displayName:"styled__Shadow",componentId:"sc-16ikxuv-1"})(["position:absolute;top:0;right:0;bottom:0;left:0;border-radius:",";box-shadow:0px 4px 4px rgba(0,0,0,0.25);pointer-events:none;"],(({theme,$isHorizontal})=>$isHorizontal?theme.borders.radius.medium:theme.borders.radius.small));function SmartPopover({isRTL,...props}){const setRef=(0,src.hb)((node=>{if(!node)return;const boundingBox=node.getBoundingClientRect(),max_x=window.innerWidth-boundingBox.width,max_y=window.innerHeight-boundingBox.height,horizontalEdgeCondition=isRTL?boundingBox.x<0:max_x<boundingBox.x,horizontalEdgeTransform=isRTL?boundingBox.width:-boundingBox.width,delta={x:horizontalEdgeCondition?horizontalEdgeTransform:0,y:Math.min(0,max_y-boundingBox.y)};node.style.setProperty("--delta-x",String(delta.x)),node.style.setProperty("--delta-y",String(delta.y))}),[isRTL]);return props.isOpen?react.createElement(Popover,_extends({ref:setRef},props)):null}__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.some.js");var constants=__webpack_require__("./packages/design-system/src/utils/constants.ts");const utils_useMouseDownOutsideRef=function useMouseDownOutsideRef(onMouseDownOutside=noop.l){const targetRef=(0,src.li)(null),handleDocumentClickCaptureRef=(0,src.li)(noop.l),onMouseDownOutsideRef=(0,src.li)(onMouseDownOutside);return onMouseDownOutsideRef.current=onMouseDownOutside,(0,src.hb)((node=>{targetRef.current&&document.removeEventListener("mousedown",handleDocumentClickCaptureRef.current,!0),node&&(handleDocumentClickCaptureRef.current=evt=>{node===evt.target||evt.target instanceof Node&&node.contains(evt.target)||onMouseDownOutsideRef.current?.(evt)},document.addEventListener("mousedown",handleDocumentClickCaptureRef.current,!0)),targetRef.current=node}),[])};var useForwardedRef=__webpack_require__("./packages/design-system/src/utils/useForwardedRef.ts"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),useContextMenu=__webpack_require__("./packages/design-system/src/components/contextMenu/contextMenuProvider/useContextMenu.ts"),contextMenu_constants=__webpack_require__("./packages/design-system/src/components/contextMenu/constants.ts");function menu_extends(){return menu_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},menu_extends.apply(null,arguments)}const MenuWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"menu__MenuWrapper",componentId:"sc-13mg48i-0"})((({theme})=>(0,styled_components_browser_esm.AH)(["background-color:",";border-radius:",";border:1px solid ",";gap:6px;display:flex;"," *:last-child{margin-bottom:0;}"],(({isSecondary})=>isSecondary?theme.colors.bg.secondary:theme.colors.bg.primary),(({isHorizontal})=>isHorizontal?theme.borders.radius.medium:theme.borders.radius.small),theme.colors.border.disable,(({isHorizontal,isIconMenu})=>isHorizontal?(0,styled_components_browser_esm.AH)(["height:52px;padding:7px 10px;align-items:center;"]):(0,styled_components_browser_esm.AH)(["flex-direction:column;width:",";padding:",";max-width:","px;",";"],isIconMenu?"40px":"auto",isIconMenu?"4px 3px":"8px 0",300,!isIconMenu&&(0,styled_components_browser_esm.AH)(["min-width:","px;"],contextMenu_constants.o))))));function getFocusableChildren(parent,isSubMenu){const allButtons=Array.from(parent.querySelectorAll(constants.E.join(", "))).filter((e=>e instanceof HTMLElement));return isSubMenu?allButtons:allButtons.filter((elem=>!elem.matches(`[role="menu"], [role="menu"] [role="menu"] *, .${contextMenu_constants.D}`)))}const menu=(0,src.Rf)((({children,disableControlledTabNavigation,isOpen,onFocus=noop.l,isSubMenu=!1,isSecondary=!1,parentMenuRef,onCloseSubMenu=noop.l,dismissOnEscape=!0,...props},forwardedRef)=>{const{isRTL}=props,{focusedId,isIconMenu,isHorizontal,onDismiss,setFocusedId}=(0,useContextMenu.A)((({state,actions})=>({focusedId:state.focusedId,isIconMenu:state.isIconMenu,isHorizontal:state.isHorizontal,onDismiss:actions.onDismiss,setFocusedId:actions.setFocusedId}))),mouseDownOutsideRef=utils_useMouseDownOutsideRef((()=>isOpen&&!isSubMenu&&onDismiss())),ref=(0,useForwardedRef.A)(forwardedRef),composedListRef=(0,src.jn)(mouseDownOutsideRef,ref),handleFocus=(0,src.hb)((evt=>{if(onFocus(evt),!ref.current)return;const menuChildren=[...ref.current.children],isFocusOutsideMenu=menuChildren.length&&![...menuChildren].some((child=>child.contains(evt.target)));if(ref.current===evt.target&&isFocusOutsideMenu){const focusableChildren=getFocusableChildren(ref.current);document.dispatchEvent(new KeyboardEvent("keydown",{key:"tab"})),focusableChildren.length>0&&focusableChildren[0]instanceof HTMLElement&&focusableChildren[0].focus()}}),[onFocus,ref]),getPrevIndex=(0,src.hb)((focusableChildren=>{let prevIndex=focusableChildren.findIndex((element=>element.id===focusedId));return-1===prevIndex&&(prevIndex=focusableChildren.findIndex((element=>element.id===document.activeElement?.id))),prevIndex}),[focusedId]),handleKeyboardNav=(0,src.hb)((evt=>{const{key}=evt;if("Escape"===key)return void onDismiss(evt);if(!ref.current)return;const focusableChildren=getFocusableChildren(ref.current,isSubMenu);let prevIndex=getPrevIndex(focusableChildren);-1===prevIndex&&focusableChildren.length&&(setFocusedId(focusableChildren[0].id),prevIndex=0);const keyBackward=isHorizontal?constants.R.LEFT:constants.R.UP;if([keyBackward,isHorizontal?constants.R.RIGHT:constants.R.DOWN].includes(key)){let newIndex=prevIndex+(keyBackward===key?-1:1);-1===newIndex&&(newIndex=focusableChildren.length-1);const newSelectedElement=focusableChildren[newIndex%focusableChildren.length];return newSelectedElement?.focus(),void setFocusedId(newSelectedElement.id||null)}const keyOut=isHorizontal?constants.R.UP:isRTL?constants.R.RIGHT:constants.R.LEFT;if(isSubMenu&&keyOut===key&&parentMenuRef.current){const parentButton=parentMenuRef.current.querySelector('button[aria-expanded="true"]');parentButton?.focus(),onCloseSubMenu()}}),[ref,isSubMenu,getPrevIndex,isHorizontal,isRTL,parentMenuRef,onDismiss,setFocusedId,onCloseSubMenu]);(0,src.vJ)((()=>{if(isOpen&&ref.current){const focusableChildren=getFocusableChildren(ref.current);focusableChildren.length&&focusableChildren[0]instanceof HTMLElement&&(focusableChildren[0].focus(),setFocusedId(focusableChildren[0].id))}}),[isOpen,ref,setFocusedId]);const keySpec=(0,src.Kr)((()=>disableControlledTabNavigation?{key:[]}:{key:["tab"],shift:!0}),[disableControlledTabNavigation]);return(0,keyboard._h)(ref,{key:dismissOnEscape?["esc","down","up","left","right"]:["down","up","left","right"]},handleKeyboardNav,[handleKeyboardNav,dismissOnEscape]),(0,keyboard._h)(ref,keySpec,onDismiss,[keySpec,onDismiss]),react.createElement(MenuWrapper,menu_extends({ref:composedListRef,"data-testid":"context-menu-list",role:"menu",isIconMenu,isHorizontal,isSecondary,tabIndex:ref.current?.contains(document.activeElement)?-1:0,onFocus:handleFocus},props),children)}));var theme_constants=__webpack_require__("./packages/design-system/src/theme/constants/index.ts");let Direction=function(Direction){return Direction.Top="top",Direction.Right="right",Direction.Bottom="bottom",Direction.Left="left",Direction}({});const CORNER_DIRECTIONS={[`${Direction.Top}_${Direction.Left}`]:`${Direction.Top}_${Direction.Left}`,[`${Direction.Top}_${Direction.Right}`]:`${Direction.Top}_${Direction.Right}`,[`${Direction.Bottom}_${Direction.Right}`]:`${Direction.Bottom}_${Direction.Right}`,[`${Direction.Bottom}_${Direction.Left}`]:`${Direction.Bottom}_${Direction.Left}`};function animationContainer_extends(){return animationContainer_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},animationContainer_extends.apply(null,arguments)}const PERCENTAGE_OFFSET={[Direction.Top]:100,[Direction.Right]:0,[Direction.Bottom]:-100,[Direction.Left]:-50},transition=`transform 0.175s ${theme_constants.U.default}`,fullSize=(0,styled_components_browser_esm.AH)(["top:0;right:0;bottom:0;left:0;"]),animationContainer_MenuWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"animationContainer__MenuWrapper",componentId:"sc-mgrs2o-0"})(["position:absolute;"]),MenuRevealer=styled_components_browser_esm.Ay.div.withConfig({displayName:"animationContainer__MenuRevealer",componentId:"sc-mgrs2o-1"})(["overflow:",";border-radius:",";",""],(({animationFinished})=>animationFinished?"normal":"hidden"),(({theme})=>theme.borders.radius.small),fullSize),MenuCounterRevealer=styled_components_browser_esm.Ay.div.withConfig({displayName:"animationContainer__MenuCounterRevealer",componentId:"sc-mgrs2o-2"})(["border-radius:",";"],(({theme})=>theme.borders.radius.small)),ButtonInner=(0,styled_components_browser_esm.Ay)(Popover).withConfig({displayName:"animationContainer__ButtonInner",componentId:"sc-mgrs2o-3"})([""," ",";transform:",";","{","}","{transition:",";","}","{transition:",";","}","{transition:",";transform:",";transform-origin:",";}"],fullSize,(({isInline})=>isInline&&"position: relative"),(({align})=>{switch(align){case CORNER_DIRECTIONS.top_left:return`translate(${PERCENTAGE_OFFSET[Direction.Left]}%, ${PERCENTAGE_OFFSET[Direction.Top]}%)`;case CORNER_DIRECTIONS.top_right:return`translate(${PERCENTAGE_OFFSET[Direction.Right]}%, ${PERCENTAGE_OFFSET[Direction.Top]}%)`;case CORNER_DIRECTIONS.bottom_right:return`translate(${PERCENTAGE_OFFSET[Direction.Right]}%, ${PERCENTAGE_OFFSET[Direction.Bottom]}%)`;default:return`translate(${PERCENTAGE_OFFSET[Direction.Left]}%, ${PERCENTAGE_OFFSET[Direction.Bottom]}%)`}}),animationContainer_MenuWrapper,(props=>{switch(props.align){case CORNER_DIRECTIONS.top_right:return(0,styled_components_browser_esm.AH)(["top:0;right:0;"]);case CORNER_DIRECTIONS.top_left:return(0,styled_components_browser_esm.AH)(["top:0;left:0;"]);case CORNER_DIRECTIONS.bottom_right:return(0,styled_components_browser_esm.AH)(["right:0;bottom:0;"]);default:return(0,styled_components_browser_esm.AH)(["left:0;bottom:0;"])}}),MenuRevealer,(props=>props.isReady?transition:"none"),(props=>{switch(props.align){case CORNER_DIRECTIONS.top_right:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(50%, -50%)");case CORNER_DIRECTIONS.top_left:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(-50%, -50%)");case CORNER_DIRECTIONS.bottom_right:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(50%, 50%)");default:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(-50%, 50%)")}}),MenuCounterRevealer,(props=>props.isReady?transition:"none"),(props=>{switch(props.align){case CORNER_DIRECTIONS.top_right:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(-50%, 50%)");case CORNER_DIRECTIONS.top_left:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(50%, 50%)");case CORNER_DIRECTIONS.bottom_right:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(-50%, -50%)");default:return(0,styled_components_browser_esm.AH)(["transform:",";"],props.isReady?"none":"translate(50%, -50%)")}}),Shadow,(props=>props.isReady?transition:"none"),(props=>props.isReady?"none":"scale(0.5)"),(props=>{switch(props.align){case CORNER_DIRECTIONS.top_right:return"right top";case CORNER_DIRECTIONS.top_left:return"left top";case CORNER_DIRECTIONS.bottom_right:return"right bottom";default:return"left bottom"}}));const animationContainer=function AnimationContainer({children,isOpen,...props}){const[align,setAlign]=(0,src.J0)(null),[isReady,setIsReady]=(0,src.J0)(!1),[animationFinished,setAnimationFinished]=(0,src.J0)(!0),menuPositionRef=(0,src.li)(null),menuTogglePositionRef=(0,src.li)(null);return(0,src.Nf)((()=>{if(!isOpen)return void setAlign(null);if(!menuTogglePositionRef.current||!menuPositionRef.current)return;const toggleBoundingBox=menuTogglePositionRef.current.getBoundingClientRect(),menuWrapperBoundingBox=menuPositionRef.current.getBoundingClientRect(),menuLeft=toggleBoundingBox.left+toggleBoundingBox.width*(PERCENTAGE_OFFSET[Direction.Left]/100),menuBottom=toggleBoundingBox.bottom+toggleBoundingBox.height*(PERCENTAGE_OFFSET[Direction.Bottom]/100),alignHorizontal=menuLeft+menuWrapperBoundingBox.width>window.innerWidth?Direction.Right:Direction.Left,alignVertical=0>menuBottom-menuWrapperBoundingBox.height?Direction.Top:Direction.Bottom;setAlign(CORNER_DIRECTIONS[`${alignVertical}_${alignHorizontal}`])}),[isOpen]),(0,src.vJ)((()=>{if(!isOpen)return;setAnimationFinished(!1);const timeoutId=setTimeout((()=>setAnimationFinished(!0)),175);return()=>clearTimeout(timeoutId)}),[isOpen]),(0,src.vJ)((()=>{const frameId=requestAnimationFrame((()=>setIsReady(Boolean(align))));return()=>cancelAnimationFrame(frameId)}),[align]),react.createElement(ButtonInner,animationContainer_extends({align,isOpen,isReady,ref:menuTogglePositionRef},props),react.createElement(animationContainer_MenuWrapper,null,react.createElement(MenuRevealer,{animationFinished:isOpen&&animationFinished},react.createElement(MenuCounterRevealer,{ref:menuPositionRef},children)),react.createElement(Shadow,null)))};var context=__webpack_require__("./packages/design-system/src/components/contextMenu/contextMenuProvider/context.ts");function ContextMenuProvider({children,isIconMenu=!1,isHorizontal=!1,onDismiss}){const[focusedId,setFocusedId]=(0,src.J0)(null),handleFocus=(0,src.hb)((id=>setFocusedId(id)),[]),value={state:{focusedId,isIconMenu,isHorizontal},actions:{onDismiss,onMenuItemBlur:(0,src.hb)((()=>setFocusedId(null)),[]),onMenuItemFocus:handleFocus,setFocusedId}};return react.createElement(context.A.Provider,{value},children)}function contextMenu_extends(){return contextMenu_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},contextMenu_extends.apply(null,arguments)}const contextMenu=(0,src.Rf)((({animate,"aria-label":ariaLabel=(0,i18n.__)("Menu","web-stories"),children,id,isAlwaysVisible,isIconMenu=!1,isHorizontal=!1,isInline=!1,onDismiss=noop.l,popoverZIndex,...props},ref)=>{const{isRTL}=props,Wrapper=(0,src.Kr)((()=>animate?animationContainer:SmartPopover),[animate]);return react.createElement(ContextMenuProvider,{isIconMenu,isHorizontal,onDismiss},react.createElement(Wrapper,{"aria-label":ariaLabel,isInline,role:isAlwaysVisible?null:"dialog",isOpen:isAlwaysVisible||props.isOpen,isRTL,popoverZIndex},react.createElement(menu,contextMenu_extends({"aria-label":ariaLabel,ref,"aria-expanded":props.isOpen},props),children),!animate&&react.createElement(Shadow,{$isHorizontal:isHorizontal})))}))},"./packages/design-system/src/components/contextMenu/contextMenuProvider/context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./packages/react/src/index.ts").q6)({state:{focusedId:null,isIconMenu:!1,isHorizontal:!1},actions:{onDismiss:()=>{},onMenuItemBlur:()=>{},onMenuItemFocus:()=>{},setFocusedId:()=>{}}})},"./packages/design-system/src/components/contextMenu/contextMenuProvider/useContextMenu.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/components/contextMenu/contextMenuProvider/context.ts");const __WEBPACK_DEFAULT_EXPORT__=function useContextMenu(selector=_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.D_){return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.i7)(_context__WEBPACK_IMPORTED_MODULE_1__.A,selector)}}}]);