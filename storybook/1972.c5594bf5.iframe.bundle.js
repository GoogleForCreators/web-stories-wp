"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[1972],{"./packages/design-system/src/images/desert_color.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,_circle,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const SvgDesertColor=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 274 118","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#F4F2EF",d:"M59.68 117.706 8.551 106.934C2.505 105.66-.951 99.261 1.3 93.506l1.18-3.019a10 10 0 0 1 7.987-6.268l78.795-10.544a10 10 0 0 0 2.524-.683l82.061-34.244a10 10 0 0 1 8.263.255l56.296 27.675q.654.323 1.349.545l26.84 8.637c9.132 2.939 9.287 15.804.228 18.962l-26.529 9.248c-.819.285-1.671.463-2.536.529L62.497 117.892a10 10 0 0 1-2.818-.186"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#FBBC04",fillRule:"evenodd",d:"M224 26a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v31h4V44a2 2 0 0 1 2-2h1a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-7v17h-10V49h-7a2 2 0 0 1-2-2V31a2 2 0 0 1 2-2h1a2 2 0 0 1 2 2v13h4zM120.857 53.179a2.143 2.143 0 0 1 4.286 0v14.25h1.714V62.07a1.072 1.072 0 0 1 2.143 0V68.5a1.2 1.2 0 0 1-.048.319 1.07 1.07 0 0 1-1.023.753h-2.786v5.892h-4.286v-7.892h-2.786A1.073 1.073 0 0 1 117 66.5v-6.429a1.072 1.072 0 0 1 2.143 0v5.358h1.714zM64.786 8a8 8 0 0 1 8-8h.428a8 8 0 0 1 8 8v34.643h6.572V22a4 4 0 0 1 4-4H92a4 4 0 0 1 4 4v24.857a4 4 0 0 1-4 4H81.214v42.786H64.786V78.857H54a3.99 3.99 0 0 1-2.828-1.171A4 4 0 0 1 50 74.857V50a4 4 0 0 1 4-4h.214a4 4 0 0 1 4 4v20.643h6.572z",clipRule:"evenodd"})),_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:213,cy:72,r:13,fill:"#4285F4"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgDesertColor)},"./packages/dashboard/src/app/api/useApi.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>useApi});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/dashboard/src/app/api/context.js");function useApi(selector=_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.D_){return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.i7)(_context__WEBPACK_IMPORTED_MODULE_1__.A,selector)}},"./packages/dashboard/src/app/views/filters/reducer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.find.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js");var _constants_stories__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/dashboard/src/constants/stories.ts"),_constants_templates__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/dashboard/src/constants/templates.ts"),_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/dashboard/src/app/views/filters/types.js");const __WEBPACK_DEFAULT_EXPORT__=(state,{type,payload={}})=>{switch(type){case _types__WEBPACK_IMPORTED_MODULE_6__.bS:{const ALLOW_SAME_FILTERID=["search","status"],{key,value}=payload,_filter=state.filters.find((filter=>filter.key===key));if(!_filter)return state;if(value.filterId&&_filter?.filterId===value.filterId){if(ALLOW_SAME_FILTERID.includes(key))return state;value.filterId=null}const idx=state.filters.indexOf(_filter),filters=[...state.filters];filters[idx]={..._filter,...value};const filtersObject={};for(const filter of filters)filter.filterId&&(filtersObject[filter.key]=filter.filterId);return{...state,filters,filtersObject}}case _types__WEBPACK_IMPORTED_MODULE_6__.HX:{const{type:sortType,values}=payload,sortObject={},ACCEPTABLE_KEYS="story"===sortType?_constants_stories__WEBPACK_IMPORTED_MODULE_4__.U1:_constants_templates__WEBPACK_IMPORTED_MODULE_5__.pm;for(const key in values)key in ACCEPTABLE_KEYS&&Object.values(ACCEPTABLE_KEYS[key]).includes(values[key])&&state.sortObject[key]!==values[key]&&(sortObject[key]=values[key]);return 0===Object.entries(sortObject).length?state:{...state,sortObject:{...state.sortObject,...sortObject}}}case _types__WEBPACK_IMPORTED_MODULE_6__.ak:{const{value}=payload,currentFilters=state.filters.map((filter=>filter.key)),newFilters=value.filter((filter=>!currentFilters.includes(filter.key)));return newFilters.length?{...state,filters:[...newFilters,...state.filters]}:state}default:return state}}},"./packages/dashboard/src/app/views/filters/types.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{HX:()=>UPDATE_SORT,ak:()=>REGISTER_FILTERS,bS:()=>UPDATE_FILTER});const UPDATE_FILTER="UPDATE_FILTER",UPDATE_SORT="UPDATE_SORT",REGISTER_FILTERS="REGISTER_FILTERS"},"./packages/dashboard/src/app/views/myStories/filters/StoryFiltersProvider/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>StoryFiltersProvider,C:()=>filterContext});__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js");var src=__webpack_require__("./packages/react/src/index.ts"),reducer=__webpack_require__("./packages/dashboard/src/app/views/filters/reducer.js"),types=__webpack_require__("./packages/dashboard/src/app/views/filters/types.js"),useApi=(__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js"),__webpack_require__("./packages/dashboard/src/app/api/useApi.js"));const cachedPrimaryOptions={};const taxonomy_useTaxonomyFilters=function useTaxonomyFilters(){const{getTaxonomies,getTaxonomyTerms}=(0,useApi.A)((({actions:{taxonomyApi:{getTaxonomies,getTaxonomyTerms}}})=>({getTaxonomies,getTaxonomyTerms}))),queryTaxonomyTerms=(0,src.hb)((async(taxonomy,search)=>{const{restBase,restPath}=taxonomy;return(await getTaxonomyTerms(restPath,{search,per_page:-1})).map((t=>({...t,restBase,restPath})))}),[getTaxonomyTerms]),getPrimaryOptions=(0,src.hb)((async taxonomy=>{const{restBase}=taxonomy;return cachedPrimaryOptions[restBase]||(cachedPrimaryOptions[restBase]=await queryTaxonomyTerms(taxonomy)),cachedPrimaryOptions[restBase]}),[queryTaxonomyTerms]);return(0,src.hb)((async()=>(await getTaxonomies({hierarchical:!0,show_ui:!0})).map((taxonomy=>({key:taxonomy.restBase,restPath:taxonomy.restPath,placeholder:taxonomy.labels.allItems,ariaLabel:taxonomy.labels.filterByItem,noMatchesFoundLabel:taxonomy.labels.notFound,searchPlaceholder:taxonomy.labels.searchItems,query:search=>queryTaxonomyTerms(taxonomy,search),getPrimaryOptions:()=>getPrimaryOptions(taxonomy)})))),[queryTaxonomyTerms,getPrimaryOptions,getTaxonomies])};var i18n=__webpack_require__("./packages/i18n/src/i18n.ts");let useAuthorFilter_cachedPrimaryOptions=null;const author_useAuthorFilter=function useAuthorFilter(){const{getAuthors}=(0,useApi.A)((({actions:{usersApi:{getAuthors}}})=>({getAuthors}))),queryAuthors=(0,src.hb)((async search=>(await getAuthors(search)).map((({id,name})=>({id,name})))),[getAuthors]),getPrimaryOptions=(0,src.hb)((async()=>(useAuthorFilter_cachedPrimaryOptions||(useAuthorFilter_cachedPrimaryOptions=await queryAuthors()),useAuthorFilter_cachedPrimaryOptions)),[queryAuthors]);return(0,src.hb)((()=>({key:"author",ariaLabel:(0,i18n.__)("Filter stories by author","web-stories"),placeholder:(0,i18n.__)("All Authors","web-stories"),searchPlaceholder:(0,i18n.__)("Search Authors","web-stories"),noMatchesFoundLabel:(0,i18n.__)("No authors found","web-stories"),query:queryAuthors,getPrimaryOptions})),[queryAuthors,getPrimaryOptions])};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const filterContext=(0,src.q6)({state:{},actions:{}});function StoryFiltersProvider({children}){const initializeTaxonomyFilters=taxonomy_useTaxonomyFilters(),initializeAuthorFilter=author_useAuthorFilter(),[state,dispatch]=(0,src.WO)(reducer.A,{filters:[],filtersObject:{},sortObject:{}}),updateSort=(0,src.hb)((values=>{dispatch({type:types.HX,payload:{type:"story",values}})}),[]),updateFilter=(0,src.hb)(((key,value)=>{dispatch({type:types.bS,payload:{key,value}})}),[]),registerFilters=(0,src.hb)((value=>{dispatch({type:types.ak,payload:{value}})}),[]),initializeStoryFilters=(0,src.hb)((async()=>{const filters=[...await initializeTaxonomyFilters(),initializeAuthorFilter()].filter((filter=>Boolean(filter)));filters.length&&registerFilters(filters)}),[registerFilters,initializeAuthorFilter,initializeTaxonomyFilters]),contextValue=(0,src.Kr)((()=>({state,actions:{updateFilter,updateSort,registerFilters}})),[state,updateFilter,updateSort,registerFilters]);return(0,src.vJ)((()=>{initializeStoryFilters()}),[initializeStoryFilters]),(0,jsx_runtime.jsx)(filterContext.Provider,{value:contextValue,children})}StoryFiltersProvider.displayName="StoryFiltersProvider"},"./packages/dashboard/src/app/views/myStories/filters/useStoryFilters.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>useStoryFilters});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_StoryFiltersProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/dashboard/src/app/views/myStories/filters/StoryFiltersProvider/index.js");function useStoryFilters(selector=_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.D_){return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.i7)(_StoryFiltersProvider__WEBPACK_IMPORTED_MODULE_1__.C,selector)}},"./packages/dashboard/src/app/views/shared/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{WJ:()=>BodyViewOptions,Gh:()=>emptyContentMessage,Av:()=>pageHeading});__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js");var styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),translateWithMarkup=__webpack_require__("./packages/i18n/src/translateWithMarkup.tsx"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),datalist=__webpack_require__("./packages/design-system/src/components/datalist/datalist.tsx"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),components=__webpack_require__("./packages/dashboard/src/components/index.js"),useStoryFilters=__webpack_require__("./packages/dashboard/src/app/views/myStories/filters/useStoryFilters.js"),dropdown=__webpack_require__("./packages/design-system/src/components/dropDown/dropdown.tsx"),src=__webpack_require__("./packages/react/src/index.ts"),constants=__webpack_require__("./packages/dashboard/src/constants/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const StyledDropDown=(0,styled_components_browser_esm.Ay)(dropdown.A).withConfig({displayName:"sortDropDown__StyledDropDown",componentId:"sc-lqi6ue-0"})(["width:210px;"]);function SortDropDown({pageSortOptions,pageSortDefaultOption,currentSort,handleSortChange}){const _handleSortChange=(0,src.hb)(((_,orderby)=>{handleSortChange({orderby})}),[handleSortChange]);return(0,jsx_runtime.jsx)(StyledDropDown,{ariaLabel:(0,i18n.__)("Choose sort option for display","web-stories"),options:pageSortOptions,type:constants.cA.DropDown,selectedValue:currentSort?.orderby||pageSortDefaultOption,onMenuItemClick:_handleSortChange})}SortDropDown.displayName="SortDropDown";const sortDropDown=SortDropDown,FILTER_MAX_WIDTH=350,DisplayFormatContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"bodyViewOptions__DisplayFormatContainer",componentId:"sc-x2ax3p-0"})(["display:grid;gap:1rem;min-height:76px;grid-template-columns:1fr auto auto;justify-content:start;align-items:center;margin-top:-10px;"]),StorySortDropdownContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"bodyViewOptions__StorySortDropdownContainer",componentId:"sc-x2ax3p-1"})(["margin:auto 8px;align-self:flex-end;"]),ControlsContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"bodyViewOptions__ControlsContainer",componentId:"sc-x2ax3p-2"})(["display:flex;flex-wrap:wrap;margin:1rem 0;row-gap:1rem;justify-self:end;"]),BodyViewOptionsHeader=styled_components_browser_esm.Ay.div.withConfig({displayName:"bodyViewOptions__BodyViewOptionsHeader",componentId:"sc-x2ax3p-3"})([""]),StyledDatalist=(0,styled_components_browser_esm.Ay)(datalist.A).withConfig({displayName:"bodyViewOptions__StyledDatalist",componentId:"sc-x2ax3p-4"})(["max-width:","px;"],FILTER_MAX_WIDTH);function BodyViewOptions({handleLayoutSelect,resultsLabel,layoutStyle,pageSortOptions=[],pageSortDefaultOption,showGridToggle,showSortDropdown,filters=[],currentSort,handleSortChange}){const{updateFilter}=(0,useStoryFilters.A)((({actions:{updateFilter}})=>({updateFilter})));return(0,jsx_runtime.jsxs)(components.Zo,{children:[(0,jsx_runtime.jsx)(BodyViewOptionsHeader,{id:"body-view-options-header"}),(0,jsx_runtime.jsxs)(DisplayFormatContainer,{children:[(0,jsx_runtime.jsx)(typography_text.E.Span,{size:types.$.Small,children:(0,jsx_runtime.jsx)(translateWithMarkup.A,{children:resultsLabel})}),(0,jsx_runtime.jsxs)(ControlsContainer,{children:[filters?.length?filters.map((filter=>(0,jsx_runtime.jsx)(StorySortDropdownContainer,{title:filter.placeholder,children:(0,jsx_runtime.jsx)(StyledDatalist,{hasSearch:!0,hasDropDownBorder:!0,searchResultsLabel:(0,i18n.__)("Search results","web-stories"),"aria-label":filter.ariaLabel,onChange:({id})=>{updateFilter(filter.key,{filterId:id})},getOptionsByQuery:filter.query,getPrimaryOptions:filter.getPrimaryOptions,selectedId:filter.filterId,placeholder:filter.placeholder,noMatchesFoundLabel:filter.noMatchesFoundLabel,searchPlaceholder:filter.searchPlaceholder,offsetOverride:!0,maxWidth:FILTER_MAX_WIDTH,containerStyleOverrides:(0,styled_components_browser_esm.AH)(["flex-direction:column;"])})},filter.key))):null,showSortDropdown&&(0,jsx_runtime.jsx)(StorySortDropdownContainer,{children:(0,jsx_runtime.jsx)(sortDropDown,{pageSortOptions,pageSortDefaultOption,currentSort,handleSortChange})})]}),showGridToggle&&(0,jsx_runtime.jsx)(components.kQ,{layoutStyle,onPress:handleLayoutSelect})]})]})}BodyViewOptions.displayName="BodyViewOptions";var desert_color=__webpack_require__("./packages/design-system/src/images/desert_color.svg");const Message=styled_components_browser_esm.Ay.div.withConfig({displayName:"emptyContentMessage__Message",componentId:"sc-1wgc64w-0"})(["display:flex;flex-direction:column;align-items:center;max-width:400px;margin:20vh auto;& > *{text-align:center;margin:0 auto;}button,a{margin-top:48px;}"]),EmptyImage=(0,styled_components_browser_esm.Ay)(desert_color.A).withConfig({displayName:"emptyContentMessage__EmptyImage",componentId:"sc-1wgc64w-1"})(["margin-bottom:48px;"]);function EmptyContentMessage({children}){return(0,jsx_runtime.jsxs)(Message,{children:[(0,jsx_runtime.jsx)(EmptyImage,{"aria-hidden":!0,width:274,height:118}),children]})}EmptyContentMessage.displayName="EmptyContentMessage";const emptyContentMessage=EmptyContentMessage;var display=__webpack_require__("./packages/design-system/src/components/typography/display/index.ts"),noop=__webpack_require__("./packages/design-system/src/utils/noop.ts"),search=__webpack_require__("./packages/design-system/src/components/search/search.tsx");const HeadingContainer=(0,styled_components_browser_esm.Ay)(components.Zo).withConfig({displayName:"pageHeading__HeadingContainer",componentId:"sc-1ln7suo-0"})(["display:flex;align-items:center;flex-wrap:wrap;justify-content:space-between;margin-bottom:16px;padding-top:48px;border-bottom:1px solid ",";"],(({theme})=>theme.colors.divider.secondary)),StyledHeadline=(0,styled_components_browser_esm.Ay)(display.n).withConfig({displayName:"pageHeading__StyledHeadline",componentId:"sc-1ln7suo-1"})(["display:flex;align-items:center;margin-right:28px;padding-bottom:24px;white-space:nowrap;"]),HeadlineFilters=styled_components_browser_esm.Ay.div.withConfig({displayName:"pageHeading__HeadlineFilters",componentId:"sc-1ln7suo-2"})(["display:flex;align-items:center;margin:auto 0 auto 0;padding-bottom:24px;"]),HeaderSearch=styled_components_browser_esm.Ay.div.withConfig({displayName:"pageHeading__HeaderSearch",componentId:"sc-1ln7suo-3"})(["width:208px;max-width:208px;min-width:208px;margin:auto 0;padding-bottom:24px;"]),PageHeading=({children,heading,searchPlaceholder,searchOptions=[],showSearch,handleSearchChange,searchValue,onClear=noop.l})=>(0,jsx_runtime.jsxs)(HeadingContainer,{children:[(0,jsx_runtime.jsxs)(StyledHeadline,{as:"h2",size:types.$.Small,children:[(0,jsx_runtime.jsx)(components.fT,{showOnlyOnSmallViewport:!0}),heading]}),children&&(0,jsx_runtime.jsx)(HeadlineFilters,{children}),showSearch&&(0,jsx_runtime.jsx)(HeaderSearch,{children:(0,jsx_runtime.jsx)(search.A,{placeholder:searchPlaceholder,searchValue,options:searchOptions,handleSearchValueChange:handleSearchChange,onClear,emptyText:(0,i18n.__)("No options available","web-stories")})})]});PageHeading.displayName="PageHeading";const pageHeading=PageHeading},"./packages/dashboard/src/utils/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{eY:()=>keyboardOnlyOutline.A,lQ:()=>noop,Te:()=>utils_titleFormatted,qM:()=>useDashboardResultsLabel,yO:()=>usePagePreviewSize.A,uO:()=>useStoryView.Ay,D:()=>useTemplateView.Ay});var i18n=__webpack_require__("./packages/i18n/src/i18n.ts");const utils_titleFormatted=rawTitle=>""===rawTitle?(0,i18n.__)("Untitled","web-stories"):rawTitle;var keyboardOnlyOutline=__webpack_require__("./packages/dashboard/src/utils/keyboardOnlyOutline.js"),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),src=__webpack_require__("./packages/react/src/index.ts"),constants=__webpack_require__("./packages/dashboard/src/constants/index.ts");function useDashboardResultsLabel({isActiveSearch,currentFilter,totalResults,view}){return(0,src.Kr)((()=>{const numResults=totalResults??0,defaultLabel=constants.eH[view]?.[currentFilter]||"",interpretedDefaultLabel="function"==typeof defaultLabel?defaultLabel(numResults):defaultLabel;return isActiveSearch?(0,sprintf.A)((0,i18n._n)("%s result","%s results",numResults,"web-stories"),(0,sprintf.A)("<strong>%s</strong>",numResults)):interpretedDefaultLabel}),[isActiveSearch,totalResults,view,currentFilter])}var usePagePreviewSize=__webpack_require__("./packages/dashboard/src/utils/usePagePreviewSize.js"),useStoryView=__webpack_require__("./packages/dashboard/src/utils/useStoryView.js"),useTemplateView=__webpack_require__("./packages/dashboard/src/utils/useTemplateView.js");const noop=()=>{}},"./packages/dashboard/src/utils/usePagePreviewSize.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>usePagePreviewSize});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_units__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/units/src/constants.ts"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/dashboard/src/constants/index.ts"),_app_config_useConfig__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/dashboard/src/app/config/useConfig.ts");const getPosterHeight=width=>Math.round(width/_googleforcreators_units__WEBPACK_IMPORTED_MODULE_3__.iZ),getCurrentBp=availableContainerSpace=>availableContainerSpace<=_constants__WEBPACK_IMPORTED_MODULE_1__.FN?_constants__WEBPACK_IMPORTED_MODULE_1__.FR.TABLET:_constants__WEBPACK_IMPORTED_MODULE_1__.FR.DESKTOP,sizeFromWidth=(width,{bp,respectSetWidth,availableContainerSpace})=>{if(respectSetWidth){return{width,height:getPosterHeight(width)}}bp===_constants__WEBPACK_IMPORTED_MODULE_1__.FR.DESKTOP&&(availableContainerSpace-=_constants__WEBPACK_IMPORTED_MODULE_1__.WA);const itemsInRow=Math.floor(availableContainerSpace/width),trueWidth=width+(availableContainerSpace-(width*itemsInRow+_constants__WEBPACK_IMPORTED_MODULE_1__.LW.COLUMN_GAP*(itemsInRow-1)+2*_constants__WEBPACK_IMPORTED_MODULE_1__.Wn.GUTTER))/itemsInRow;return{width:trueWidth,height:getPosterHeight(trueWidth)}},getContainerWidth=windowWidth=>window.innerWidth<_constants__WEBPACK_IMPORTED_MODULE_1__.FN?_constants__WEBPACK_IMPORTED_MODULE_1__.FN:windowWidth;function usePagePreviewSize(options={}){const{thumbnailMode=!1,isGrid}=options,{containerId}=(0,_app_config_useConfig__WEBPACK_IMPORTED_MODULE_2__.A)(),dashboardContainerRef=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.li)(document.getElementById(containerId)),[viewportWidth,setViewportWidth]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.J0)(window.innerWidth),[bp,setBp]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.J0)(getCurrentBp(viewportWidth)),[availableContainerSpace,setAvailableContainerSpace]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.J0)(getContainerWidth(dashboardContainerRef.current?.offsetWidth||window.innerWidth)),debounceSetViewportWidth=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.YQ)((width=>{setViewportWidth(width)}),500);return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.vJ)((()=>{setBp(getCurrentBp(viewportWidth))}),[viewportWidth]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.pO)(dashboardContainerRef,(({width})=>{setAvailableContainerSpace(getContainerWidth(width)),window.innerWidth!==viewportWidth&&debounceSetViewportWidth(window.innerWidth)}),[setAvailableContainerSpace,viewportWidth,debounceSetViewportWidth]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.Kr)((()=>({pageSize:sizeFromWidth(_constants__WEBPACK_IMPORTED_MODULE_1__.y$[thumbnailMode?_constants__WEBPACK_IMPORTED_MODULE_1__.FR.THUMBNAIL:bp],{respectSetWidth:!isGrid||thumbnailMode,availableContainerSpace,bp})})),[bp,isGrid,thumbnailMode,availableContainerSpace])}},"./packages/dashboard/src/utils/useStoryView.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>useStoryView});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_googleforcreators_tracking__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/tracking/src/index.ts"),_googleforcreators_units__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/units/src/range.ts"),_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/dashboard/src/constants/index.ts"),_propTypes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/dashboard/src/propTypes.js"),_usePagePreviewSize__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/dashboard/src/utils/usePagePreviewSize.js");function useStoryView({filtersObject=_constants__WEBPACK_IMPORTED_MODULE_2__.q9.filters,sortObject=_constants__WEBPACK_IMPORTED_MODULE_2__.q9.sort,isLoading=!1,totalPages}){const[viewStyle,setViewStyle]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.J0)(_constants__WEBPACK_IMPORTED_MODULE_2__._D.GRID),[sort,_setSort]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.J0)(sortObject),[filters,_setFilters]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.J0)(filtersObject),[page,setPage]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.J0)(1),showStoriesWhileLoading=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.li)(!1),[initialPageReady,setInitialPageReady]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.J0)(!1),{pageSize}=(0,_usePagePreviewSize__WEBPACK_IMPORTED_MODULE_4__.A)({thumbnailMode:viewStyle===_constants__WEBPACK_IMPORTED_MODULE_2__._D.LIST,isGrid:viewStyle===_constants__WEBPACK_IMPORTED_MODULE_2__._D.GRID}),setPageClamped=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((newPage=>{const pageRange={MIN:1,MAX:totalPages};setPage((0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_5__.qE)(newPage,pageRange))}),[totalPages]),setSort=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((newSort=>{_setSort(newSort),setPageClamped(1)}),[setPageClamped]),setFilters=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((newFilters=>{_setFilters(newFilters),setPageClamped(1)}),[setPageClamped]),toggleViewStyle=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((()=>{const newViewStyle=viewStyle===_constants__WEBPACK_IMPORTED_MODULE_2__._D.LIST?_constants__WEBPACK_IMPORTED_MODULE_2__._D.GRID:_constants__WEBPACK_IMPORTED_MODULE_2__._D.LIST;setViewStyle(newViewStyle)}),[viewStyle,setViewStyle]),requestNextPage=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((()=>{showStoriesWhileLoading.current=!0,setPageClamped(page+1)}),[page,setPageClamped]);return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.vJ)((()=>{filters?.search?.length&&(0,_googleforcreators_tracking__WEBPACK_IMPORTED_MODULE_1__.sx)("search",{search_type:"dashboard_stories",search_term:filters.search,search_filter:filters.status,search_author_filter:filters.author,search_order:sort.order,search_orderby:sort.orderby,search_view:viewStyle})}),[filters,sort,viewStyle]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.vJ)((()=>{isLoading||(showStoriesWhileLoading.current=!1)}),[isLoading]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.vJ)((()=>{totalPages&&!initialPageReady&&setInitialPageReady(!0)}),[totalPages,initialPageReady]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.vJ)((()=>{initialPageReady&&setFilters(filtersObject)}),[setFilters,initialPageReady,filtersObject]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.vJ)((()=>{initialPageReady&&setSort(sortObject)}),[setSort,initialPageReady,sortObject]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.Kr)((()=>({view:{style:viewStyle,toggleStyle:toggleViewStyle,pageSize},sort:{value:sort.orderby,direction:sort.order,set:setSort},filters:{value:filters,set:setFilters},page:{value:page,set:setPage,requestNextPage},initialPageReady,showStoriesWhileLoading})),[viewStyle,toggleViewStyle,pageSize,sort,setSort,filters,setFilters,initialPageReady,page,requestNextPage])}prop_types__WEBPACK_IMPORTED_MODULE_6___default().shape({style:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOf(Object.values(_constants__WEBPACK_IMPORTED_MODULE_2__._D)),toggleStyle:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,pageSize:_propTypes__WEBPACK_IMPORTED_MODULE_3__.Gn}),prop_types__WEBPACK_IMPORTED_MODULE_6___default().shape({filterId:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,toggleFilterId:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,queriedAuthors:prop_types__WEBPACK_IMPORTED_MODULE_6___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_6___default().shape({id:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,name:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string})).isRequired,setQueriedAuthors:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func}),prop_types__WEBPACK_IMPORTED_MODULE_6___default().shape({value:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,prop_types__WEBPACK_IMPORTED_MODULE_6___default().string]),set:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func}),prop_types__WEBPACK_IMPORTED_MODULE_6___default().shape({value:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOf(Object.values(_constants__WEBPACK_IMPORTED_MODULE_2__._r)),set:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,direction:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOf(Object.values(_constants__WEBPACK_IMPORTED_MODULE_2__.Pg)),setDirection:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func}),prop_types__WEBPACK_IMPORTED_MODULE_6___default().shape({value:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,set:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,requestNextPage:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func}),prop_types__WEBPACK_IMPORTED_MODULE_6___default().shape({keyword:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,setKeyword:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func}),prop_types__WEBPACK_IMPORTED_MODULE_6___default().shape({current:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool})},"./packages/dashboard/src/utils/useTemplateView.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>useTemplateView});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_units__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/units/src/range.ts"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/dashboard/src/constants/index.ts"),_propTypes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/dashboard/src/propTypes.js"),_usePagePreviewSize__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/dashboard/src/utils/usePagePreviewSize.js");function useTemplateView({totalPages,sortObject=_constants__WEBPACK_IMPORTED_MODULE_1__.dc.sort,filtersObject=_constants__WEBPACK_IMPORTED_MODULE_1__.dc.filters}){const[sort,_setSort]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.J0)(sortObject),[filters,_setFilters]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.J0)(filtersObject),[page,setPage]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.J0)(1),{pageSize}=(0,_usePagePreviewSize__WEBPACK_IMPORTED_MODULE_3__.A)({isGrid:!0}),setPageClamped=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((newPage=>{const pageRange={MIN:1,MAX:totalPages};setPage((0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_4__.qE)(newPage,pageRange))}),[totalPages]),requestNextPage=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((()=>setPageClamped(page+1)),[page,setPageClamped]),setSort=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((newSort=>{_setSort(newSort),setPageClamped(1)}),[setPageClamped]),setFilters=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.hb)((newSort=>{_setFilters(newSort),setPageClamped(1)}),[setPageClamped]);return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.Kr)((()=>({view:{style:_constants__WEBPACK_IMPORTED_MODULE_1__._D.GRID,pageSize},sort:{value:sort.orderby,direction:sort.order,set:setSort},filters:{value:filters,set:setFilters},page:{value:page,set:setPage,requestNextPage}})),[pageSize,sort,setSort,page,requestNextPage,filters,setFilters])}prop_types__WEBPACK_IMPORTED_MODULE_5___default().shape({style:prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOf(Object.values(_constants__WEBPACK_IMPORTED_MODULE_1__._D)),pageSize:_propTypes__WEBPACK_IMPORTED_MODULE_2__.Gn}),prop_types__WEBPACK_IMPORTED_MODULE_5___default().shape({value:prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default().number,prop_types__WEBPACK_IMPORTED_MODULE_5___default().string]),set:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func}),prop_types__WEBPACK_IMPORTED_MODULE_5___default().shape({value:prop_types__WEBPACK_IMPORTED_MODULE_5___default().number,set:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,requestNextPage:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func}),prop_types__WEBPACK_IMPORTED_MODULE_5___default().shape({keyword:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,setKeyword:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func}),prop_types__WEBPACK_IMPORTED_MODULE_5___default().shape({value:prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOf(Object.values(_constants__WEBPACK_IMPORTED_MODULE_1__.D4)),set:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func})},"./packages/design-system/src/components/typography/display/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>Display});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_styles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/components/typography/styles.ts");const Display=styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay.h1.withConfig({displayName:"display__Display",componentId:"sc-1x3xqpc-0"})([""," ",""],_styles__WEBPACK_IMPORTED_MODULE_1__.u,(({size=_theme__WEBPACK_IMPORTED_MODULE_2__.$.Medium,theme})=>_theme__WEBPACK_IMPORTED_MODULE_3__.s({preset:theme.typography.presets.display[size],theme})))},"./packages/units/src/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{VX:()=>DEFAULT_DPR,WY:()=>PAGE_HEIGHT,_b:()=>FULLBLEED_HEIGHT,bj:()=>PAGE_WIDTH,d_:()=>DEFAULT_EM,iZ:()=>PAGE_RATIO,vT:()=>DANGER_ZONE_HEIGHT,yK:()=>FULLBLEED_RATIO});const PAGE_RATIO=2/3,PAGE_WIDTH=412,PAGE_HEIGHT=618,FULLBLEED_RATIO=9/16,FULLBLEED_HEIGHT=PAGE_WIDTH/FULLBLEED_RATIO,DANGER_ZONE_HEIGHT=(FULLBLEED_HEIGHT-PAGE_HEIGHT)/2,DEFAULT_EM=.02186*PAGE_HEIGHT,DEFAULT_DPR=.5},"./packages/units/src/range.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cc:()=>lerp,qB:()=>progress,qE:()=>clamp});const lerp=(progress,range)=>(1-progress)*range.MIN+progress*range.MAX,progress=(v,range)=>{const delta=clamp(v,range)-range.MIN,difference=range.MAX-range.MIN;return Math.abs(delta/difference)},clamp=(value,{MIN,MAX})=>Math.min(Math.max(value,MIN),MAX)}}]);