"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[3195],{"./packages/design-system/src/components/mediaInput/mediaInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>mediaInput});var _path,_circle,react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),src=__webpack_require__("./packages/react/src/index.ts"),v4=__webpack_require__("./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),button_button=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),pencil=__webpack_require__("./packages/design-system/src/icons/pencil.svg"),menu=__webpack_require__("./packages/design-system/src/components/menu/menu.tsx"),tooltip=__webpack_require__("./packages/design-system/src/components/tooltip/tooltip.tsx"),popup=__webpack_require__("./packages/design-system/src/components/popup/popup.tsx"),popup_constants=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),useForwardedRef=__webpack_require__("./packages/design-system/src/utils/useForwardedRef.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgLandscape=({title,titleId,...props})=>react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 100 93","aria-labelledby":titleId},props),title?react.createElement("title",{id:titleId},title):null,_path||(_path=react.createElement("path",{fill:"currentColor",d:"M33 52 .5 93h99L75 60 58 82z",opacity:.2})),_circle||(_circle=react.createElement("circle",{cx:79,cy:13,r:13,fill:"currentColor",opacity:.1}))),landscape=(0,react.memo)(SvgLandscape);var types=__webpack_require__("./packages/design-system/src/components/mediaInput/types.ts");function mediaInput_extends(){return mediaInput_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mediaInput_extends.apply(null,arguments)}const MediaRectangle=styled_components_browser_esm.Ay.section.withConfig({displayName:"mediaInput__MediaRectangle",componentId:"sc-1ky1w63-0"})(["width:100%;height:100%;background-color:",";border-radius:4px;position:relative;"],(({theme})=>theme.colors.bg.primary)),MediaCircle=(0,styled_components_browser_esm.Ay)(MediaRectangle).withConfig({displayName:"mediaInput__MediaCircle",componentId:"sc-1ky1w63-1"})(["border-radius:100px;height:100%;width:100%;"]),EmptyMediaWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"mediaInput__EmptyMediaWrapper",componentId:"sc-1ky1w63-2"})([""]),ImageWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"mediaInput__ImageWrapper",componentId:"sc-1ky1w63-3"})(["border-radius:","px;overflow:hidden;height:100%;display:flex;"],(({variant})=>variant===types.Q.Circle?100:4)),DefaultImageWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"mediaInput__DefaultImageWrapper",componentId:"sc-1ky1w63-4"})(["padding:8px;"]),DefaultImage=(0,styled_components_browser_esm.Ay)(landscape).withConfig({displayName:"mediaInput__DefaultImage",componentId:"sc-1ky1w63-5"})(["width:100%;height:100%;display:block;color:",";"],(({theme})=>theme.colors.standard.white)),Img=styled_components_browser_esm.Ay.img.withConfig({displayName:"mediaInput__Img",componentId:"sc-1ky1w63-6"})(["width:100%;height:100%;object-fit:cover;"]),menuStyleOverride=(0,styled_components_browser_esm.AH)(["white-space:nowrap;margin-top:0;li{display:block;}"]),Button=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"mediaInput__Button",componentId:"sc-1ky1w63-7"})((({showImage})=>(0,styled_components_browser_esm.AH)(["background-color:",";position:relative;"," &:hover{background-color:",";}"],(({theme})=>theme.colors.interactiveBg.secondaryNormal),showImage&&(0,styled_components_browser_esm.AH)(["position:absolute;bottom:-8px;right:-8px;"]),(({theme})=>theme.colors.interactiveBg.secondaryHover)))),MediaOptions={[types.Q.Rectangle]:MediaRectangle,[types.Q.Circle]:MediaCircle,[types.Q.None]:EmptyMediaWrapper},LoadingDots=styled_components_browser_esm.Ay.div.withConfig({displayName:"mediaInput__LoadingDots",componentId:"sc-1ky1w63-8"})(["position:absolute;top:0px;left:0px;width:100%;height:100%;pointer-events:none;border-radius:50%;flex-direction:column;justify-content:center;align-items:center;display:flex;&:after{pointer-events:none;color:",";content:'.';font-weight:bold;animation:"," 1s steps(5,end) infinite;margin-left:-12px;}"],(({theme})=>theme.colors.standard.white),(({theme})=>(0,styled_components_browser_esm.i7)(["0%,20%{color:transparent;text-shadow:6px 0 0 transparent,12px 0 0 transparent;}40%{color:white;text-shadow:6px 0 0 transparent,12px 0 0 transparent;}60%{text-shadow:6px 0 0 ",",12px 0 0 transparent;}80%,100%{text-shadow:6px 0 0 ",",12px 0 0 ",";}"],theme.colors.standard.white,theme.colors.standard.white,theme.colors.standard.white))),mediaInput=(0,src.Rf)((function MediaInput(t0,forwardedRef){const $=(0,dist.c)(69);let className,isLoading,onMenuOption,openMediaPicker,rest,t1,t2,t3,t4,t5,t6,t7,value,t8;if($[0]!==t0){const{className:t8,onBlur,alt:t9,value:t10,ariaLabel:t11,variant:t12,isLoading:t13,menuOptions:t14,onMenuOption:t15,openMediaPicker:t16,canUpload:t17,menuProps:t18,imgProps:t19,...t20}=t0;className=t8,t1=t9,value=t10,t2=t11,t3=t12,isLoading=t13,t4=t14,onMenuOption=t15,openMediaPicker=t16,t5=t17,t6=t18,t7=t19,rest=t20,$[0]=t0,$[1]=className,$[2]=isLoading,$[3]=onMenuOption,$[4]=openMediaPicker,$[5]=rest,$[6]=t1,$[7]=t2,$[8]=t3,$[9]=t4,$[10]=t5,$[11]=t6,$[12]=t7,$[13]=value}else className=$[1],isLoading=$[2],onMenuOption=$[3],openMediaPicker=$[4],rest=$[5],t1=$[6],t2=$[7],t3=$[8],t4=$[9],t5=$[10],t6=$[11],t7=$[12],value=$[13];$[14]!==t1?(t8=void 0===t1?(0,i18n.__)("Preview image","web-stories"):t1,$[14]=t1,$[15]=t8):t8=$[15];const alt=t8;let t9;$[16]!==t2?(t9=void 0===t2?(0,i18n.__)("Choose an image","web-stories"):t2,$[16]=t2,$[17]=t9):t9=$[17];const ariaLabel=t9,variant=void 0===t3?types.Q.Rectangle:t3;let t10;$[18]!==t4?(t10=void 0===t4?[]:t4,$[18]=t4,$[19]=t10):t10=$[19];const menuOptions=t10,canUpload=void 0===t5||t5;let t11;$[20]!==t6?(t11=void 0===t6?{}:t6,$[20]=t6,$[21]=t11):t11=$[21];const menuProps=t11;let t12;$[22]!==t7?(t12=void 0===t7?{}:t7,$[22]=t7,$[23]=t12):t12=$[23];const imgProps=t12,hasMenu=menuOptions?.length>0,[isMenuOpen,setIsMenuOpen]=(0,src.J0)(!1);let t13;$[24]===Symbol.for("react.memo_cache_sentinel")?(t13=[],$[24]=t13):t13=$[24];const listId=(0,src.Kr)(_temp,t13);let t14;$[25]===Symbol.for("react.memo_cache_sentinel")?(t14=[],$[25]=t14):t14=$[25];const buttonId=(0,src.Kr)(_temp2,t14),ref=(0,useForwardedRef.A)(forwardedRef),StyledMedia=MediaOptions[variant];let t15;$[26]!==menuOptions?(t15=[{options:menuOptions}],$[26]=menuOptions,$[27]=t15):t15=$[27];const groups=t15;let t16,t17,t18,t19,t20,t21,t22;return $[28]!==alt||$[29]!==imgProps?.height||$[30]!==imgProps?.width||$[31]!==isLoading||$[32]!==value||$[33]!==variant?(t16=variant!==types.Q.None&&react.createElement(ImageWrapper,{variant},value?react.createElement(Img,{src:value,alt,crossOrigin:"anonymous",decoding:"async",width:imgProps?.width,height:imgProps?.height}):react.createElement(DefaultImageWrapper,null,react.createElement(DefaultImage,null)),isLoading&&react.createElement(LoadingDots,null)),$[28]=alt,$[29]=imgProps?.height,$[30]=imgProps?.width,$[31]=isLoading,$[32]=value,$[33]=variant,$[34]=t16):t16=$[34],$[35]!==ariaLabel||$[36]!==buttonId||$[37]!==canUpload||$[38]!==hasMenu||$[39]!==isMenuOpen||$[40]!==listId||$[41]!==openMediaPicker||$[42]!==ref||$[43]!==rest||$[44]!==setIsMenuOpen||$[45]!==variant?(t17=canUpload&&react.createElement(tooltip.A,{title:hasMenu?"":(0,i18n.__)("Open media picker","web-stories")},react.createElement(Button,mediaInput_extends({ref,id:buttonId,showImage:variant!==types.Q.None,variant:constants.Ak.Square,type:constants.VQ.Quaternary,size:constants.Mp.Small,"aria-label":ariaLabel,onClick:hasMenu?()=>setIsMenuOpen(!0):openMediaPicker,"aria-owns":hasMenu?listId:void 0,"aria-pressed":isMenuOpen,"aria-expanded":isMenuOpen},rest),react.createElement(pencil.A,null))),$[35]=ariaLabel,$[36]=buttonId,$[37]=canUpload,$[38]=hasMenu,$[39]=isMenuOpen,$[40]=listId,$[41]=openMediaPicker,$[42]=ref,$[43]=rest,$[44]=setIsMenuOpen,$[45]=variant,$[46]=t17):t17=$[46],$[47]!==onMenuOption||$[48]!==setIsMenuOpen?(t18=(evt,val)=>{onMenuOption(evt,val),setIsMenuOpen(!1)},$[47]=onMenuOption,$[48]=setIsMenuOpen,$[49]=t18):t18=$[49],$[50]!==setIsMenuOpen?(t19=()=>setIsMenuOpen(!1),$[50]=setIsMenuOpen,$[51]=t19):t19=$[51],$[52]!==buttonId||$[53]!==groups||$[54]!==listId||$[55]!==menuProps||$[56]!==t18||$[57]!==t19?(t20=react.createElement(menu.A,mediaInput_extends({parentId:buttonId,listId,hasMenuRole:!0,groups,handleMenuItemSelect:t18,onDismissMenu:t19,menuStylesOverride:menuStyleOverride},menuProps)),$[52]=buttonId,$[53]=groups,$[54]=listId,$[55]=menuProps,$[56]=t18,$[57]=t19,$[58]=t20):t20=$[58],$[59]!==isMenuOpen||$[60]!==ref||$[61]!==t20?(t21=react.createElement(popup.A,{placement:popup_constants.W.BottomEnd,anchor:ref,isOpen:isMenuOpen,zIndex:11},t20),$[59]=isMenuOpen,$[60]=ref,$[61]=t20,$[62]=t21):t21=$[62],$[63]!==StyledMedia||$[64]!==className||$[65]!==t16||$[66]!==t17||$[67]!==t21?(t22=react.createElement(StyledMedia,{className},t16,t17,t21),$[63]=StyledMedia,$[64]=className,$[65]=t16,$[66]=t17,$[67]=t21,$[68]=t22):t22=$[68],t22}));function _temp(){return`list-${(0,v4.A)()}`}function _temp2(){return`button-${(0,v4.A)()}`}},"./packages/design-system/src/components/mediaInput/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>MediaVariant});let MediaVariant=function(MediaVariant){return MediaVariant.Circle="circle",MediaVariant.Rectangle="rectangle",MediaVariant.None="none",MediaVariant}({})},"./packages/design-system/src/components/radio/radio.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),uuid__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js"),_theme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_theme__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_typography__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Container=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"radio__Container",componentId:"sc-8eeopu-0"})(["display:flex;align-items:center;min-height:","px;padding:8px 0;"],44),RadioInputContainer=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"radio__RadioInputContainer",componentId:"sc-8eeopu-1"})(["position:relative;height:","px;width:","px;"],24,24),LabelContainer=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"radio__LabelContainer",componentId:"sc-8eeopu-2"})(["display:flex;flex-direction:column;margin:0 12px;gap:","px;"],8),RadioBorder=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.span.withConfig({displayName:"radio__RadioBorder",componentId:"sc-8eeopu-3"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.AH)(["display:inline-block;height:","px;width:","px;border:","px solid ",";border-radius:",";pointer-events:none;transition:all 0.15s;"],24,24,1,theme.colors.border.defaultNormal,theme.borders.radius.round))),InnerButton=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.span.withConfig({displayName:"radio__InnerButton",componentId:"sc-8eeopu-4"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.AH)(["pointer-events:none;display:none;:after{content:'';position:absolute;height:","px;width:","px;top:50%;left:50%;transform:translate(-50%,-50%);background-color:",";border-radius:",";}"],16,16,theme.colors.fg.primary,theme.borders.radius.round))),HiddenInput=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.input.attrs({type:"radio"}).withConfig({displayName:"radio__HiddenInput",componentId:"sc-8eeopu-5"})(["position:absolute;height:","px;width:","px;margin:0;opacity:0;cursor:pointer;:hover ~ ","{border-color:",";}:focus{outline:none;}:focus ~ ",",&:focus-visible ~ ","{",";border-color:",";}:active ~ ","{box-shadow:0 0 0 8px ",";}:checked ~ ","{display:block;}:disabled{cursor:auto;~ ","{border-color:",";}~ ","::after{background-color:",";}}"],24,24,RadioBorder,(({theme})=>theme.colors.border.defaultHover),RadioBorder,RadioBorder,(({theme})=>_theme__WEBPACK_IMPORTED_MODULE_4__.g(theme.colors.border.focus)),(({theme})=>theme.colors.border.defaultHover),RadioBorder,(({theme})=>theme.colors.shadow.active),InnerButton,RadioBorder,(({theme})=>theme.colors.border.disable),InnerButton,(({theme})=>theme.colors.fg.disable)),Hint=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay)(_typography__WEBPACK_IMPORTED_MODULE_5__.E.Span).withConfig({displayName:"radio__Hint",componentId:"sc-8eeopu-6"})(["color:",";"],(({theme})=>theme.colors.fg.secondary)),__WEBPACK_DEFAULT_EXPORT__=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Rf)((function Radio(t0,ref){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(29);let className,hint,id,label,props,t1,t2;$[0]!==t0?(({className,hint,id,label,...props}=t0),$[0]=t0,$[1]=className,$[2]=hint,$[3]=id,$[4]=label,$[5]=props):(className=$[1],hint=$[2],id=$[3],label=$[4],props=$[5]),$[6]!==id?(t1=()=>id||(0,uuid__WEBPACK_IMPORTED_MODULE_6__.A)(),t2=[id],$[6]=id,$[7]=t1,$[8]=t2):(t1=$[7],t2=$[8]);const inputId=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t1,t2);let t3,t4,t5,t6,t7,t8,t9,t10;return $[9]!==inputId||$[10]!==props||$[11]!==ref?(t3=react__WEBPACK_IMPORTED_MODULE_0__.createElement(HiddenInput,_extends({id:inputId,ref},props)),$[9]=inputId,$[10]=props,$[11]=ref,$[12]=t3):t3=$[12],$[13]===Symbol.for("react.memo_cache_sentinel")?(t4=react__WEBPACK_IMPORTED_MODULE_0__.createElement(RadioBorder,null),t5=react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerButton,null),$[13]=t4,$[14]=t5):(t4=$[13],t5=$[14]),$[15]!==t3?(t6=react__WEBPACK_IMPORTED_MODULE_0__.createElement(RadioInputContainer,null,t3,t4,t5),$[15]=t3,$[16]=t6):t6=$[16],$[17]!==inputId||$[18]!==label?(t7=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_typography__WEBPACK_IMPORTED_MODULE_5__.E.Label,{htmlFor:inputId,size:_theme__WEBPACK_IMPORTED_MODULE_7__.$.Small},label),$[17]=inputId,$[18]=label,$[19]=t7):t7=$[19],$[20]!==hint?(t8=hint&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(Hint,null,hint),$[20]=hint,$[21]=t8):t8=$[21],$[22]!==t7||$[23]!==t8?(t9=react__WEBPACK_IMPORTED_MODULE_0__.createElement(LabelContainer,null,t7,t8),$[22]=t7,$[23]=t8,$[24]=t9):t9=$[24],$[25]!==className||$[26]!==t6||$[27]!==t9?(t10=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Container,{className},t6,t9),$[25]=className,$[26]=t6,$[27]=t9,$[28]=t10):t10=$[28],t10}))},"./packages/design-system/src/components/switch/switch.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/core-js/modules/esnext.array.group.js"),__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js")),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/react/src/index.ts"),uuid__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js"),_theme__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/theme/helpers/visuallyHidden.ts"),_theme__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_theme__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_typography__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Value=function(Value){return Value.On="ON",Value.Off="Off",Value}(Value||{});const VisuallyHiddenRadioGroupLabel=styled_components__WEBPACK_IMPORTED_MODULE_4__.Ay.p.withConfig({displayName:"switch__VisuallyHiddenRadioGroupLabel",componentId:"sc-1b94qxc-0"})(["",";"],_theme__WEBPACK_IMPORTED_MODULE_5__.Q),SlidingButton=styled_components__WEBPACK_IMPORTED_MODULE_4__.Ay.span.withConfig({displayName:"switch__SlidingButton",componentId:"sc-1b94qxc-1"})(["position:absolute;display:block;top:0;left:0;width:50%;height:","px;border-radius:100px;transition:all 0.15s ease-out;z-index:0;",""],32,(({hasOffset})=>hasOffset&&"left: 50%")),SwitchContainer=styled_components__WEBPACK_IMPORTED_MODULE_4__.Ay.div.withConfig({displayName:"switch__SwitchContainer",componentId:"sc-1b94qxc-2"})(["position:relative;height:","px;display:flex;flex-direction:row;justify-content:center;align-items:center;appearance:none;background:",";border-radius:100px;color:",";cursor:pointer;",";"],32,(({theme,darkTheme})=>darkTheme?theme.colors.divider.secondary:theme.colors.bg.tertiary),(({theme})=>theme.colors.fg.primary),(({disabled,theme,darkTheme})=>disabled?(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.AH)(["cursor:default;background:",";","{background-color:",";}"],theme.colors.divider.tertiary,SlidingButton,theme.colors.interactiveBg.disable):(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.AH)([":hover ","{background-color:",";}"],SlidingButton,darkTheme?theme.colors.interactiveBg.primaryHover:theme.colors.interactiveBg.brandNormal))),HiddenRadioButton=styled_components__WEBPACK_IMPORTED_MODULE_4__.Ay.input.attrs({type:"radio"}).withConfig({displayName:"switch__HiddenRadioButton",componentId:"sc-1b94qxc-3"})(["position:absolute;height:0;width:0;padding:0;min-width:unset;appearance:none;border:0;box-shadow:none;margin:-1px;outline:none;overflow:hidden;opacity:0;"]),RadioButtonLabel=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.Ay)(_typography__WEBPACK_IMPORTED_MODULE_6__.E.Label).attrs({size:_theme__WEBPACK_IMPORTED_MODULE_7__.$.Small}).withConfig({displayName:"switch__RadioButtonLabel",componentId:"sc-1b94qxc-4"})(["display:flex;align-items:center;justify-content:center;flex:1;height:","px;width:50%;padding:0px 6px;z-index:1;color:",";background-color:",";border-radius:100px;cursor:pointer;overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap;transition:all 0.15s ease-out;"," :focus-within ~ span{",";}"],32,(({isActive,theme,darkTheme})=>isActive?darkTheme?theme.colors.inverted.fg.primary:theme.colors.fg.primary:theme.colors.fg.secondary),(({isActive,theme,darkTheme})=>isActive&&(darkTheme?theme.colors.interactiveBg.primaryNormal:theme.colors.interactiveBg.brandNormal)),(({$disabled,theme})=>$disabled&&(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.AH)(["cursor:default;color:",";"],theme.colors.fg.disable)),_theme__WEBPACK_IMPORTED_MODULE_8__.g()),Switch=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_3__.Rf)((function Switch(t0,ref){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_2__.c)(58);let className,disabled,groupLabel,id,offLabel,onChange,onLabel,props,t1,t2;$[0]!==t0?(({className,disabled,groupLabel,id,offLabel,onChange,onLabel,value:t1,darkTheme:t2,...props}=t0),$[0]=t0,$[1]=className,$[2]=disabled,$[3]=groupLabel,$[4]=id,$[5]=offLabel,$[6]=onChange,$[7]=onLabel,$[8]=props,$[9]=t1,$[10]=t2):(className=$[1],disabled=$[2],groupLabel=$[3],id=$[4],offLabel=$[5],onChange=$[6],onLabel=$[7],props=$[8],t1=$[9],t2=$[10]);const value=void 0!==t1&&t1,darkTheme=void 0===t2||t2;let t3,t4;$[11]!==id?(t3=()=>({group:id||(0,uuid__WEBPACK_IMPORTED_MODULE_9__.A)(),offInput:(0,uuid__WEBPACK_IMPORTED_MODULE_9__.A)(),onInput:(0,uuid__WEBPACK_IMPORTED_MODULE_9__.A)()}),t4=[id],$[11]=id,$[12]=t3,$[13]=t4):(t3=$[12],t4=$[13]);const ids=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_3__.Kr)(t3,t4);let t5,t6;$[14]!==onChange?(t5=evt=>{onChange(evt,evt.target.value===Value.On)},t6=[onChange],$[14]=onChange,$[15]=t5,$[16]=t6):(t5=$[15],t6=$[16]);const handleChange=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_3__.hb)(t5,t6);let t7,t8,t9;$[17]!==groupLabel||$[18]!==ids.group?(t7=react__WEBPACK_IMPORTED_MODULE_0__.createElement(VisuallyHiddenRadioGroupLabel,{id:ids.group},groupLabel),$[17]=groupLabel,$[18]=ids.group,$[19]=t7):t7=$[19],$[20]!==disabled||$[21]!==handleChange||$[22]!==ids.onInput||$[23]!==props||$[24]!==value?(t8=react__WEBPACK_IMPORTED_MODULE_0__.createElement(HiddenRadioButton,_extends({checked:value,disabled,id:ids.onInput,onChange:handleChange,value:Value.On},props)),$[20]=disabled,$[21]=handleChange,$[22]=ids.onInput,$[23]=props,$[24]=value,$[25]=t8):t8=$[25],$[26]!==darkTheme||$[27]!==disabled||$[28]!==ids.onInput||$[29]!==onLabel||$[30]!==t8||$[31]!==value?(t9=react__WEBPACK_IMPORTED_MODULE_0__.createElement(RadioButtonLabel,{htmlFor:ids.onInput,isActive:value,disabled,darkTheme},onLabel,t8),$[26]=darkTheme,$[27]=disabled,$[28]=ids.onInput,$[29]=onLabel,$[30]=t8,$[31]=value,$[32]=t9):t9=$[32];const t10=!value,t11=!value;let t12,t13;$[33]!==disabled||$[34]!==handleChange||$[35]!==ids.offInput||$[36]!==props||$[37]!==t11?(t12=react__WEBPACK_IMPORTED_MODULE_0__.createElement(HiddenRadioButton,_extends({checked:t11,disabled,id:ids.offInput,onChange:handleChange,value:Value.Off},props)),$[33]=disabled,$[34]=handleChange,$[35]=ids.offInput,$[36]=props,$[37]=t11,$[38]=t12):t12=$[38],$[39]!==darkTheme||$[40]!==disabled||$[41]!==ids.offInput||$[42]!==offLabel||$[43]!==t10||$[44]!==t12?(t13=react__WEBPACK_IMPORTED_MODULE_0__.createElement(RadioButtonLabel,{htmlFor:ids.offInput,isActive:t10,disabled,darkTheme},offLabel,t12),$[39]=darkTheme,$[40]=disabled,$[41]=ids.offInput,$[42]=offLabel,$[43]=t10,$[44]=t12,$[45]=t13):t13=$[45];const t14=!value;let t15,t16;return $[46]!==t14?(t15=react__WEBPACK_IMPORTED_MODULE_0__.createElement(SlidingButton,{hasOffset:t14}),$[46]=t14,$[47]=t15):t15=$[47],$[48]!==className||$[49]!==darkTheme||$[50]!==disabled||$[51]!==ids.group||$[52]!==ref||$[53]!==t13||$[54]!==t15||$[55]!==t7||$[56]!==t9?(t16=react__WEBPACK_IMPORTED_MODULE_0__.createElement(SwitchContainer,{ref,className,role:"radiogroup","aria-labelledby":ids.group,"aria-disabled":disabled,disabled,darkTheme},t7,t9,t13,t15),$[48]=className,$[49]=darkTheme,$[50]=disabled,$[51]=ids.group,$[52]=ref,$[53]=t13,$[54]=t15,$[55]=t7,$[56]=t9,$[57]=t16):t16=$[57],t16}));Switch.displayName="Switch";const __WEBPACK_DEFAULT_EXPORT__=Switch},"./packages/design-system/src/components/textArea/textArea.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),uuid__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js"),_theme__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_theme__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/theme/helpers/scrollbar.ts"),_theme__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_theme_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_typography__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Container=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"textArea__Container",componentId:"sc-1wx5wxx-0"})(["position:relative;width:100%;min-width:100px;"]),CounterText=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay)(_typography__WEBPACK_IMPORTED_MODULE_4__.E.Span).attrs({size:_theme__WEBPACK_IMPORTED_MODULE_5__.$.XSmall}).withConfig({displayName:"textArea__CounterText",componentId:"sc-1wx5wxx-1"})(["color:",";"],(({theme})=>theme.colors.fg.tertiary)),Label=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay)(_typography__WEBPACK_IMPORTED_MODULE_4__.E.Label).withConfig({displayName:"textArea__Label",componentId:"sc-1wx5wxx-2"})(["margin-bottom:12px;"]),Hint=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay)(_typography__WEBPACK_IMPORTED_MODULE_4__.E.Paragraph).attrs({size:_theme__WEBPACK_IMPORTED_MODULE_5__.$.Small}).withConfig({displayName:"textArea__Hint",componentId:"sc-1wx5wxx-3"})(["margin-top:12px;color:",";"],(({hasError,theme})=>theme.colors.fg[hasError?"negative":"tertiary"])),InputContainer=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"textArea__InputContainer",componentId:"sc-1wx5wxx-4"})((({focused,hasError,theme,styleOverride})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.AH)(["box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;padding:8px 12px;border:1px solid ",";border-radius:",";overflow:hidden;",";:focus-within{",";}",";"],theme.colors.border[hasError?"negativeNormal":"defaultNormal"],theme.borders.radius.small,focused&&!hasError&&(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.AH)(["border-color:",";"],theme.colors.border.defaultActive),(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_6__.g)(theme.colors.border.focus),styleOverride))),StyledTextArea=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.textarea.withConfig({displayName:"textArea__StyledTextArea",componentId:"sc-1wx5wxx-5"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.AH)(["height:100%;width:100%;padding:0;background-color:inherit;border:none;outline:none;color:",";resize:none;box-shadow:none;",";",";:focus{box-shadow:none;}:disabled{color:",";border-color:",";}:active{color:",";}::placeholder{color:",";}"],theme.colors.fg.primary,_theme__WEBPACK_IMPORTED_MODULE_7__.W,_theme__WEBPACK_IMPORTED_MODULE_8__.s({preset:theme.typography.presets.paragraph[_theme__WEBPACK_IMPORTED_MODULE_5__.$.Small],theme}),theme.colors.fg.disable,theme.colors.border.disable,theme.colors.fg.primary,theme.colors.fg.tertiary))),Counter=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"textArea__Counter",componentId:"sc-1wx5wxx-6"})(["text-align:right;align-self:flex-end;span{color:",";}"],(({theme})=>theme.colors.fg.tertiary)),TextArea=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Rf)(((t0,ref)=>{const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(61);let className,disabled,hasError,hint,id,label,maxLength,onBlur,onFocus,props,t1,t2,t3,value;$[0]!==t0?(({className,disabled,hasError,hint,id,label,onBlur,onFocus,value,showCount:t1,maxLength,isIndeterminate:t2,containerStyleOverride:t3,...props}=t0),$[0]=t0,$[1]=className,$[2]=disabled,$[3]=hasError,$[4]=hint,$[5]=id,$[6]=label,$[7]=maxLength,$[8]=onBlur,$[9]=onFocus,$[10]=props,$[11]=t1,$[12]=t2,$[13]=t3,$[14]=value):(className=$[1],disabled=$[2],hasError=$[3],hint=$[4],id=$[5],label=$[6],maxLength=$[7],onBlur=$[8],onFocus=$[9],props=$[10],t1=$[11],t2=$[12],t3=$[13],value=$[14]);const showCount=void 0!==t1&&t1,isIndeterminate=void 0!==t2&&t2,containerStyleOverride=void 0===t3?"":t3;let t4,t5;$[15]!==id?(t4=()=>id||(0,uuid__WEBPACK_IMPORTED_MODULE_9__.A)(),t5=[id],$[15]=id,$[16]=t4,$[17]=t5):(t4=$[16],t5=$[17]);const textAreaId=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t4,t5),hasCounter=showCount&&"number"==typeof maxLength&&maxLength>0,[isFocused,setIsFocused]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.J0)(!1),[hasBeenSelected,setHasBeenSelected]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.J0)(!1);let t6,t7,t8,t9,t10,t11,t12,t13,t14,displayedValue=value;return isIndeterminate&&(displayedValue=""),$[18]!==disabled||$[19]!==label||$[20]!==textAreaId?(t6=label&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(Label,{htmlFor:textAreaId,disabled},label),$[18]=disabled,$[19]=label,$[20]=textAreaId,$[21]=t6):t6=$[21],$[22]!==hasBeenSelected||$[23]!==isFocused||$[24]!==ref||$[25]!==setHasBeenSelected?(t7=input=>{"function"==typeof ref?ref(input):ref&&(ref.current=input),input&&isFocused&&!hasBeenSelected&&(input.select(),setHasBeenSelected(!0))},$[22]=hasBeenSelected,$[23]=isFocused,$[24]=ref,$[25]=setHasBeenSelected,$[26]=t7):t7=$[26],$[27]!==onFocus||$[28]!==setHasBeenSelected||$[29]!==setIsFocused?(t8=e=>{onFocus?.(e),setIsFocused(!0),setHasBeenSelected(!1)},$[27]=onFocus,$[28]=setHasBeenSelected,$[29]=setIsFocused,$[30]=t8):t8=$[30],$[31]!==onBlur||$[32]!==setIsFocused?(t9=e_0=>{onBlur?.(e_0),setIsFocused(!1)},$[31]=onBlur,$[32]=setIsFocused,$[33]=t9):t9=$[33],$[34]!==disabled||$[35]!==displayedValue||$[36]!==maxLength||$[37]!==props||$[38]!==t7||$[39]!==t8||$[40]!==t9||$[41]!==textAreaId?(t10=react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledTextArea,_extends({id:textAreaId,disabled,ref:t7,onFocus:t8,onBlur:t9,value:displayedValue,maxLength},props)),$[34]=disabled,$[35]=displayedValue,$[36]=maxLength,$[37]=props,$[38]=t7,$[39]=t8,$[40]=t9,$[41]=textAreaId,$[42]=t10):t10=$[42],$[43]!==hasCounter||$[44]!==maxLength||$[45]!==value?(t11=hasCounter&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(Counter,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(CounterText,null,`${String(value).length}/${maxLength}`)),$[43]=hasCounter,$[44]=maxLength,$[45]=value,$[46]=t11):t11=$[46],$[47]!==containerStyleOverride||$[48]!==hasError||$[49]!==isFocused||$[50]!==t10||$[51]!==t11?(t12=react__WEBPACK_IMPORTED_MODULE_0__.createElement(InputContainer,{focused:isFocused,hasError,styleOverride:containerStyleOverride},t10,t11),$[47]=containerStyleOverride,$[48]=hasError,$[49]=isFocused,$[50]=t10,$[51]=t11,$[52]=t12):t12=$[52],$[53]!==hasError||$[54]!==hint?(t13=hint&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(Hint,{hasError},hint),$[53]=hasError,$[54]=hint,$[55]=t13):t13=$[55],$[56]!==className||$[57]!==t12||$[58]!==t13||$[59]!==t6?(t14=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Container,{className},t6,t12,t13),$[56]=className,$[57]=t12,$[58]=t13,$[59]=t6,$[60]=t14):t14=$[60],t14}));TextArea.displayName="TextArea";const __WEBPACK_DEFAULT_EXPORT__=TextArea},"./packages/story-editor/src/app/media/utils/getResourceFromUrl.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_media__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/media/src/getTypeFromMime.ts"),_googleforcreators_media__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/media/src/types/resourceType.ts"),_googleforcreators_media__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/media/src/preloadVideo.ts"),_googleforcreators_media__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/media/src/seekVideo.ts"),_googleforcreators_media__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/media/src/getVideoLength.ts"),_googleforcreators_media__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/media/src/hasVideoGotAudio.ts"),_googleforcreators_media__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/media/src/getImageDimensions.ts"),_googleforcreators_media__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/media/src/createResource.ts");const __WEBPACK_DEFAULT_EXPORT__=async function getResourceFromUrl(resourceLike){const{src,mimeType,width=0,height=0,isMuted,length,lengthFormatted,...rest}=resourceLike,type=(0,_googleforcreators_media__WEBPACK_IMPORTED_MODULE_0__.A)(mimeType);if(![_googleforcreators_media__WEBPACK_IMPORTED_MODULE_1__.v.Image,_googleforcreators_media__WEBPACK_IMPORTED_MODULE_1__.v.Video].includes(type))throw new Error("Invalid media type.");const hasDimensions=Boolean(width&&height),videoHasMissingMetadata=!hasDimensions||null===isMuted||null===length||null===lengthFormatted,additionalData={};if(type===_googleforcreators_media__WEBPACK_IMPORTED_MODULE_1__.v.Video&&videoHasMissingMetadata){const video=await(0,_googleforcreators_media__WEBPACK_IMPORTED_MODULE_2__.A)(src);await(0,_googleforcreators_media__WEBPACK_IMPORTED_MODULE_3__.A)(video),additionalData.width=video.videoWidth,additionalData.height=video.videoHeight;const videoLength=(0,_googleforcreators_media__WEBPACK_IMPORTED_MODULE_4__.A)(video);additionalData.length=videoLength.length,additionalData.lengthFormatted=videoLength.lengthFormatted,additionalData.isMuted=!(0,_googleforcreators_media__WEBPACK_IMPORTED_MODULE_5__.A)(video)}if(type===_googleforcreators_media__WEBPACK_IMPORTED_MODULE_1__.v.Image&&!hasDimensions){const dimensions=await(0,_googleforcreators_media__WEBPACK_IMPORTED_MODULE_6__.A)(src);additionalData.width=dimensions.width,additionalData.height=dimensions.height}return(0,_googleforcreators_media__WEBPACK_IMPORTED_MODULE_7__.A)({type,width,height,isMuted,length,lengthFormatted,src,isExternal:!0,mimeType,...rest,...additionalData})}},"./packages/story-editor/src/components/directionAware/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),stylis_plugin_rtl__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/stylis-plugin-rtl/dist/stylis-rtl.js"),_app__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/app/index.js");Object.defineProperty(stylis_plugin_rtl__WEBPACK_IMPORTED_MODULE_2__.Ay,"name",{value:"stylisRTLPlugin"});const withRTLPlugins=[stylis_plugin_rtl__WEBPACK_IMPORTED_MODULE_2__.Ay],withoutRTLPlugins=[];function DirectionAware(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(3),{children}=t0,{isRTL}=(0,_app__WEBPACK_IMPORTED_MODULE_3__.UK)(),t1=isRTL?withRTLPlugins:withoutRTLPlugins;let t2;return $[0]!==children||$[1]!==t1?(t2=react__WEBPACK_IMPORTED_MODULE_0__.createElement(styled_components__WEBPACK_IMPORTED_MODULE_4__.ID,{stylisPlugins:t1},children),$[0]=children,$[1]=t1,$[2]=t2):t2=$[2],t2}DirectionAware.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_5___default().node};const __WEBPACK_DEFAULT_EXPORT__=DirectionAware},"./packages/story-editor/src/components/form/context.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_utils_noop__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/story-editor/src/utils/noop.ts");const __WEBPACK_DEFAULT_EXPORT__=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.q6)({isMultiple:!1,registerPresubmitHandler:_utils_noop__WEBPACK_IMPORTED_MODULE_1__.l})},"./packages/story-editor/src/components/form/filterToggle/filterToggle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js"),__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js")),styled_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/patterns/src/generatePatternStyles.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/patterns/src/types.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_panels_shared_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/components/panels/shared/styles.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const fillCss=(0,styled_components__WEBPACK_IMPORTED_MODULE_5__.AH)(["width:100%;height:100%;position:absolute;top:0;left:0;border-radius:",";"],(({theme})=>theme.borders.radius.small)),Overlay=styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay.div.withConfig({displayName:"filterToggle__Overlay",componentId:"sc-1xtaed1-0"})(["",";"],fillCss),Filter=styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay.div.withConfig({displayName:"filterToggle__Filter",componentId:"sc-1xtaed1-1"})(["",";",";"],fillCss,(({filter})=>(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_6__.A)(filter))),Button=styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay.button.withConfig({displayName:"filterToggle__Button",componentId:"sc-1xtaed1-2"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_5__.AH)(["border-radius:",";width:100%;height:48px;position:relative;display:flex;align-items:center;justify-content:space-around;box-sizing:border-box;padding:0;margin:0;background:transparent;border:none;cursor:pointer;",";img{width:100%;height:100%;border-radius:",";}","{",";}&:active > ","{box-shadow:0px 0px 0 2px ",",0px 0px 0 3px ",";}&:disabled{pointer-events:none;","{background-color:",";}}transition:background-color ",",color ",";"],theme.borders.radius.small,_panels_shared_styles__WEBPACK_IMPORTED_MODULE_4__.Y,theme.borders.radius.small,Overlay,(({isToggled})=>isToggled&&`\n        box-shadow:\n          0px 0px 0 2px ${theme.colors.bg.secondary},\n          0px 0px 0 3px ${theme.colors.fg.primary}`),Overlay,theme.colors.bg.secondary,theme.colors.fg.primary,Overlay,theme.colors.opacity.black64,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.QB,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.QB))),Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay.div.withConfig({displayName:"filterToggle__Wrapper",componentId:"sc-1xtaed1-3"})(["width:60px;"]),StyledText=(0,styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.E.Span).attrs({size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.$.Small}).withConfig({displayName:"filterToggle__StyledText",componentId:"sc-1xtaed1-4"})(["color:",";margin-top:8px;text-align:center;width:100%;display:block;"],(({theme})=>theme.colors.border.defaultActive));function FilterToggle(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_3__.c)(19);let children,isToggled,label,rest,t1;$[0]!==t0?(({isToggled,filter:t1,children,label,...rest}=t0),$[0]=t0,$[1]=children,$[2]=isToggled,$[3]=label,$[4]=rest,$[5]=t1):(children=$[1],isToggled=$[2],label=$[3],rest=$[4],t1=$[5]);const filter=void 0===t1?null:t1;let t2,t3,t4,t5,t6;return $[6]!==filter?(t2=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Filter,{filter}),$[6]=filter,$[7]=t2):t2=$[7],$[8]===Symbol.for("react.memo_cache_sentinel")?(t3=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Overlay,null),$[8]=t3):t3=$[8],$[9]!==children||$[10]!==isToggled||$[11]!==rest||$[12]!==t2?(t4=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Button,_extends({},rest,{isToggled,"aria-pressed":isToggled}),children,t2,t3),$[9]=children,$[10]=isToggled,$[11]=rest,$[12]=t2,$[13]=t4):t4=$[13],$[14]!==label?(t5=label&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledText,null,label),$[14]=label,$[15]=t5):t5=$[15],$[16]!==t4||$[17]!==t5?(t6=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper,null,t4,t5),$[16]=t4,$[17]=t5,$[18]=t6):t6=$[18],t6}FilterToggle.propTypes={isToggled:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool.isRequired,filter:_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_11__.Gw,children:prop_types__WEBPACK_IMPORTED_MODULE_10___default().node.isRequired,label:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string};const __WEBPACK_DEFAULT_EXPORT__=FilterToggle},"./packages/story-editor/src/components/form/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q1:()=>color.A,HG:()=>filterToggle.A,Cc:()=>hierarchical,qY:()=>linkIcon,Z3:()=>form_link,$U:()=>media,c4:()=>mediaUploadButton,fI:()=>row.A,l6:()=>select_select,dO:()=>form_switch,fs:()=>form_textArea,FY:()=>makeFlatOptionTree,jm:()=>usePresubmitHandler.A});var color=__webpack_require__("./packages/story-editor/src/components/form/color/index.js"),filterToggle=__webpack_require__("./packages/story-editor/src/components/form/filterToggle/filterToggle.js"),react=__webpack_require__("./node_modules/react/index.js"),dist=(__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.flat-map.js"),__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js")),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),src=__webpack_require__("./packages/react/src/index.ts"),src_mimeTypes=__webpack_require__("./packages/media/src/mimeTypes.ts"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),translateToExclusiveList=__webpack_require__("./packages/i18n/src/translateToExclusiveList.ts"),types=__webpack_require__("./packages/design-system/src/components/mediaInput/types.ts"),app=__webpack_require__("./packages/story-editor/src/app/index.js"),mediaInput=__webpack_require__("./packages/design-system/src/components/mediaInput/mediaInput.tsx"),outline=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),constants=__webpack_require__("./packages/story-editor/src/constants/index.ts"),hotlinkModal=__webpack_require__("./packages/story-editor/src/components/hotlinkModal/index.js"),v4=__webpack_require__("./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js"),getResourceFromUrl=__webpack_require__("./packages/story-editor/src/app/media/utils/getResourceFromUrl.ts"),useCORSProxy=__webpack_require__("./packages/story-editor/src/utils/useCORSProxy.ts");function _temp(_type){return(0,src_mimeTypes.n)(_type)}const form_useHotlink=function useHotlink(t0){const $=(0,dist.c)(26),{onChange,type,canUseProxy}=t0,[isOpen,setIsOpen]=(0,src.J0)(!1);let t1;$[0]!==setIsOpen?(t1=()=>setIsOpen(!0),$[0]=setIsOpen,$[1]=t1):t1=$[1];const openHotlink=t1;let t2;$[2]!==setIsOpen?(t2=()=>setIsOpen(!1),$[2]=setIsOpen,$[3]=t2):t2=$[3];const onCloseHotlink=t2;let t3,t4;$[4]!==type?(t3=()=>Array.isArray(type)?type.flatMap(_temp):[],t4=[type],$[4]=type,$[5]=t3,$[6]=t4):(t3=$[5],t4=$[6]);const allowedFileTypes=(0,src.Kr)(t3,t4),{getProxiedUrl}=(0,useCORSProxy.A)();let t5,t6;$[7]!==canUseProxy||$[8]!==getProxiedUrl||$[9]!==onChange||$[10]!==setIsOpen?(t5=async t6=>{const{link,hotlinkInfo,needsProxy}=t6,{mimeType,fileName:originalFileName}=hotlinkInfo,proxiedUrl=needsProxy&&canUseProxy?getProxiedUrl({needsProxy},link):link,resourceLike={id:(0,v4.A)(),src:proxiedUrl,mimeType,needsProxy,alt:originalFileName,height:hotlinkInfo?.height,width:hotlinkInfo?.width},resource=await(0,getResourceFromUrl.A)(resourceLike);resource.src=link,onChange(resource),setIsOpen(!1)},$[7]=canUseProxy,$[8]=getProxiedUrl,$[9]=onChange,$[10]=setIsOpen,$[11]=t5):t5=$[11],$[12]!==canUseProxy||$[13]!==getProxiedUrl||$[14]!==onChange?(t6=[canUseProxy,getProxiedUrl,onChange],$[12]=canUseProxy,$[13]=getProxiedUrl,$[14]=onChange,$[15]=t6):t6=$[15];const onSelect=(0,src.hb)(t5,t6);let t7,t8,t9;return $[16]!==onCloseHotlink||$[17]!==onSelect||$[18]!==openHotlink?(t7={onSelect,openHotlink,onCloseHotlink},$[16]=onCloseHotlink,$[17]=onSelect,$[18]=openHotlink,$[19]=t7):t7=$[19],$[20]!==allowedFileTypes||$[21]!==isOpen?(t8={allowedFileTypes,isOpen},$[20]=allowedFileTypes,$[21]=isOpen,$[22]=t8):t8=$[22],$[23]!==t7||$[24]!==t8?(t9={actions:t7,state:t8},$[23]=t7,$[24]=t8,$[25]=t9):t9=$[25],t9};function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const StyledInput=(0,styled_components_browser_esm.Ay)(mediaInput.A).withConfig({displayName:"media__StyledInput",componentId:"sc-17cx4v4-0"})(["button:focus{","}"],(({theme})=>outline.g(theme.colors.border.focus,theme.colors.bg.secondary))),MediaInputField=t0=>{const $=(0,dist.c)(20);let dropdownOptions,forwardedRef,onChange,open,openHotlink,rest,value,t1,t2;$[0]!==t0?(({open,openHotlink,dropdownOptions,onChange,forwardedRef,value,...rest}=t0),$[0]=t0,$[1]=dropdownOptions,$[2]=forwardedRef,$[3]=onChange,$[4]=open,$[5]=openHotlink,$[6]=rest,$[7]=value):(dropdownOptions=$[1],forwardedRef=$[2],onChange=$[3],open=$[4],openHotlink=$[5],rest=$[6],value=$[7]),$[8]!==onChange||$[9]!==open||$[10]!==openHotlink?(t1=(evt,opt)=>{bb2:switch(opt){case"upload":open(evt);break bb2;case"hotlink":openHotlink(evt);break bb2;case"remove":case"reset":onChange(null)}},t2=[onChange,open,openHotlink],$[8]=onChange,$[9]=open,$[10]=openHotlink,$[11]=t1,$[12]=t2):(t1=$[11],t2=$[12]);const onMenuOption=(0,src.hb)(t1,t2),t3=value===constants.jW?null:value;let t4;return $[13]!==dropdownOptions||$[14]!==forwardedRef||$[15]!==onMenuOption||$[16]!==open||$[17]!==rest||$[18]!==t3?(t4=react.createElement(StyledInput,_extends({onMenuOption,menuOptions:dropdownOptions,openMediaPicker:open,ref:forwardedRef,value:t3},rest)),$[13]=dropdownOptions,$[14]=forwardedRef,$[15]=onMenuOption,$[16]=open,$[17]=rest,$[18]=t3,$[19]=t4):t4=$[19],t4};const media=(0,src.Rf)((function MediaInput(t0,forwardedRef){const $=(0,dist.c)(62);let cropParams,onChange,rest,t1,t2,t3,t4,t5,t6,t7,t8,t9,value,t10;$[0]!==t0?(({buttonInsertText:t1,hotlinkTitle:t2,hotlinkInsertText:t3,hotlinkInsertingText:t4,menuOptions:t5,onChange,onChangeErrorText:t6,title:t7,type:t8,value,cropParams,canUseProxy:t9,...rest}=t0),$[0]=t0,$[1]=cropParams,$[2]=onChange,$[3]=rest,$[4]=t1,$[5]=t2,$[6]=t3,$[7]=t4,$[8]=t5,$[9]=t6,$[10]=t7,$[11]=t8,$[12]=t9,$[13]=value):(cropParams=$[1],onChange=$[2],rest=$[3],t1=$[4],t2=$[5],t3=$[6],t4=$[7],t5=$[8],t6=$[9],t7=$[10],t8=$[11],t9=$[12],value=$[13]),$[14]!==t1?(t10=void 0===t1?(0,i18n.__)("Choose an image","web-stories"):t1,$[14]=t1,$[15]=t10):t10=$[15];const buttonInsertText=t10;let t11;$[16]!==t2?(t11=void 0===t2?(0,i18n.__)("Use external image","web-stories"):t2,$[16]=t2,$[17]=t11):t11=$[17];const hotlinkTitle=t11;let t12;$[18]!==t3?(t12=void 0===t3?(0,i18n.__)("Use image","web-stories"):t3,$[18]=t3,$[19]=t12):t12=$[19];const hotlinkInsertText=t12;let t13;$[20]!==t4?(t13=void 0===t4?(0,i18n.__)("Using image","web-stories"):t4,$[20]=t4,$[21]=t13):t13=$[21];const hotlinkInsertingText=t13;let t14;$[22]!==t5?(t14=void 0===t5?[]:t5,$[22]=t5,$[23]=t14):t14=$[23];const menuOptions=t14;let t15;$[24]!==t6?(t15=void 0===t6?(0,i18n.__)("Unable to use this file type, please select a valid image type.","web-stories"):t6,$[24]=t6,$[25]=t15):t15=$[25];const onChangeErrorText=t15;let t16;$[26]!==t7?(t16=void 0===t7?(0,i18n.__)("Choose an image","web-stories"):t7,$[26]=t7,$[27]=t16):t16=$[27];const title=t16,type=void 0===t8?"image":t8,canUseProxy=void 0!==t9&&t9,{MediaUpload}=(0,app.UK)();let t17;$[28]!==canUseProxy||$[29]!==onChange||$[30]!==type?(t17={onChange,type,canUseProxy},$[28]=canUseProxy,$[29]=onChange,$[30]=type,$[31]=t17):t17=$[31];const{actions:t18,state:t19}=form_useHotlink(t17),{onSelect,openHotlink,onCloseHotlink}=t18,{allowedFileTypes,isOpen}=t19;let t20,t21;$[32]!==forwardedRef||$[33]!==menuOptions||$[34]!==onChange||$[35]!==openHotlink||$[36]!==rest||$[37]!==value?(t20=open=>{const availableMenuOptions=[{label:(0,i18n.__)("Upload a file","web-stories"),value:"upload"},{label:(0,i18n.__)("Link to a file","web-stories"),value:"hotlink"},{label:(0,i18n.__)("Remove","web-stories"),value:"remove"},{label:(0,i18n.__)("Reset","web-stories"),value:"reset"}],dropdownOptions=value===constants.jW?[]:availableMenuOptions.filter((t22=>{const{value:option}=t22;return menuOptions.includes(option)}));return react.createElement(MediaInputField,_extends({open,openHotlink,onChange,dropdownOptions,forwardedRef,value},rest))},t21=[value,openHotlink,onChange,forwardedRef,rest,menuOptions],$[32]=forwardedRef,$[33]=menuOptions,$[34]=onChange,$[35]=openHotlink,$[36]=rest,$[37]=value,$[38]=t20,$[39]=t21):(t20=$[38],t21=$[39]);const renderMediaIcon=(0,src.hb)(t20,t21);let t22,t23,t24;return $[40]!==allowedFileTypes||$[41]!==canUseProxy||$[42]!==cropParams||$[43]!==hotlinkInsertText||$[44]!==hotlinkInsertingText||$[45]!==hotlinkTitle||$[46]!==isOpen||$[47]!==onCloseHotlink||$[48]!==onSelect?(t22=react.createElement(hotlinkModal.A,{isOpen,title:hotlinkTitle,onSelect,onClose:onCloseHotlink,insertText:hotlinkInsertText,insertingText:hotlinkInsertingText,allowedFileTypes,canUseProxy,requiredImgDimensions:cropParams}),$[40]=allowedFileTypes,$[41]=canUseProxy,$[42]=cropParams,$[43]=hotlinkInsertText,$[44]=hotlinkInsertingText,$[45]=hotlinkTitle,$[46]=isOpen,$[47]=onCloseHotlink,$[48]=onSelect,$[49]=t22):t22=$[49],$[50]!==MediaUpload||$[51]!==buttonInsertText||$[52]!==cropParams||$[53]!==onChange||$[54]!==onChangeErrorText||$[55]!==renderMediaIcon||$[56]!==title||$[57]!==type?(t23=react.createElement(MediaUpload,{title,buttonInsertText,onSelect:onChange,onSelectErrorMessage:onChangeErrorText,type,cropParams,render:renderMediaIcon}),$[50]=MediaUpload,$[51]=buttonInsertText,$[52]=cropParams,$[53]=onChange,$[54]=onChangeErrorText,$[55]=renderMediaIcon,$[56]=title,$[57]=type,$[58]=t23):t23=$[58],$[59]!==t22||$[60]!==t23?(t24=react.createElement(react.Fragment,null,t22,t23),$[59]=t22,$[60]=t23,$[61]=t24):t24=$[61],t24}));function linkIcon_extends(){return linkIcon_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},linkIcon_extends.apply(null,arguments)}const StyledMedia=(0,styled_components_browser_esm.Ay)(media).withConfig({displayName:"linkIcon__StyledMedia",componentId:"sc-1078kj7-0"})(["width:54px;height:54px;"]);function LinkIcon(t0){const $=(0,dist.c)(30);let handleChange,icon,rest,t1;$[0]!==t0?(({handleChange,icon,isLoading:t1,...rest}=t0),$[0]=t0,$[1]=handleChange,$[2]=icon,$[3]=rest,$[4]=t1):(handleChange=$[1],icon=$[2],rest=$[3],t1=$[4]);const isLoading=void 0!==t1&&t1,{allowedMimeTypes:t2,capabilities:t3}=(0,app.UK)(),{image:allowedImageMimeTypes}=t2,{hasUploadMediaAction}=t3;let t4,t5;$[5]!==allowedImageMimeTypes?(t4=()=>allowedImageMimeTypes.flatMap(linkIcon_temp),t5=[allowedImageMimeTypes],$[5]=allowedImageMimeTypes,$[6]=t4,$[7]=t5):(t4=$[6],t5=$[7]);const allowedImageFileTypes=(0,src.Kr)(t4,t5);let t6,t7;$[8]!==allowedImageFileTypes?(t6=()=>{let message=(0,i18n.__)("No image file types are currently supported.","web-stories");return allowedImageFileTypes.length&&(message=(0,sprintf.A)((0,i18n.__)("Please choose only %s as an icon.","web-stories"),(0,translateToExclusiveList.A)(allowedImageFileTypes))),message},t7=[allowedImageFileTypes],$[8]=allowedImageFileTypes,$[9]=t6,$[10]=t7):(t6=$[9],t7=$[10]);const iconErrorMessage=(0,src.Kr)(t6,t7),t8=hasUploadMediaAction&&"upload",t9=icon&&"remove";let t10;$[11]!==t8||$[12]!==t9?(t10=[t8,"hotlink",t9].filter(Boolean),$[11]=t8,$[12]=t9,$[13]=t10):t10=$[13];const options=t10,t11=icon||"";let t12,t13,t14,t15,t16,t17,t18;$[14]===Symbol.for("react.memo_cache_sentinel")?(t12={width:96,height:96},$[14]=t12):t12=$[14],$[15]===Symbol.for("react.memo_cache_sentinel")?(t13=(0,i18n.__)("Select as link icon","web-stories"),t14=(0,i18n.__)("Edit link icon","web-stories"),t15=(0,i18n.__)("Select as link icon","web-stories"),t16=(0,i18n.__)("Use external image as link icon","web-stories"),t17=(0,i18n.__)("Use image as link icon","web-stories"),t18=(0,i18n.__)("Using image as link icon","web-stories"),$[15]=t13,$[16]=t14,$[17]=t15,$[18]=t16,$[19]=t17,$[20]=t18):(t13=$[15],t14=$[16],t15=$[17],t16=$[18],t17=$[19],t18=$[20]);const t19=0!==options.length;let t20;return $[21]!==allowedImageMimeTypes||$[22]!==handleChange||$[23]!==iconErrorMessage||$[24]!==isLoading||$[25]!==options||$[26]!==rest||$[27]!==t11||$[28]!==t19?(t20=react.createElement(StyledMedia,linkIcon_extends({value:t11,cropParams:t12,onChange:handleChange,onChangeErrorText:iconErrorMessage,title:t13,ariaLabel:t14,buttonInsertText:t15,hotlinkTitle:t16,hotlinkInsertText:t17,hotlinkInsertingText:t18,type:allowedImageMimeTypes,isLoading,variant:types.Q.Circle,canUpload:t19,menuOptions:options},rest)),$[21]=allowedImageMimeTypes,$[22]=handleChange,$[23]=iconErrorMessage,$[24]=isLoading,$[25]=options,$[26]=rest,$[27]=t11,$[28]=t19,$[29]=t20):t20=$[29],t20}function linkIcon_temp(type){return(0,src_mimeTypes.n)(type)}LinkIcon.propTypes={icon:prop_types_default().string,isLoading:prop_types_default().bool,disabled:prop_types_default().bool,handleChange:prop_types_default().func.isRequired};const linkIcon=LinkIcon;var input=__webpack_require__("./packages/design-system/src/components/input/input.tsx"),url=__webpack_require__("./packages/url/src/url.ts"),styles=__webpack_require__("./packages/story-editor/src/components/panels/shared/styles.js"),row=__webpack_require__("./packages/story-editor/src/components/form/row.js");function link_extends(){return link_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},link_extends.apply(null,arguments)}const MIN_MAX_URL={MIN:2,MAX:2048},LinkInput=(0,src.Rf)((function LinkInput(t0,ref){const $=(0,dist.c)(30);let hasError,hint,onBlur,onChange,onFocus,rest,t1;$[0]!==t0?(({onChange,onBlur,onFocus,value:t1,hint,hasError,...rest}=t0),$[0]=t0,$[1]=hasError,$[2]=hint,$[3]=onBlur,$[4]=onChange,$[5]=onFocus,$[6]=rest,$[7]=t1):(hasError=$[1],hint=$[2],onBlur=$[3],onChange=$[4],onFocus=$[5],rest=$[6],t1=$[7]);const value=void 0===t1?"":t1,t2=value||"";let t3,trimmedValue;$[8]!==t2?(trimmedValue=t2.trim(),t3=(0,url.AY)((0,url.x6)(trimmedValue)),$[8]=t2,$[9]=t3,$[10]=trimmedValue):(t3=$[9],trimmedValue=$[10]);const isValid=t3,isNotValid=trimmedValue.length>0&&!isValid;let t4,t5,t6;$[11]===Symbol.for("react.memo_cache_sentinel")?(t4=(0,i18n.__)("Web address","web-stories"),$[11]=t4):t4=$[11],$[12]!==onChange?(t5=evt=>onChange(evt.target.value),$[12]=onChange,$[13]=t5):t5=$[13],$[14]!==onBlur||$[15]!==onChange||$[16]!==trimmedValue?(t6=()=>{if(trimmedValue?.length){const urlWithProtocol=(0,url.x6)(trimmedValue);urlWithProtocol!==trimmedValue&&onChange(urlWithProtocol)}onBlur&&onBlur()},$[14]=onBlur,$[15]=onChange,$[16]=trimmedValue,$[17]=t6):t6=$[17];const t7=value||"",t8=isNotValid||hasError;let t9,t10;return $[18]!==hint||$[19]!==isNotValid?(t9=isNotValid?(0,i18n.__)("Invalid web address.","web-stories"):hint,$[18]=hint,$[19]=isNotValid,$[20]=t9):t9=$[20],$[21]!==onFocus||$[22]!==ref||$[23]!==rest||$[24]!==t5||$[25]!==t6||$[26]!==t7||$[27]!==t8||$[28]!==t9?(t10=react.createElement(row.A,null,react.createElement(input.A,link_extends({ref,placeholder:t4,onChange:t5,onBlur:t6,onFocus,value:t7,minLength:MIN_MAX_URL.MIN,maxLength:MIN_MAX_URL.MAX,hasError:t8,hint:t9,containerStyleOverride:styles.t,type:"url"},rest))),$[21]=onFocus,$[22]=ref,$[23]=rest,$[24]=t5,$[25]=t6,$[26]=t7,$[27]=t8,$[28]=t9,$[29]=t10):t10=$[29],t10}));LinkInput.propTypes={value:prop_types_default().string,onChange:prop_types_default().func.isRequired,onFocus:prop_types_default().func,onBlur:prop_types_default().func,hint:prop_types_default().string,hasError:prop_types_default().bool};const form_link=LinkInput;var useSnackbar=__webpack_require__("./packages/design-system/src/contexts/snackbar/useSnackbar.ts"),useFFmpeg=__webpack_require__("./packages/story-editor/src/app/media/utils/useFFmpeg.ts"),app_media=__webpack_require__("./packages/story-editor/src/app/media/index.js");const mediaUploadButton=function MediaUploadButton({onInsert,renderButton,buttonInsertText}){const{allowedMimeTypes:{image:allowedImageMimeTypes,vector:allowedVectorMimeTypes,video:allowedVideoMimeTypes},MediaUpload}=(0,app.UK)(),allowedUploadMimeTypes=(0,src.Kr)((()=>[...allowedImageMimeTypes,...allowedVectorMimeTypes,...allowedVideoMimeTypes]),[allowedImageMimeTypes,allowedVectorMimeTypes,allowedVideoMimeTypes]),allowedFileTypes=(0,src.Kr)((()=>allowedUploadMimeTypes.flatMap((type=>(0,src_mimeTypes.n)(type)))),[allowedUploadMimeTypes]),{canTranscodeResource:canTranscodeResource_0,resetWithFetch:resetWithFetch_0,postProcessingResource:postProcessingResource_0,optimizeVideo:optimizeVideo_0,optimizeGif:optimizeGif_0}=(0,app.HZ)((({state:{canTranscodeResource},actions:{resetWithFetch,postProcessingResource,optimizeVideo,optimizeGif}})=>({canTranscodeResource,resetWithFetch,postProcessingResource,optimizeVideo,optimizeGif}))),{isTranscodingEnabled}=(0,useFFmpeg.A)(),{showSnackbar}=(0,useSnackbar.d)(),allowedMimeTypes=(0,src.Kr)((()=>isTranscodingEnabled?[...app_media.sX,...allowedImageMimeTypes,...allowedVectorMimeTypes,...allowedVideoMimeTypes]:[...allowedImageMimeTypes,...allowedVectorMimeTypes,...allowedVideoMimeTypes]),[allowedImageMimeTypes,allowedVectorMimeTypes,allowedVideoMimeTypes,isTranscodingEnabled]);let onSelectErrorMessage=(0,i18n.__)("No file types are currently supported.","web-stories");allowedFileTypes.length&&(onSelectErrorMessage=(0,sprintf.A)((0,i18n.__)("Please choose only %s to insert into page.","web-stories"),(0,translateToExclusiveList.A)(allowedFileTypes)));const onSelect=(0,src.hb)((resource=>{try{isTranscodingEnabled&&canTranscodeResource_0(resource)&&(!resource.isOptimized&&app_media.sX.includes(resource.mimeType)&&optimizeVideo_0({resource}),"image/gif"===resource.mimeType&&optimizeGif_0({resource})),onInsert(resource),postProcessingResource_0(resource)}catch(e){showSnackbar({message:e.message,dismissible:!0})}}),[isTranscodingEnabled,canTranscodeResource_0,onInsert,optimizeGif_0,optimizeVideo_0,postProcessingResource_0,showSnackbar]);return react.createElement(MediaUpload,{onSelect,onSelectErrorMessage,onClose:resetWithFetch_0,type:allowedMimeTypes,render:renderButton,buttonInsertText})};var switch_switch=__webpack_require__("./packages/design-system/src/components/switch/switch.tsx"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx");function switch_extends(){return switch_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},switch_extends.apply(null,arguments)}const StyledSwitch=(0,styled_components_browser_esm.Ay)(switch_switch.A).withConfig({displayName:"switch__StyledSwitch",componentId:"sc-xytur2-0"})(["label:focus-within ~ span{",";}"],(({theme})=>`box-shadow: 0px 0px 0 2px ${theme.colors.bg.secondary}, 0px 0px 0 4px ${theme.colors.border.focus} !important;`));function Switch(t0){const $=(0,dist.c)(25);let onChange,props,t1,t2,value,t3;$[0]!==t0?(({offLabel:t1,onChange,onLabel:t2,value,...props}=t0),$[0]=t0,$[1]=onChange,$[2]=props,$[3]=t1,$[4]=t2,$[5]=value):(onChange=$[1],props=$[2],t1=$[3],t2=$[4],value=$[5]),$[6]!==t1?(t3=void 0===t1?(0,i18n.__)("Off","web-stories"):t1,$[6]=t1,$[7]=t3):t3=$[7];const offLabel=t3;let t4;$[8]!==t2?(t4=void 0===t2?(0,i18n.__)("On","web-stories"):t2,$[8]=t2,$[9]=t4):t4=$[9];const onLabel=t4,switchRef=(0,src.li)(null);let t5,t6;$[10]!==onChange||$[11]!==value?(t5=evt=>{onChange(evt,!value)},t6=[onChange,value],$[10]=onChange,$[11]=value,$[12]=t5,$[13]=t6):(t5=$[12],t6=$[13]);const handleToggleValue=(0,src.hb)(t5,t6);let t7,t8,t9;return $[14]===Symbol.for("react.memo_cache_sentinel")?(t7=["space","enter","left","right","up","down"],$[14]=t7):t7=$[14],$[15]!==handleToggleValue||$[16]!==value?(t8=[handleToggleValue,value],$[15]=handleToggleValue,$[16]=value,$[17]=t8):t8=$[17],(0,keyboard._h)(switchRef,t7,handleToggleValue,t8),$[18]!==offLabel||$[19]!==onChange||$[20]!==onLabel||$[21]!==props||$[22]!==switchRef||$[23]!==value?(t9=react.createElement(StyledSwitch,switch_extends({ref:switchRef,offLabel,onChange,onLabel,value},props)),$[18]=offLabel,$[19]=onChange,$[20]=onLabel,$[21]=props,$[22]=switchRef,$[23]=value,$[24]=t9):t9=$[24],t9}Switch.propTypes={className:prop_types_default().string,disabled:prop_types_default().bool,groupLabel:prop_types_default().string.isRequired,id:prop_types_default().string,name:prop_types_default().string.isRequired,offLabel:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().node]).isRequired,onChange:prop_types_default().func.isRequired,onLabel:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().node]).isRequired,value:prop_types_default().bool,darkTheme:prop_types_default().bool};const form_switch=Switch;var textArea=__webpack_require__("./packages/design-system/src/components/textArea/textArea.tsx");function textArea_extends(){return textArea_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},textArea_extends.apply(null,arguments)}const TextArea=(0,src.Rf)(((t0,ref)=>{const $=(0,dist.c)(31);let onBlur,onChange,placeholder,rest,t1,value;if($[0]!==t0){const{className,placeholder:t2,value:t3,disabled,rows:t4,onChange:t5,onBlur:t6,...t7}=t0;placeholder=t2,value=t3,t1=t4,onChange=t5,onBlur=t6,rest=t7,$[0]=t0,$[1]=onBlur,$[2]=onChange,$[3]=placeholder,$[4]=rest,$[5]=t1,$[6]=value}else onBlur=$[1],onChange=$[2],placeholder=$[3],rest=$[4],t1=$[5],value=$[6];const rows=void 0===t1?2:t1,[currentValue,setCurrentValue]=(0,src.J0)(value);let t2,t3;$[7]!==currentValue||$[8]!==onChange||$[9]!==value?(t2=evt=>{currentValue!==value&&onChange(evt)},t3=[currentValue,onChange,value],$[7]=currentValue,$[8]=onChange,$[9]=value,$[10]=t2,$[11]=t3):(t2=$[10],t3=$[11]);const handleChange=(0,src.hb)(t2,t3);let t4,t5,t6,t7;$[12]!==setCurrentValue||$[13]!==value?(t4=()=>{setCurrentValue(value)},$[12]=setCurrentValue,$[13]=value,$[14]=t4):t4=$[14],$[15]!==value?(t5=[value],$[15]=value,$[16]=t5):t5=$[16],(0,src.vJ)(t4,t5),$[17]!==handleChange||$[18]!==onBlur?(t6=e=>{handleChange(e),onBlur&&onBlur(e)},t7=[onBlur,handleChange],$[17]=handleChange,$[18]=onBlur,$[19]=t6,$[20]=t7):(t6=$[19],t7=$[20]);const handleBlur=(0,src.hb)(t6,t7);let t8,t9;return $[21]!==setCurrentValue?(t8=evt_0=>setCurrentValue(evt_0.target.value),$[21]=setCurrentValue,$[22]=t8):t8=$[22],$[23]!==currentValue||$[24]!==handleBlur||$[25]!==placeholder||$[26]!==ref||$[27]!==rest||$[28]!==rows||$[29]!==t8?(t9=react.createElement(textArea.A,textArea_extends({placeholder,value:currentValue},rest,{rows,containerStyleOverride:styles.t,onChange:t8,onBlur:handleBlur,ref})),$[23]=currentValue,$[24]=handleBlur,$[25]=placeholder,$[26]=ref,$[27]=rest,$[28]=rows,$[29]=t8,$[30]=t9):t9=$[30],t9}));TextArea.displayName="TextArea",TextArea.propTypes={className:prop_types_default().string,placeholder:prop_types_default().string,value:prop_types_default().string.isRequired,disabled:prop_types_default().bool,rows:prop_types_default().number,onChange:prop_types_default().func.isRequired,onBlur:prop_types_default().func};const form_textArea=TextArea;var usePresubmitHandler=__webpack_require__("./packages/story-editor/src/components/form/usePresubmitHandler.js"),button_button=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),button_constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),useFocusTrapping=__webpack_require__("./packages/story-editor/src/utils/useFocusTrapping.js"),useRovingTabIndex=__webpack_require__("./packages/story-editor/src/utils/useRovingTabIndex/index.js"),numericInput=__webpack_require__("./packages/design-system/src/components/input/numericInput.tsx"),date_src=__webpack_require__("./packages/date/src/index.ts"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),popup_constants=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),theme_types=__webpack_require__("./packages/design-system/src/theme/types.ts"),components_tooltip=__webpack_require__("./packages/story-editor/src/components/tooltip/index.js"),zIndex=__webpack_require__("./packages/story-editor/src/constants/zIndex.ts");const Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"timeZone__Wrapper",componentId:"sc-1n80l1r-0"})(["white-space:nowrap;"]),StyledText=(0,styled_components_browser_esm.Ay)(typography_text.E.Span).withConfig({displayName:"timeZone__StyledText",componentId:"sc-1n80l1r-1"})(["color:",";line-height:30px;"],(({theme})=>theme.colors.fg.tertiary));const timeZone=function TimeZone(){const $=(0,dist.c)(4);let t0,t1,zoneAbbr;if($[0]===Symbol.for("react.memo_cache_sentinel")){t1=Symbol.for("react.early_return_sentinel");bb0:{const{timezone,gmtOffset,timezoneAbbr}=(0,date_src.mt)(),userTimezoneOffset=(new Date).getTimezoneOffset()/60*-1;if(Number(gmtOffset)===userTimezoneOffset){t1=null;break bb0}const offsetSymbol=Number(gmtOffset)>=0?"+":"";zoneAbbr=""!==timezoneAbbr&&Number.isNaN(Number(timezoneAbbr))?timezoneAbbr:`UTC${offsetSymbol}${gmtOffset}`,t0="UTC"===timezone?(0,i18n.__)("Coordinated Universal Time","web-stories"):`(${zoneAbbr}) ${timezone.replace("_"," ")}`}$[0]=t0,$[1]=t1,$[2]=zoneAbbr}else t0=$[0],t1=$[1],zoneAbbr=$[2];if(t1!==Symbol.for("react.early_return_sentinel"))return t1;const tooltip=t0;let t2;return $[3]===Symbol.for("react.memo_cache_sentinel")?(t2=react.createElement(Wrapper,null,react.createElement(components_tooltip.A,{hasTail:!0,title:tooltip,placement:popup_constants.W.Top,popupZIndexOverride:zIndex.jN},react.createElement(StyledText,{size:theme_types.$.XSmall},zoneAbbr))),$[3]=t2):t2=$[3],t2},TimeWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"timePicker__TimeWrapper",componentId:"sc-14og2kb-0"})(["margin-bottom:1em;padding:0 20px;"]),Fieldset=styled_components_browser_esm.Ay.fieldset.withConfig({displayName:"timePicker__Fieldset",componentId:"sc-14og2kb-1"})(["margin-top:0.5em;position:relative;"]),Legend=styled_components_browser_esm.Ay.legend.withConfig({displayName:"timePicker__Legend",componentId:"sc-14og2kb-2"})(["position:absolute;top:-999em;left:-999em;"]),InputRow=styled_components_browser_esm.Ay.div.withConfig({displayName:"timePicker__InputRow",componentId:"sc-14og2kb-3"})(["display:flex;"]),NumberInput=(0,styled_components_browser_esm.Ay)(numericInput.A).withConfig({displayName:"timePicker__NumberInput",componentId:"sc-14og2kb-4"})(["background-color:",";color:",";margin-right:4px;width:50%;max-width:50px;div{height:32px;}input{text-align:center;}"],(({theme})=>theme.colors.bg.tertiary),(({theme})=>theme.colors.fg.tertiary)),TimeSeparator=styled_components_browser_esm.Ay.span.withConfig({displayName:"timePicker__TimeSeparator",componentId:"sc-14og2kb-5"})(["padding:0 3px 0 0;color:#555d66;"]),InputGroup=styled_components_browser_esm.Ay.div.withConfig({displayName:"timePicker__InputGroup",componentId:"sc-14og2kb-6"})(["flex-basis:100%;"]),timePicker_StyledSwitch=(0,styled_components_browser_esm.Ay)(form_switch).withConfig({displayName:"timePicker__StyledSwitch",componentId:"sc-14og2kb-7"})(["width:100px;"]);function TimePicker(t0){const $=(0,dist.c)(60),{onChange,is12Hour,hasLeadingZeros,localeData,setLocaleData}=t0;let t1;$[0]!==localeData||$[1]!==setLocaleData?(t1=prop=>(_,value)=>{let filteredValue=null!=value?Number.parseInt(value):localeData[prop];filteredValue=isNaN(filteredValue)?"":filteredValue,filteredValue=""===filteredValue&&"-"===value?"-":filteredValue,setLocaleData({...localeData,[prop]:filteredValue})},$[0]=localeData,$[1]=setLocaleData,$[2]=t1):t1=$[2];const onChangeEvent=t1;let t2;$[3]!==is12Hour?(t2=()=>is12Hour?12:23,$[3]=is12Hour,$[4]=t2):t2=$[4];const getMaxHours=t2;let t3;$[5]!==is12Hour?(t3=()=>is12Hour?1:0,$[5]=is12Hour,$[6]=t3):t3=$[6];const getMinHours=t3;let t4;$[7]!==is12Hour||$[8]!==localeData?(t4=value_0=>{const{am}=localeData;return is12Hour?"AM"===am?value_0%12:(value_0%12+12)%24:value_0},$[7]=is12Hour,$[8]=localeData,$[9]=t4):t4=$[9];const getHours=t4;let t5;$[10]!==localeData||$[11]!==onChange||$[12]!==setLocaleData?(t5=(newDate,t6)=>{const props=void 0===t6?{}:t6;setLocaleData({...localeData,...props,date:newDate}),onChange(newDate.toISOString())},$[10]=localeData,$[11]=onChange,$[12]=setLocaleData,$[13]=t5):t5=$[13];const changeDate=t5;let t6;$[14]!==changeDate||$[15]!==localeData?(t6=()=>{const{minutes,date}=localeData,value_1=Number.parseInt(minutes);if(!(isNaN(value_1)||value_1<0||value_1>59)&&date.getMinutes()!==minutes){const newDate_0=date;newDate_0.setMinutes(minutes),changeDate(newDate_0)}},$[14]=changeDate,$[15]=localeData,$[16]=t6):t6=$[16];const updateMinutes=t6;let t7;$[17]!==changeDate||$[18]!==getHours||$[19]!==getMaxHours||$[20]!==getMinHours||$[21]!==localeData?(t7=()=>{const{hours,date:date_0}=localeData,value_2=Number.parseInt(hours);if(!(isNaN(value_2)||value_2<getMinHours()||value_2>getMaxHours())&&date_0.getHours()!==getHours(hours)){const newDate_1=date_0;newDate_1.setHours(getHours(hours)),changeDate(newDate_1)}},$[17]=changeDate,$[18]=getHours,$[19]=getMaxHours,$[20]=getMinHours,$[21]=localeData,$[22]=t7):t7=$[22];const updateHours=t7;let t8;$[23]!==changeDate||$[24]!==localeData?(t8=(_evt,useAM)=>{const{am:am_0,date:date_1,hours:hours_0}=localeData;if("AM"===am_0&&useAM)return;const newDate_2=date_1;useAM?newDate_2.setHours(hours_0%12):newDate_2.setHours((hours_0%12+12)%24),changeDate(newDate_2,{am:useAM?"AM":"PM"})},$[23]=changeDate,$[24]=localeData,$[25]=t8):t8=$[25];const updateAmPm=t8,hours_1=(0,src.li)();let t9,t10;$[26]!==hours_1.current?(t9=()=>{hours_1.current.focus()},$[26]=hours_1.current,$[27]=t9):t9=$[27],$[28]===Symbol.for("react.memo_cache_sentinel")?(t10=[],$[28]=t10):t10=$[28],(0,src.vJ)(t9,t10);const isAM="AM"===localeData.am;let t11,t12;$[29]===Symbol.for("react.memo_cache_sentinel")?(t11=react.createElement(Legend,null,(0,i18n.__)("Time","web-stories")),$[29]=t11):t11=$[29],$[30]===Symbol.for("react.memo_cache_sentinel")?(t12=(0,i18n.__)("Hours","web-stories"),$[30]=t12):t12=$[30];const t13=getMinHours(),t14=getMaxHours(),t15=localeData.hours;let t16,t17,t18,t19;$[31]!==onChangeEvent?(t16=onChangeEvent("hours"),$[31]=onChangeEvent,$[32]=t16):t16=$[32],$[33]!==hasLeadingZeros||$[34]!==hours_1||$[35]!==localeData.hours||$[36]!==t13||$[37]!==t14||$[38]!==t16||$[39]!==updateHours?(t17=react.createElement(NumberInput,{ref:hours_1,"aria-label":t12,step:1,min:t13,max:t14,value:t15,onChange:t16,updateOnChange:!0,onBlur:updateHours,padZero:hasLeadingZeros}),$[33]=hasLeadingZeros,$[34]=hours_1,$[35]=localeData.hours,$[36]=t13,$[37]=t14,$[38]=t16,$[39]=updateHours,$[40]=t17):t17=$[40],$[41]===Symbol.for("react.memo_cache_sentinel")?(t18=react.createElement(TimeSeparator,null,":"),$[41]=t18):t18=$[41],$[42]===Symbol.for("react.memo_cache_sentinel")?(t19=(0,i18n.__)("Minutes","web-stories"),$[42]=t19):t19=$[42];const t20=localeData.minutes;let t21,t22,t23,t24,t25,t26;return $[43]!==onChangeEvent?(t21=onChangeEvent("minutes"),$[43]=onChangeEvent,$[44]=t21):t21=$[44],$[45]!==localeData.minutes||$[46]!==t21||$[47]!==updateMinutes?(t22=react.createElement(NumberInput,{"aria-label":t19,min:0,max:59,value:t20,onChange:t21,updateOnChange:!0,onBlur:updateMinutes,padZero:!0}),$[45]=localeData.minutes,$[46]=t21,$[47]=updateMinutes,$[48]=t22):t22=$[48],$[49]!==t17||$[50]!==t22?(t23=react.createElement(InputGroup,null,t17,t18,t22),$[49]=t17,$[50]=t22,$[51]=t23):t23=$[51],$[52]!==is12Hour||$[53]!==isAM||$[54]!==updateAmPm?(t24=is12Hour&&react.createElement(InputGroup,null,react.createElement(timePicker_StyledSwitch,{groupLabel:(0,i18n.__)("AM or PM","web-stories"),name:"time-picker-am-pm-switch",value:isAM,onLabel:(0,i18n.__)("AM","web-stories"),offLabel:(0,i18n.__)("PM","web-stories"),onChange:updateAmPm})),$[52]=is12Hour,$[53]=isAM,$[54]=updateAmPm,$[55]=t24):t24=$[55],$[56]===Symbol.for("react.memo_cache_sentinel")?(t25=react.createElement(timeZone,null),$[56]=t25):t25=$[56],$[57]!==t23||$[58]!==t24?(t26=react.createElement(TimeWrapper,null,react.createElement(Fieldset,null,t11,react.createElement(InputRow,null,t23,t24,t25))),$[57]=t23,$[58]=t24,$[59]=t26):t26=$[59],t26}TimePicker.propTypes={onChange:prop_types_default().func.isRequired,is12Hour:prop_types_default().bool,hasLeadingZeros:prop_types_default().bool,localeData:prop_types_default().shape({am:prop_types_default().string.isRequired,hours:prop_types_default().number.isRequired,minutes:prop_types_default().number.isRequired,date:prop_types_default().instanceOf(Date).isRequired}).isRequired,setLocaleData:prop_types_default().func.isRequired};const timePicker=TimePicker;var circular=__webpack_require__("./packages/design-system/src/components/circularProgress/circular.tsx"),expandPresetStyles=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts");const calendarWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"calendarWrapper__CalendarWrapper",componentId:"sc-u1av1j-0"})(["min-height:236px;.react-calendar{width:350px;max-width:100%;background-color:",";"," color:",";button{margin:0;border:0;outline:none;"," color:",";&:enabled:hover{cursor:pointer;}}}.react-calendar,.react-calendar *,.react-calendar *:before,.react-calendar *:after{box-sizing:border-box;}.react-calendar .react-calendar__navigation{display:flex;height:44px;margin-bottom:1em;button{min-width:44px;background:none;color:",";&:disabled{background-color:transparent;}&:enabled:hover,&:enabled:focus{background-color:",";color:",";}}}.react-calendar__month-view__weekdays{text-align:center;text-transform:uppercase;font-weight:bold;font-size:10px;}.react-calendar__month-view__weekdays__weekday{padding:0.5em;}.react-calendar .react-calendar__month-view__days__day--weekend{color:",";}.react-calendar .react-calendar__month-view__days__day--neighboringMonth{color:",";}.react-calendar__tile{max-width:100%;padding:10px 6.6667px;background:none;text-align:center;line-height:16px;&:disabled{background-color:",";}&:enabled:hover,&:enabled:focus{background-color:",";color:",";}}.react-calendar__year-view .react-calendar__tile,.react-calendar__decade-view .react-calendar__tile,.react-calendar__century-view .react-calendar__tile{padding:1.2em 0.5em;}.react-calendar button.react-calendar__tile--now{background:",";color:",";&:enabled:hover,&:enabled:focus{background-color:",";color:",";}}.react-calendar button.react-calendar__tile--active,.react-calendar button.react-calendar__tile--hasActive{background:",";color:",";&:enabled:hover,&:enabled:focus{background-color:",";color:",";}}"],(({theme})=>theme.colors.bg.primary),(({theme})=>expandPresetStyles.s({preset:theme.typography.presets.label[theme_types.$.Small],theme})),(({theme})=>theme.colors.fg.primary),(({theme})=>expandPresetStyles.s({preset:theme.typography.presets.label[theme_types.$.Small],theme})),(({theme})=>theme.colors.fg.primary),(({theme})=>theme.colors.fg.secondary),(({theme})=>theme.colors.bg.secondary),(({theme})=>theme.colors.fg.primary),(({theme})=>theme.colors.fg.secondary),(({theme})=>theme.colors.fg.tertiary),(({theme})=>theme.colors.bg.tertiary),(({theme})=>theme.colors.interactiveBg.tertiaryHover),(({theme})=>theme.colors.interactiveFg.active),(({theme})=>theme.colors.bg.tertiary),(({theme})=>theme.colors.fg.primary),(({theme})=>theme.colors.interactiveBg.secondaryHover),(({theme})=>theme.colors.interactiveFg.active),(({theme})=>theme.colors.interactiveBg.brandNormal),(({theme})=>theme.colors.interactiveFg.brandNormal),(({theme})=>theme.colors.interactiveBg.brandHover),(({theme})=>theme.colors.interactiveFg.brandHover));const Calendar=(0,src.RZ)((()=>__webpack_require__.e(3995).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-calendar/dist/esm/index.js")))),FallbackCalendar=styled_components_browser_esm.Ay.div.withConfig({displayName:"datePicker__FallbackCalendar",componentId:"sc-9qun1q-0"})(["height:256px;width:350px;display:flex;align-items:center;justify-content:center;"]);function DatePicker(t0){const $=(0,dist.c)(30),{currentDate,onChange,onViewChange}=t0,nodeRef=(0,src.li)();let t1,t2;$[0]!==currentDate?(t1=()=>currentDate?new Date(currentDate):new Date,t2=[currentDate],$[0]=currentDate,$[1]=t1,$[2]=t2):(t1=$[1],t2=$[2]);const value=(0,src.Kr)(t1,t2);let t3,t4;$[3]!==onChange||$[4]!==value?(t3=newDate=>{newDate.setHours(value.getHours()),newDate.setMinutes(value.getMinutes()),onChange(newDate.toISOString(),!0)},t4=[value,onChange],$[3]=onChange,$[4]=value,$[5]=t3,$[6]=t4):(t3=$[5],t4=$[6]);const handleOnChange=(0,src.hb)(t3,t4);let t5,t6;$[7]!==nodeRef.current?(t5=t6=>{const setFocus=void 0!==t6&&t6;if(nodeRef.current){const navButtons=[...nodeRef.current.querySelectorAll(".react-calendar__navigation button")];navButtons[0].tabIndex="0",navButtons.shift();for(const btn of navButtons)btn.tabIndex="-1";const buttons=[...nodeRef.current.querySelectorAll(".react-calendar__viewContainer button")];let foundActive=!1;for(const btn_0 of buttons)btn_0.classList.contains("react-calendar__tile--now")?(btn_0.tabIndex="0",setFocus&&btn_0.focus(),foundActive=!0):btn_0.tabIndex="-1";foundActive||(buttons[0].tabIndex="0",buttons[0].focus())}},$[7]=nodeRef.current,$[8]=t5):t5=$[8],$[9]!==nodeRef?(t6=[nodeRef],$[9]=nodeRef,$[10]=t6):t6=$[10];const updateTabIndexes=(0,src.hb)(t5,t6);let t7,t8,t9;if($[11]!==updateTabIndexes?(t7=()=>{const timeout=setTimeout((()=>{updateTabIndexes()}));return()=>{clearTimeout(timeout)}},t8=[updateTabIndexes],$[11]=updateTabIndexes,$[12]=t7,$[13]=t8):(t7=$[12],t8=$[13]),(0,src.vJ)(t7,t8),$[14]===Symbol.for("react.memo_cache_sentinel")){const{weekStartsOn}=(0,date_src.$E)();t9=function getCalendarType(weekStartsOn){return{0:"US",1:"ISO 8601",5:"Hebrew",6:"Arabic"}[weekStartsOn]||"ISO 8601"}(weekStartsOn),$[14]=t9}else t9=$[14];const calendarType=t9;let t10,t11,t12,t13,t14,t15,t16,t17;return $[15]===Symbol.for("react.memo_cache_sentinel")?(t10=react.createElement(FallbackCalendar,null,react.createElement(circular.A,null)),$[15]=t10):t10=$[15],$[16]!==updateTabIndexes?(t11=()=>updateTabIndexes(!0),$[16]=updateTabIndexes,$[17]=t11):t11=$[17],$[18]===Symbol.for("react.memo_cache_sentinel")?(t12=(0,i18n._x)("Next","This label can apply to next month, year and/or decade","web-stories"),t13=(0,i18n._x)("Previous","This label can apply to previous month, year and/or decade","web-stories"),t14=(0,i18n._x)("Jump forward","This label can apply to month, year and/or decade","web-stories"),t15=(0,i18n._x)("Jump backwards","This label can apply to month, year and/or decade","web-stories"),$[18]=t12,$[19]=t13,$[20]=t14,$[21]=t15):(t12=$[18],t13=$[19],t14=$[20],t15=$[21]),$[22]!==handleOnChange||$[23]!==onViewChange||$[24]!==t11||$[25]!==value?(t16=react.createElement(Calendar,{value,calendarType,onChange:handleOnChange,onViewChange,onActiveStartDateChange:t11,nextAriaLabel:t12,prevAriaLabel:t13,next2AriaLabel:t14,prev2AriaLabel:t15,formatDay:datePicker_temp,formatWeekday:_temp2,formatLongDate:_temp3,formatMonth:_temp4,formatMonthYear:_temp5,formatShortWeekday:_temp6,formatYear:_temp7}),$[22]=handleOnChange,$[23]=onViewChange,$[24]=t11,$[25]=value,$[26]=t16):t16=$[26],$[27]!==nodeRef||$[28]!==t16?(t17=react.createElement(src.tY,{fallback:t10},react.createElement(calendarWrapper,{ref:nodeRef},t16)),$[27]=nodeRef,$[28]=t16,$[29]=t17):t17=$[29],t17}function _temp7(locale_5,date_5){return(0,date_src.GP)(date_5,"Y")}function _temp6(locale_4,date_4){return(0,date_src.GP)(date_4,"D")}function _temp5(locale_3,date_3){return(0,date_src.GP)(date_3,"F Y")}function _temp4(locale_2,date_2){return(0,date_src.GP)(date_2,"F")}function _temp3(locale_1,date_1){return(0,date_src.Yq)(date_1)}function _temp2(locale_0,date_0){return(0,date_src.GP)(date_0,"l")}function datePicker_temp(locale,date){return(0,date_src.GP)(date,"j")}DatePicker.propTypes={onChange:prop_types_default().func.isRequired,onViewChange:prop_types_default().func,currentDate:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number])};const datePicker=DatePicker,DateTimeWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"dateTime__DateTimeWrapper",componentId:"sc-15cbv9f-0"})(["background-color:",";border-radius:",";border:1px solid ",";width:100%;padding:4px;"],(({theme})=>theme.colors.bg.primary),(({theme})=>theme.borders.radius.small),(({theme})=>theme.colors.divider.primary)),StyledButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"dateTime__StyledButton",componentId:"sc-15cbv9f-1"})(["margin:5px 0;color:",";&:hover{color:",";}"],(({theme})=>theme.colors.interactiveBg.brandNormal),(({theme})=>theme.colors.interactiveBg.brandHover));function DateTime(t0){const $=(0,dist.c)(39),{value,onChange,onViewChange,is12Hour:t1,hasLeadingZeros,forwardedRef,onClose,canReset:t2}=t0,is12Hour=void 0===t1||t1,canReset=void 0!==t2&&t2;let initialHours,selectedTime,t3,t4;$[0]!==value?(selectedTime=value?new Date(value):new Date,initialHours=selectedTime.getHours(),t4=src.J0,t3=selectedTime.getMinutes(),$[0]=value,$[1]=initialHours,$[2]=selectedTime,$[3]=t3,$[4]=t4):(initialHours=$[1],selectedTime=$[2],t3=$[3],t4=$[4]);const t5=initialHours<12?"AM":"PM",t6=is12Hour?initialHours%12||12:initialHours;let t7;$[5]!==selectedTime||$[6]!==t3||$[7]!==t5||$[8]!==t6?(t7={minutes:t3,am:t5,hours:t6,date:selectedTime},$[5]=selectedTime,$[6]=t3,$[7]=t5,$[8]=t6,$[9]=t7):t7=$[9];const[localeData,setLocaleData]=t4(t7),previousFocus=(0,src.li)(document.activeElement);let t8,t9;$[10]!==onClose||$[11]!==previousFocus.current?(t8=evt=>{previousFocus.current&&previousFocus.current.focus(),onClose(evt)},$[10]=onClose,$[11]=previousFocus.current,$[12]=t8):t8=$[12],$[13]!==onClose?(t9=[onClose],$[13]=onClose,$[14]=t9):t9=$[14];const handleClose=(0,src.hb)(t8,t9);let t10,t11,t12,t13,t14,t15,t16;return $[15]===Symbol.for("react.memo_cache_sentinel")?(t10={key:["esc"],editable:!0},$[15]=t10):t10=$[15],(0,keyboard._h)(forwardedRef,t10,handleClose),$[16]!==forwardedRef?(t11={ref:forwardedRef},$[16]=forwardedRef,$[17]=t11):t11=$[17],(0,useRovingTabIndex.A)(t11),$[18]!==forwardedRef?(t12={ref:forwardedRef},$[18]=forwardedRef,$[19]=t12):t12=$[19],(0,useFocusTrapping.A)(t12),$[20]!==hasLeadingZeros||$[21]!==is12Hour||$[22]!==localeData||$[23]!==onChange||$[24]!==setLocaleData?(t13=react.createElement(timePicker,{localeData,setLocaleData,onChange,is12Hour,hasLeadingZeros}),$[20]=hasLeadingZeros,$[21]=is12Hour,$[22]=localeData,$[23]=onChange,$[24]=setLocaleData,$[25]=t13):t13=$[25],$[26]!==onChange||$[27]!==onViewChange||$[28]!==value?(t14=react.createElement(datePicker,{currentDate:value,onChange,onViewChange}),$[26]=onChange,$[27]=onViewChange,$[28]=value,$[29]=t14):t14=$[29],$[30]!==canReset||$[31]!==onChange||$[32]!==onClose?(t15=canReset&&react.createElement(StyledButton,{size:button_constants.Mp.Small,onClick:()=>{onChange(null),onClose()},"aria-label":(0,i18n.__)("Reset publish time","web-stories")},(0,i18n.__)("Reset","web-stories")),$[30]=canReset,$[31]=onChange,$[32]=onClose,$[33]=t15):t15=$[33],$[34]!==forwardedRef||$[35]!==t13||$[36]!==t14||$[37]!==t15?(t16=react.createElement(DateTimeWrapper,{ref:forwardedRef},t13,t14,t15),$[34]=forwardedRef,$[35]=t13,$[36]=t14,$[37]=t15,$[38]=t16):t16=$[38],t16}DateTime.propTypes={onChange:prop_types_default().func.isRequired,onViewChange:prop_types_default().func,onClose:prop_types_default().func,value:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),is12Hour:prop_types_default().bool,hasLeadingZeros:prop_types_default().bool,forwardedRef:prop_types_default().object,canReset:prop_types_default().bool};styled_components_browser_esm.Ay.div.withConfig({displayName:"required__RequiredWrapper",componentId:"sc-19c61h7-0"})(["display:flex;flex-direction:row;justify-content:flex-start;align-items:center;"]),(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).attrs({as:"span",size:theme_types.$.XSmall}).withConfig({displayName:"required__StyledText",componentId:"sc-19c61h7-1"})(["color:",";font-size:12px;"],(({theme})=>theme.colors.fg.secondary));__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js");var visuallyHidden=__webpack_require__("./packages/design-system/src/theme/helpers/visuallyHidden.ts"),radio_radio=__webpack_require__("./packages/design-system/src/components/radio/radio.tsx");__webpack_require__("./packages/story-editor/src/components/form/shared/useRadioNavigation.js");styled_components_browser_esm.Ay.h3.withConfig({displayName:"radioGroup__VisuallyHiddenLabel",componentId:"sc-k5v4js-0"})(["",";"],visuallyHidden.Q),(0,styled_components_browser_esm.Ay)(radio_radio.A).withConfig({displayName:"radioGroup__StyledRadio",componentId:"sc-k5v4js-1"})(["input:focus + span,input:focus-visible + span{",";}"],(({theme})=>`box-shadow: 0px 0px 0 2px ${theme.colors.bg.secondary}, 0px 0px 0 4px ${theme.colors.border.focus} !important;`));var dropdown=__webpack_require__("./packages/design-system/src/components/dropDown/dropdown.tsx");function select_extends(){return select_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},select_extends.apply(null,arguments)}const Container=styled_components_browser_esm.Ay.div.withConfig({displayName:"select__Container",componentId:"sc-1pv4s6p-0"})(["position:relative;width:100%;"]),StyledDropDown=(0,styled_components_browser_esm.Ay)(dropdown.A).withConfig({displayName:"select__StyledDropDown",componentId:"sc-1pv4s6p-1"})(["background-color:transparent;border:0;width:auto;"]),menuStylesOverride=(0,styled_components_browser_esm.AH)(["top:-14px;right:unset;width:auto;"]),selectButtonStylesOverride=(0,styled_components_browser_esm.AH)(["border:none;width:auto;margin-right:auto;padding-left:0;",";"],styles.Y),selectValueStylesOverride=(0,styled_components_browser_esm.AH)(["margin-right:0;"]);const select_select=function Select(props){const $=(0,dist.c)(2);let t0;return $[0]!==props?(t0=react.createElement(Container,null,react.createElement(StyledDropDown,select_extends({isInline:!0,hasSearch:!1,menuStylesOverride,selectButtonStylesOverride,selectValueStylesOverride},props))),$[0]=props,$[1]=t0):t0=$[1],t0};__webpack_require__("./node_modules/core-js/modules/esnext.iterator.find.js");var scrollbar=__webpack_require__("./packages/design-system/src/theme/helpers/scrollbar.ts"),checkbox_checkbox=__webpack_require__("./packages/design-system/src/components/checkbox/checkbox.tsx"),useLiveRegion=__webpack_require__("./packages/design-system/src/utils/useLiveRegion.ts"),utils_constants=__webpack_require__("./packages/design-system/src/utils/constants.ts"),directionAware=__webpack_require__("./packages/story-editor/src/components/directionAware/index.js");__webpack_require__("./node_modules/core-js/modules/esnext.iterator.reduce.js");const fillTree=(groupedOptionsByParent,options=[])=>options.map((option=>{const children=groupedOptionsByParent[option.id];return{...option,options:children&&children.length?fillTree(groupedOptionsByParent,children):[]}})),buildOptionsTree=flatOptions=>{const formattedOptions=flatOptions.map((option=>({options:[],parent:0,...option}))),groupedOptionsByParent=(key="parent",formattedOptions.reduce(((prev,arrItem)=>(prev[arrItem[key]]?prev[arrItem[key]].push(arrItem):prev[arrItem[key]]=[arrItem],prev)),{}));var key;return fillTree(groupedOptionsByParent,groupedOptionsByParent[0])},filterOption=(option,labelText="")=>{const{options,...rest}=option;let newChildren=[];if(options)for(let i=0;i<options.length;i++)newChildren=newChildren.concat(filterOption(options[i],labelText));const newOption={...rest,options:newChildren};return option.label.toLowerCase().includes(labelText.trim().toLowerCase())||newChildren.length?[newOption]:[]},filterOptionsByLabelText=(options,labelText)=>options.reduce(((all,option)=>all.concat(filterOption(option,labelText))),[]);function flattenOptionTree(optionTree=[],level=0){return optionTree.flatMap((({options,...option})=>[{...option,$level:level},...flattenOptionTree(options,level+1)]))}function makeFlatOptionTree(categories,labelText=""){const optionTree=buildOptionsTree(categories);return flattenOptionTree(filterOptionsByLabelText(optionTree,labelText))}function hierarchical_extends(){return hierarchical_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hierarchical_extends.apply(null,arguments)}const hierarchical_Container=styled_components_browser_esm.Ay.div.withConfig({displayName:"hierarchical__Container",componentId:"sc-1pgjcwl-0"})(["margin-bottom:8px;display:block;"]),Label=(0,styled_components_browser_esm.Ay)(typography_text.E.Label).attrs({size:theme_types.$.Small}).withConfig({displayName:"hierarchical__Label",componentId:"sc-1pgjcwl-1"})(["margin:0 12px;"]),Border=styled_components_browser_esm.Ay.div.withConfig({displayName:"hierarchical__Border",componentId:"sc-1pgjcwl-2"})(["padding-top:4px;margin-top:-4px;border:1px solid ",";border-top:none;border-radius:",";"],(({theme})=>theme.colors.border.defaultNormal),(({theme})=>`0 0 ${theme.borders.radius.small} ${theme.borders.radius.small}`)),CheckboxArea=styled_components_browser_esm.Ay.ul.withConfig({displayName:"hierarchical__CheckboxArea",componentId:"sc-1pgjcwl-3"})(["max-height:175px;padding:12px 12px 0 12px;overflow-y:scroll;margin-top:4px;margin-bottom:0;",";:focus-within{",";}"],scrollbar.W,(({theme})=>outline.g(theme.colors.border.focus,theme.colors.bg.secondary))),CheckboxContainer=styled_components_browser_esm.Ay.li.withConfig({displayName:"hierarchical__CheckboxContainer",componentId:"sc-1pgjcwl-4"})(["display:flex;align-items:center;margin-bottom:8px;margin-left:","px;"],(({$level})=>20*$level)),NoResultsText=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).withConfig({displayName:"hierarchical__NoResultsText",componentId:"sc-1pgjcwl-5"})(["margin-bottom:12px;color:",";"],(({theme})=>theme.colors.fg.secondary)),buildOptionId=id=>`hierarchical_term_option_${id}`,Option=({optionRef={current:{}},$level=0,...option})=>{const{id,label,onBlur,onChange,onFocus,checked,value}=option,optionId=buildOptionId(option.id),optionName=`hierarchical_term_${option.label}`;return react.createElement(CheckboxContainer,{"aria-selected":checked,role:"treeitem",$level},react.createElement(checkbox_checkbox.A,{id:optionId,ref:node=>{optionRef.current[id]=node},value,checked,name:optionName,onChange:evt=>onChange(evt,option),onBlur,onFocus,tabIndex:-1}),react.createElement(Label,{htmlFor:optionId},label))},hierarchical=t0=>{const $=(0,dist.c)(72);let className,inputProps,inputValue,label,noOptionsText,onChange,onInputChange,options;$[0]!==t0?(({className,inputValue,onInputChange,label,noOptionsText,options,onChange,...inputProps}=t0),$[0]=t0,$[1]=className,$[2]=inputProps,$[3]=inputValue,$[4]=label,$[5]=noOptionsText,$[6]=onChange,$[7]=onInputChange,$[8]=options):(className=$[1],inputProps=$[2],inputValue=$[3],label=$[4],noOptionsText=$[5],onChange=$[6],onInputChange=$[7],options=$[8]);const speak=(0,useLiveRegion.A)("assertive"),debouncedSpeak=(0,src.YQ)(speak,500),checkboxListRef=(0,src.li)(null),inputRef=(0,src.li)(null),[focusedCheckboxId,setFocusedCheckboxId]=(0,src.J0)(-1);let t1;$[9]===Symbol.for("react.memo_cache_sentinel")?(t1={},$[9]=t1):t1=$[9];const optionRef=(0,src.li)(t1);let t2,t3;$[10]!==checkboxListRef.current||$[11]!==focusedCheckboxId||$[12]!==inputRef||$[13]!==optionRef||$[14]!==options||$[15]!==setFocusedCheckboxId?(t2=evt=>{if(document.activeElement===checkboxListRef.current){if(!options.length)return;if(checkboxListRef.current.contains(evt.relatedTarget))return void inputRef.current?.focus();if(-1===focusedCheckboxId){const firstCheckedOption=options.find(hierarchical_temp)?.id;setFocusedCheckboxId(firstCheckedOption||0)}else optionRef.current[focusedCheckboxId]?.focus()}},$[10]=checkboxListRef.current,$[11]=focusedCheckboxId,$[12]=inputRef,$[13]=optionRef,$[14]=options,$[15]=setFocusedCheckboxId,$[16]=t2):t2=$[16],$[17]!==focusedCheckboxId||$[18]!==options?(t3=[focusedCheckboxId,options],$[17]=focusedCheckboxId,$[18]=options,$[19]=t3):t3=$[19];const handleListboxFocus=(0,src.hb)(t2,t3);let t4,t5;$[20]!==focusedCheckboxId||$[21]!==options||$[22]!==setFocusedCheckboxId?(t4=evt_0=>{const currentSelectedIndex=options.findIndex((option_0=>option_0.id===focusedCheckboxId));bb40:switch(evt_0.key){case utils_constants.R.UP:currentSelectedIndex>0&&setFocusedCheckboxId(options[currentSelectedIndex-1].id);break bb40;case utils_constants.R.DOWN:currentSelectedIndex<options.length-1&&setFocusedCheckboxId(options[currentSelectedIndex+1].id)}},$[20]=focusedCheckboxId,$[21]=options,$[22]=setFocusedCheckboxId,$[23]=t4):t4=$[23],$[24]!==focusedCheckboxId||$[25]!==options?(t5=[options,focusedCheckboxId],$[24]=focusedCheckboxId,$[25]=options,$[26]=t5):t5=$[26];const handleKeyDown=(0,src.hb)(t4,t5);let t6,t7;$[27]!==onInputChange?(t6=evt_1=>{onInputChange(evt_1.target.value)},t7=[onInputChange],$[27]=onInputChange,$[28]=t6,$[29]=t7):(t6=$[28],t7=$[29]);const handleInputChange=(0,src.hb)(t6,t7);let t8,t9;$[30]!==onChange?(t8=(evt_2,option_1)=>{onChange(evt_2,{id:option_1.id,checked:!option_1.checked})},t9=[onChange],$[30]=onChange,$[31]=t8,$[32]=t9):(t8=$[31],t9=$[32]);const handleCheckboxChange=(0,src.hb)(t8,t9),previousInput=(0,src.ZC)(inputValue);let t10,t11,t12,t13,t14,t15;$[33]!==debouncedSpeak||$[34]!==inputValue||$[35]!==options.length||$[36]!==previousInput?(t10=()=>{if(previousInput!==inputValue){const count=options.length,message=(0,sprintf.A)((0,i18n._n)("%d result found.","%d results found.",count,"web-stories"),count);debouncedSpeak(message)}},$[33]=debouncedSpeak,$[34]=inputValue,$[35]=options.length,$[36]=previousInput,$[37]=t10):t10=$[37],$[38]!==debouncedSpeak||$[39]!==inputValue||$[40]!==options||$[41]!==previousInput?(t11=[debouncedSpeak,options,inputValue,previousInput],$[38]=debouncedSpeak,$[39]=inputValue,$[40]=options,$[41]=previousInput,$[42]=t11):t11=$[42],(0,src.vJ)(t10,t11),$[43]===Symbol.for("react.memo_cache_sentinel")?(t12={key:["up","down","shift+up","shift+down"]},$[43]=t12):t12=$[43],$[44]!==handleKeyDown?(t13=[handleKeyDown],$[44]=handleKeyDown,$[45]=t13):t13=$[45],(0,keyboard._h)(checkboxListRef,t12,handleKeyDown,t13),$[46]!==checkboxListRef.current||$[47]!==focusedCheckboxId||$[48]!==optionRef?(t14=()=>{checkboxListRef.current?.contains(document.activeElement)&&optionRef.current[focusedCheckboxId]?.focus()},$[46]=checkboxListRef.current,$[47]=focusedCheckboxId,$[48]=optionRef,$[49]=t14):t14=$[49],$[50]!==focusedCheckboxId?(t15=[focusedCheckboxId],$[50]=focusedCheckboxId,$[51]=t15):t15=$[51],(0,src.vJ)(t14,t15);const showOptionArea=Boolean(options.length)||Boolean(inputValue.length);let t16,t17,t18,t19;return $[52]===Symbol.for("react.memo_cache_sentinel")?(t16=(0,i18n.__)("Search","web-stories"),$[52]=t16):t16=$[52],$[53]!==handleInputChange||$[54]!==inputProps||$[55]!==inputRef||$[56]!==inputValue||$[57]!==label?(t17=react.createElement(input.A,hierarchical_extends({ref:inputRef,value:inputValue,onChange:handleInputChange,label,type:"search",placeholder:t16},inputProps)),$[53]=handleInputChange,$[54]=inputProps,$[55]=inputRef,$[56]=inputValue,$[57]=label,$[58]=t17):t17=$[58],$[59]!==checkboxListRef||$[60]!==focusedCheckboxId||$[61]!==handleCheckboxChange||$[62]!==handleListboxFocus||$[63]!==noOptionsText||$[64]!==optionRef||$[65]!==options||$[66]!==showOptionArea?(t18=showOptionArea&&react.createElement(Border,null,react.createElement(directionAware.A,null,react.createElement(CheckboxArea,{id:"checkbox_list",ref:checkboxListRef,tabIndex:0,onFocus:handleListboxFocus,role:"tree","aria-activedescendant":-1!==focusedCheckboxId?buildOptionId(focusedCheckboxId):void 0,"aria-multiselectable":!0},options.length?options.map((option_2=>react.createElement(Option,hierarchical_extends({key:option_2.id},option_2,{onChange:handleCheckboxChange,optionRef})))):react.createElement(NoResultsText,{role:"treeitem",size:theme_types.$.Small},noOptionsText)))),$[59]=checkboxListRef,$[60]=focusedCheckboxId,$[61]=handleCheckboxChange,$[62]=handleListboxFocus,$[63]=noOptionsText,$[64]=optionRef,$[65]=options,$[66]=showOptionArea,$[67]=t18):t18=$[67],$[68]!==className||$[69]!==t17||$[70]!==t18?(t19=react.createElement(hierarchical_Container,{className},t17,t18),$[68]=className,$[69]=t17,$[70]=t18,$[71]=t19):t19=$[71],t19};function hierarchical_temp(option){return option.checked}},"./packages/story-editor/src/components/form/shared/useRadioNavigation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx");const __WEBPACK_DEFAULT_EXPORT__=function useRadioNavigation(ref){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(16);let t0,t1;$[0]!==ref.current?(t0=direction=>{const radioGroup=ref.current;if(!radioGroup)return;const list=Array.from(radioGroup.querySelectorAll('input[type="radio"]')),currentIndex=list.indexOf(document.activeElement);if(-1===currentIndex)return;const newIndex=currentIndex+direction;newIndex<0||newIndex>=list.length||(list[newIndex].focus(),list[newIndex].click())},$[0]=ref.current,$[1]=t0):t0=$[1],$[2]!==ref?(t1=[ref],$[2]=ref,$[3]=t1):t1=$[3];const changeCurrent=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)(t0,t1);let t2,t3;$[4]!==changeCurrent?(t2=()=>changeCurrent(-1),t3=[changeCurrent],$[4]=changeCurrent,$[5]=t2,$[6]=t3):(t2=$[5],t3=$[6]);const handlePrevious=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)(t2,t3);let t4,t5,t6,t7;$[7]===Symbol.for("react.memo_cache_sentinel")?(t4=["up","left"],$[7]=t4):t4=$[7],$[8]!==handlePrevious?(t5=[handlePrevious],$[8]=handlePrevious,$[9]=t5):t5=$[9],(0,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__._h)(ref,t4,handlePrevious,t5),$[10]!==changeCurrent?(t6=()=>changeCurrent(1),t7=[changeCurrent],$[10]=changeCurrent,$[11]=t6,$[12]=t7):(t6=$[11],t7=$[12]);const handleNext=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)(t6,t7);let t8,t9;$[13]===Symbol.for("react.memo_cache_sentinel")?(t8=["down","right"],$[13]=t8):t8=$[13],$[14]!==handleNext?(t9=[handleNext],$[14]=handleNext,$[15]=t9):t9=$[15],(0,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__._h)(ref,t8,handleNext,t9)}},"./packages/story-editor/src/components/form/usePresubmitHandler.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>form_usePresubmitHandler});var src=__webpack_require__("./packages/react/src/index.ts"),context=__webpack_require__("./packages/story-editor/src/components/form/context.js");const form_useFormContext=function useFormContext(selector){return(0,src.i7)(context.A,selector??src.D_)};const form_usePresubmitHandler=function usePresubmitHandler(handler,deps=void 0){const registerPresubmitHandler=form_useFormContext((value=>value.registerPresubmitHandler));(0,src.vJ)((()=>registerPresubmitHandler(handler)),[registerPresubmitHandler].concat(deps||[]))}},"./packages/story-editor/src/components/hotlinkModal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>hotlinkModal});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),input=__webpack_require__("./packages/design-system/src/components/input/input.tsx"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),src=__webpack_require__("./packages/react/src/index.ts"),dialog=__webpack_require__("./packages/story-editor/src/components/dialog/index.js"),url=__webpack_require__("./packages/url/src/url.ts"),getImageDimensions=__webpack_require__("./packages/media/src/getImageDimensions.ts"),useCORSProxy=__webpack_require__("./packages/story-editor/src/utils/useCORSProxy.ts"),useAPI=__webpack_require__("./packages/story-editor/src/app/api/useAPI.ts"),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),translateToExclusiveList=__webpack_require__("./packages/i18n/src/translateToExclusiveList.ts"),translateWithMarkup=__webpack_require__("./packages/i18n/src/translateWithMarkup.tsx"),tracking_src=__webpack_require__("./packages/tracking/src/index.ts"),typography_link=__webpack_require__("./packages/design-system/src/components/typography/link/index.tsx"),types=__webpack_require__("./packages/design-system/src/theme/types.ts");function isValidUrlForHotlinking(url){try{return"/"!==new URL(url).pathname}catch{return!1}}function CORSMessage(){const $=(0,dist.c)(1),onDocsClick=_temp;let t0;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=react.createElement(translateWithMarkup.A,{mapping:{a:react.createElement(typography_link.N,{size:types.$.Medium,href:"https://wp.stories.google/docs/troubleshooting/common-issues/",target:"_blank",rel:"noreferrer",onClick:onDocsClick})}},(0,i18n.__)("Unable to load media. Make sure CORS is set up correctly for the file. <a>Learn more</a>.","web-stories")),$[0]=t0):t0=$[0],t0}function _temp(evt){return(0,tracking_src.MP)(evt,"click_cors_check_docs")}const hotlinkModal_useHotlinkModal=function useHotlinkModal({onSelect,onClose,onError,allowedFileTypes,canUseProxy,requiredImgDimensions}){const[isInserting,setIsInserting]=(0,src.J0)(!1),[link,setLink]=(0,src.J0)(""),[errorMsg,setErrorMsg]=(0,src.J0)(null),{actions:{getHotlinkInfo}}=(0,useAPI.A)(),{checkResourceAccess,getProxiedUrl}=(0,useCORSProxy.A)(),isDisabled=errorMsg||!link||isInserting,description=function getHotlinkDescription(allowedFileTypes){let description=(0,i18n.__)("No file types are currently supported.","web-stories");return allowedFileTypes.length&&(description=(0,sprintf.A)((0,i18n.__)("You can insert %s.","web-stories"),(0,translateToExclusiveList.A)(allowedFileTypes))),description}(allowedFileTypes),onBlur=(0,src.hb)((()=>{if(link?.length>0){const newLink=(0,url.x6)(link.trim());setLink(newLink),isValidUrlForHotlinking(newLink)||setErrorMsg((0,i18n.__)("Invalid link.","web-stories"))}}),[link,setErrorMsg,setLink]),onChange=(0,src.hb)((({target:{value}})=>{errorMsg&&setErrorMsg(null),setLink(value)}),[errorMsg,setLink,setErrorMsg]),onCloseDialog=(0,src.hb)((()=>{onClose(),setLink(""),setErrorMsg(null),setIsInserting(!1)}),[onClose]),onInsert=(0,src.hb)((async()=>{if(link)if(isValidUrlForHotlinking(link)){setIsInserting(!0);try{const hotlinkInfo=await getHotlinkInfo(link);if(!allowedFileTypes.includes(hotlinkInfo?.ext))return void setErrorMsg((0,i18n.__)("Invalid link.","web-stories"));const needsProxy=await checkResourceAccess(link);if(needsProxy&&!canUseProxy)return void setErrorMsg(react.createElement(CORSMessage,null));if("image"===hotlinkInfo?.type&&requiredImgDimensions){const proxiedUrl=needsProxy?getProxiedUrl({needsProxy},link):link,dimensions=await(0,getImageDimensions.A)(proxiedUrl),errorMessage=function checkImageDimensions(suppliedWidth,suppliedHeight,requiredWidth,requiredHeight){return requiredHeight&&requiredHeight!==suppliedHeight&&requiredWidth&&requiredWidth!==suppliedWidth?(0,sprintf.A)((0,i18n.__)("Image dimensions (%1$s) do not match required image dimensions (%2$s).","web-stories"),`${suppliedWidth}x${suppliedHeight}px`,`${requiredWidth}x${requiredHeight}px`):requiredHeight&&requiredHeight!==suppliedHeight?(0,sprintf.A)((0,i18n.__)("Image height (%1$s) does not match required image height (%2$s).","web-stories"),`${suppliedHeight}px`,`${requiredHeight}px`):requiredWidth&&requiredWidth!==suppliedWidth?(0,sprintf.A)((0,i18n.__)("Image width (%1$s) does not match required image width (%2$s).","web-stories"),`${suppliedWidth}px`,`${requiredWidth}px`):null}(dimensions.width,dimensions.height,requiredImgDimensions?.width,requiredImgDimensions?.height);if(errorMessage)return void setErrorMsg(errorMessage);hotlinkInfo.width=dimensions.width,hotlinkInfo.height=dimensions.height}await onSelect({link,hotlinkInfo,needsProxy}),setLink(""),setErrorMsg(null)}catch(err){onError&&onError(err),setErrorMsg(function getErrorMessage(code,description){switch(code){case"rest_invalid_param":case"rest_invalid_url":return(0,i18n.__)("Invalid link.","web-stories");case"rest_invalid_ext":return(0,sprintf.A)((0,i18n.__)("Invalid link. %s","web-stories"),description);default:return(0,i18n.__)("Media failed to load. Please ensure the link is valid and the site allows linking from external sites.","web-stories")}}(err.code,description))}finally{setIsInserting(!1)}}else setErrorMsg((0,i18n.__)("Invalid link.","web-stories"))}),[link,getHotlinkInfo,allowedFileTypes,checkResourceAccess,canUseProxy,requiredImgDimensions,onSelect,getProxiedUrl,onError,description]);return{action:{onChange,onSubmit:(0,src.hb)((evt=>{evt.preventDefault(),isDisabled||onInsert()}),[isDisabled,onInsert]),onBlur,onCloseDialog,onInsert},state:{description,isInserting,link,errorMsg,isDisabled}}},InputWrapper=styled_components_browser_esm.Ay.form.withConfig({displayName:"hotlinkModal__InputWrapper",componentId:"sc-21vzo8-0"})(["margin:16px 4px;width:470px;height:100px;"]);function HotlinkModal(t0){const $=(0,dist.c)(41),{isOpen,onClose,onSelect,onError,allowedFileTypes:t1,insertText:t2,insertingText:t3,title,canUseProxy:t4,requiredImgDimensions:t5}=t0;let t6;$[0]!==t1?(t6=void 0===t1?[]:t1,$[0]=t1,$[1]=t6):t6=$[1];const allowedFileTypes=t6;let t7;$[2]!==t2?(t7=void 0===t2?(0,i18n.__)("Insert","web-stories"):t2,$[2]=t2,$[3]=t7):t7=$[3];const insertText=t7;let t8;$[4]!==t3?(t8=void 0===t3?(0,i18n.__)("Inserting","web-stories"):t3,$[4]=t3,$[5]=t8):t8=$[5];const insertingText=t8,canUseProxy=void 0===t4||t4;let t9;$[6]!==t5?(t9=void 0===t5?{}:t5,$[6]=t5,$[7]=t9):t9=$[7];const requiredImgDimensions=t9,inputRef=(0,src.li)(null);let t10;$[8]!==allowedFileTypes||$[9]!==canUseProxy||$[10]!==onClose||$[11]!==onError||$[12]!==onSelect||$[13]!==requiredImgDimensions?(t10={allowedFileTypes,onClose,onError,onSelect,canUseProxy,requiredImgDimensions},$[8]=allowedFileTypes,$[9]=canUseProxy,$[10]=onClose,$[11]=onError,$[12]=onSelect,$[13]=requiredImgDimensions,$[14]=t10):t10=$[14];const{action:t11,state:t12}=hotlinkModal_useHotlinkModal(t10),{onSubmit,onBlur,onChange,onCloseDialog,onInsert}=t11,{errorMsg,isInserting,link,description,isDisabled}=t12,primaryText=isInserting?insertingText:insertText;let t13,t14,t15,t16;$[15]!==inputRef||$[16]!==isOpen?(t13=()=>{const timeout=setTimeout((()=>{isOpen&&inputRef.current&&inputRef.current.focus()}));return()=>clearTimeout(timeout)},t14=[isOpen,inputRef],$[15]=inputRef,$[16]=isOpen,$[17]=t13,$[18]=t14):(t13=$[17],t14=$[18]),(0,src.Nf)(t13,t14),$[19]===Symbol.for("react.memo_cache_sentinel")?(t15=(0,i18n.__)("Cancel","web-stories"),$[19]=t15):t15=$[19],$[20]!==isDisabled?(t16={disabled:isDisabled},$[20]=isDisabled,$[21]=t16):t16=$[21];const t17=errorMsg||description,t18=Boolean(errorMsg);let t19,t20,t21,t22;return $[22]===Symbol.for("react.memo_cache_sentinel")?(t19=(0,i18n.__)("URL","web-stories"),$[22]=t19):t19=$[22],$[23]!==inputRef||$[24]!==link||$[25]!==onBlur||$[26]!==onChange||$[27]!==t17||$[28]!==t18?(t20=react.createElement(input.A,{ref:inputRef,onChange,value:link,hint:t17,hasError:t18,onBlur,label:t19,type:"url",required:!0}),$[23]=inputRef,$[24]=link,$[25]=onBlur,$[26]=onChange,$[27]=t17,$[28]=t18,$[29]=t20):t20=$[29],$[30]!==onSubmit||$[31]!==t20?(t21=react.createElement(InputWrapper,{onSubmit},t20),$[30]=onSubmit,$[31]=t20,$[32]=t21):t21=$[32],$[33]!==isOpen||$[34]!==onCloseDialog||$[35]!==onInsert||$[36]!==primaryText||$[37]!==t16||$[38]!==t21||$[39]!==title?(t22=react.createElement(dialog.A,{onClose:onCloseDialog,isOpen,title,onPrimary:onInsert,primaryText,secondaryText:t15,primaryRest:t16},t21),$[33]=isOpen,$[34]=onCloseDialog,$[35]=onInsert,$[36]=primaryText,$[37]=t16,$[38]=t21,$[39]=title,$[40]=t22):t22=$[40],t22}HotlinkModal.propTypes={allowedFileTypes:prop_types_default().array,insertText:prop_types_default().string,insertingText:prop_types_default().string,isOpen:prop_types_default().bool.isRequired,onClose:prop_types_default().func.isRequired,onError:prop_types_default().func,onSelect:prop_types_default().func.isRequired,title:prop_types_default().string.isRequired,canUseProxy:prop_types_default().bool,requiredImgDimensions:prop_types_default().shape({width:prop_types_default().number,height:prop_types_default().number})};const hotlinkModal=HotlinkModal},"./packages/story-editor/src/constants/zIndex.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GM:()=>Z_INDEX_FOOTER,Gu:()=>Z_INDEX_RECORDING_MODE,PK:()=>Z_INDEX_GRID_VIEW_SLIDER,Ry:()=>Z_INDEX_FLOATING_MENU,VT:()=>Z_INDEX_CANVAS_SIDE_MENU_RECORDING_MODE,Vg:()=>Z_INDEX_EDIT_LAYER,Xl:()=>Z_INDEX_STORY_DETAILS,jN:()=>Z_INDEX_TIME_PICKER_TOOLTIP,ll:()=>Z_INDEX_CANVAS_SIDE_MENU,mD:()=>Z_INDEX_NAV_LAYER,qR:()=>Z_INDEX_LIBRARY_ACTION_BUTTON});const Z_INDEX_STORY_DETAILS=10,Z_INDEX_CANVAS_SIDE_MENU=3,Z_INDEX_FLOATING_MENU=4,Z_INDEX_EDIT_LAYER=3,Z_INDEX_NAV_LAYER=5,Z_INDEX_RECORDING_MODE=6,Z_INDEX_CANVAS_SIDE_MENU_RECORDING_MODE=7,Z_INDEX_FOOTER=3,Z_INDEX_GRID_VIEW_SLIDER=11,Z_INDEX_TIME_PICKER_TOOLTIP=11,Z_INDEX_LIBRARY_ACTION_BUTTON=20}}]);