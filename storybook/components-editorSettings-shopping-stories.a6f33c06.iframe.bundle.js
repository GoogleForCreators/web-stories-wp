"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[6449],{"./packages/design-system/src/components/circularProgress/circular.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),react_transition_group__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts");const wrapperRotation=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.i7)(["100%{transform:rotate(360deg)}"]),circleRotation=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.i7)(["0%{stroke-dasharray:1,200;stroke-dashoffset:0;}50%{stroke-dasharray:100,200;stroke-dashoffset:-15;}100%{stroke-dasharray:100,200;stroke-dashoffset:-125;}"]),Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.attrs({role:"progressbar"}).withConfig({displayName:"circular__Wrapper",componentId:"sc-9ce9zw-0"})(["width:",";height:",";animation:"," 1.4s linear infinite;"],(({size})=>`${size}px`),(({size})=>`${size}px`),wrapperRotation),StyledSpinner=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.svg.withConfig({displayName:"circular__StyledSpinner",componentId:"sc-9ce9zw-1"})(["display:block;"]),StyledCircle=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.circle.withConfig({displayName:"circular__StyledCircle",componentId:"sc-9ce9zw-2"})(["animation:"," 1.4s ease-in-out infinite;stroke:",";"],circleRotation,(({theme})=>`${theme.colors.accent.secondary}`));const __WEBPACK_DEFAULT_EXPORT__=function CircularProgress(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(14),{size:t1,thickness:t2}=t0,size=void 0===t1?24:t1,thickness=void 0===t2?2:t2,nodeRef=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.li)(null),t3=`${size/2} ${size/2} ${size} ${size}`,t4=(size-thickness)/2;let t5,t6,t7,t8;return $[0]!==size||$[1]!==t4||$[2]!==thickness?(t5=react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledCircle,{cx:size,cy:size,r:t4,fill:"none",strokeWidth:thickness,stroke:"currentColor"}),$[0]=size,$[1]=t4,$[2]=thickness,$[3]=t5):t5=$[3],$[4]!==t3||$[5]!==t5?(t6=react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledSpinner,{viewBox:t3},t5),$[4]=t3,$[5]=t5,$[6]=t6):t6=$[6],$[7]!==nodeRef||$[8]!==size||$[9]!==t6?(t7=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper,{ref:nodeRef,size},t6),$[7]=nodeRef,$[8]=size,$[9]=t6,$[10]=t7):t7=$[10],$[11]!==nodeRef||$[12]!==t7?(t8=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_4__.A,{nodeRef,in:!0,appear:!0,timeout:0},t7),$[11]=nodeRef,$[12]=t7,$[13]=t8):t8=$[13],t8}},"./packages/wp-dashboard/src/components/editorSettings/components.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$D:()=>Error,$j:()=>MenuContainer,BO:()=>SettingForm,Cw:()=>UploadedContainer,IT:()=>VisuallyHiddenLabel,J2:()=>TestConnectionButton,Q2:()=>ConnectionHelperText,Qe:()=>MultilineForm,Rw:()=>TextInputHelperText,Sb:()=>CheckboxLabel,Zs:()=>CheckboxLabelText,gH:()=>InlineLink,gq:()=>GridItemButton,gu:()=>Logo,hi:()=>SettingsTextInput,kQ:()=>InlineForm,nq:()=>SettingHeading,o5:()=>CenterMutedText,rF:()=>LogoMenuButton,rW:()=>SettingSubheading,xE:()=>GridItemContainer,yY:()=>SaveButton});var styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/typography/headline/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/typography/link/index.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/design-system/src/theme/helpers/visuallyHidden.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/design-system/src/components/input/input.tsx"),_googleforcreators_dashboard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/dashboard/src/index.js");styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"editorSettings__Wrapper",componentId:"sc-1y9ilpk-0"})([""]),(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_dashboard__WEBPACK_IMPORTED_MODULE_0__.Zo).withConfig({displayName:"editorSettings__Main",componentId:"sc-1y9ilpk-1"})(["display:flex;flex-direction:column;padding-top:36px;margin-top:20px;margin-bottom:56px;max-width:945px;"]);const SettingForm=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.form.withConfig({displayName:"editorSettings__SettingForm",componentId:"sc-1y9ilpk-2"})(["display:grid;grid-template-columns:27% minmax(400px,1fr);column-gap:6.56%;padding-bottom:52px;@media ","{grid-template-columns:100%;row-gap:20px;}"],(({theme})=>theme.breakpoint.mobile)),SettingHeading=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__.$).attrs({as:"h3"}).withConfig({displayName:"editorSettings__SettingHeading",componentId:"sc-1y9ilpk-3"})(["",";margin:8px 0;"],(({theme})=>_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__.s({preset:{...theme.typography.presets.label[_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.$.Large]},theme}))),InlineLink=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.N).withConfig({displayName:"editorSettings__InlineLink",componentId:"sc-1y9ilpk-4"})(["display:inline-block;"]),HelperText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.E.Paragraph).withConfig({displayName:"editorSettings__HelperText",componentId:"sc-1y9ilpk-5"})(["color:",";"],(({theme})=>theme.colors.fg.tertiary)),ConnectionHelperText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.E.Paragraph).withConfig({displayName:"editorSettings__ConnectionHelperText",componentId:"sc-1y9ilpk-6"})(["padding-top:12px;color:",";"],(({hasError,theme})=>hasError?theme.colors.fg.negative:theme.colors.fg.tertiary)),CenterMutedText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.E.Paragraph).withConfig({displayName:"editorSettings__CenterMutedText",componentId:"sc-1y9ilpk-7"})(["color:",";text-align:center;"],(({theme})=>theme.colors.fg.tertiary)),SettingSubheading=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(HelperText).withConfig({displayName:"editorSettings__SettingSubheading",componentId:"sc-1y9ilpk-8"})(["padding:8px 0;"]),TextInputHelperText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(HelperText).withConfig({displayName:"editorSettings__TextInputHelperText",componentId:"sc-1y9ilpk-9"})(["padding-top:12px;"]),CheckboxLabel=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.E.Label).withConfig({displayName:"editorSettings__CheckboxLabel",componentId:"sc-1y9ilpk-10"})(["display:flex;justify-content:flex-start;margin-top:8px;cursor:pointer;"]),CheckboxLabelText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(HelperText).withConfig({displayName:"editorSettings__CheckboxLabelText",componentId:"sc-1y9ilpk-11"})(["margin-left:8px;"]),Error=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(CenterMutedText).withConfig({displayName:"editorSettings__Error",componentId:"sc-1y9ilpk-12"})(["padding-bottom:10px;color:",";"],(({theme})=>theme.colors.fg.negative)),UploadedContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"editorSettings__UploadedContainer",componentId:"sc-1y9ilpk-13"})(["display:grid;grid-template-columns:repeat(auto-fill,102px);grid-auto-rows:102px;grid-column-gap:12px;grid-row-gap:20px;padding-bottom:20px;margin-bottom:4px;border:1px solid transparent;",";"],_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.Q),GridItemContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"editorSettings__GridItemContainer",componentId:"sc-1y9ilpk-14"})(["position:relative;",";&:hover,&:focus-within{button{opacity:1 !important;}}"],(({active,theme})=>active&&(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.AH)(["border:1px solid ",";border-radius:",";"],theme.colors.border.defaultActive,theme.borders.radius.small))),GridItemButton=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.button.withConfig({displayName:"editorSettings__GridItemButton",componentId:"sc-1y9ilpk-15"})(["display:block;background-color:transparent;border:2px solid transparent;width:100%;height:100%;border-radius:4px;padding:0;",";"],_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.Q),Logo=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.img.withConfig({displayName:"editorSettings__Logo",componentId:"sc-1y9ilpk-16"})(["object-fit:cover;width:100%;height:100%;border-radius:4px;"]),MenuContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"editorSettings__MenuContainer",componentId:"sc-1y9ilpk-17"})(["position:absolute;top:0;width:100%;height:100%;"]),LogoMenuButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.$).attrs({size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.Mp.Small,type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.VQ.Secondary,variant:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.Ak.Circle}).withConfig({displayName:"editorSettings__LogoMenuButton",componentId:"sc-1y9ilpk-18"})(["opacity:",";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],(({isActive,menuOpen})=>menuOpen||isActive?1:0)),SaveButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.$).withConfig({displayName:"editorSettings__SaveButton",componentId:"sc-1y9ilpk-19"})(["height:36px;"]),TestConnectionButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.$).withConfig({displayName:"editorSettings__TestConnectionButton",componentId:"sc-1y9ilpk-20"})(["height:36px;margin-top:12px;"]),InlineForm=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"editorSettings__InlineForm",componentId:"sc-1y9ilpk-21"})(["display:flex;align-items:flex-start;"]),VisuallyHiddenLabel=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.label.withConfig({displayName:"editorSettings__VisuallyHiddenLabel",componentId:"sc-1y9ilpk-22"})(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.Q),SettingsTextInput=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__.A).withConfig({displayName:"editorSettings__SettingsTextInput",componentId:"sc-1y9ilpk-23"})(["margin-right:8px;"]),MultilineForm=(styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.span.withConfig({displayName:"editorSettings__VisuallyHiddenDescription",componentId:"sc-1y9ilpk-24"})(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.Q),(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(SettingForm).withConfig({displayName:"editorSettings__MultilineForm",componentId:"sc-1y9ilpk-25"})(["margin-bottom:28px;","{margin-top:20px;}"],InlineForm))},"./packages/wp-dashboard/src/components/editorSettings/shopping/stories/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_default:()=>_default,default:()=>stories});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),src=__webpack_require__("./packages/react/src/index.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),translateWithMarkup=__webpack_require__("./packages/i18n/src/translateWithMarkup.tsx"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),tracking_src=__webpack_require__("./packages/tracking/src/index.ts"),components=__webpack_require__("./packages/wp-dashboard/src/components/editorSettings/components.js"),constants=__webpack_require__("./packages/wp-dashboard/src/constants/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),useLiveRegion=__webpack_require__("./packages/design-system/src/utils/useLiveRegion.ts"),button_constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),circular=__webpack_require__("./packages/design-system/src/components/circularProgress/circular.tsx"),dashboard_src=__webpack_require__("./packages/dashboard/src/index.js");const hostPattern=/[\w-]+\.myshopify\.com/i;function isValidShopifyHost(value=""){return Boolean(value.toLowerCase().match(hostPattern))}const Loading=styled_components_browser_esm.Ay.div.withConfig({displayName:"shopify__Loading",componentId:"sc-ur0gaq-0"})(["position:relative;margin-top:10px;"]),Spinner=styled_components_browser_esm.Ay.div.withConfig({displayName:"shopify__Spinner",componentId:"sc-ur0gaq-1"})(["position:absolute;top:0;"]),TEXT={HOST_CONTEXT:(0,sprintf.A)((0,i18n.__)("Without <code>%1$s</code> or <code>%2$s</code>. Example: %3$s. <a>Find your URL</a>.","web-stories"),"https://","www.","yourstore.myshopify.com"),HOST_CONTEXT_LINK:(0,i18n.__)("https://help.shopify.com/en/manual/domains","web-stories"),HOST_PLACEHOLDER:(0,i18n.__)("Enter your .myshopify.com domain","web-stories"),HOST_LABEL:(0,i18n.__)("Shopify Domain","web-stories"),ACCESS_TOKEN_CONTEXT:(0,i18n.__)("<a>Learn how to get one</a>.","web-stories"),ACCESS_TOKEN_CONTEXT_LINK:(0,i18n.__)("https://help.shopify.com/en/manual/apps/custom-apps#get-the-api-credentials-for-a-custom-app","web-stories"),ACCESS_TOKEN_PLACEHOLDER:(0,i18n.__)("Enter your API access token","web-stories"),ACCESS_TOKEN_LABEL:(0,i18n.__)("Storefront API Access Token","web-stories"),INPUT_ERROR:(0,i18n.__)("Invalid format","web-stories"),SUBMIT_BUTTON:(0,i18n.__)("Save","web-stories"),CONNECTION_TEST_BUTTON:(0,i18n.__)("Test connection","web-stories"),CONNECTION_CHECKING:(0,i18n.__)("Testing connectionâ€¦","web-stories"),CONNECTION_SUCCESS:(0,i18n.__)("Connection successful","web-stories"),CONNECTION_ERROR_DEFAULT:(0,i18n.__)("Connection failed. Please try again.","web-stories")};const shopify=function ShopifySettings({host:shopifyHost,accessToken:shopifyAccessToken,handleUpdateHost,handleUpdateAccessToken}){const speak=(0,useLiveRegion.A)(),[host,setHost]=(0,src.J0)(shopifyHost),[hostInputError,setHostInputError]=(0,src.J0)(""),canSaveHost=host!==shopifyHost&&!hostInputError,disableHostSaveButton=!canSaveHost,[accessToken,setAccessToken]=(0,src.J0)(shopifyAccessToken),[accessTokenInputError,setAccessTokenInputError]=(0,src.J0)(""),canSaveAccessToken=accessToken!==shopifyAccessToken&&!accessTokenInputError,disableAccessTokenSaveButton=!canSaveAccessToken,{apiCallbacks:{getProducts}}=(0,dashboard_src.UK)(),[isTestingConnection,setIsTestingConnection]=(0,src.J0)(!1),[testConnectionStatus,setTestConnectionStatus]=(0,src.J0)(""),[hasConnectionError,setHasConnectionError]=(0,src.J0)(!1);(0,src.vJ)((()=>{setHost(shopifyHost)}),[shopifyHost]),(0,src.vJ)((()=>{setAccessToken(shopifyAccessToken)}),[shopifyAccessToken]);const onUpdateHost=(0,src.hb)((event=>{const{value}=event.target;setHost(value),0===value.length||isValidShopifyHost(value)?setHostInputError(""):setHostInputError(TEXT.INPUT_ERROR)}),[]),onHostBlur=(0,src.hb)((event_0=>{const{value:value_0}=event_0.target;isValidShopifyHost(value_0)&&setHost(value_0.match(hostPattern)[0])}),[]),onSaveHost=(0,src.hb)((()=>{canSaveHost&&handleUpdateHost(host)}),[canSaveHost,host,handleUpdateHost]),onKeyDownHost=(0,src.hb)((e=>{"Enter"===e.key&&(e.preventDefault(),onSaveHost())}),[onSaveHost]),onUpdateAccessToken=(0,src.hb)((event_1=>{const{value:value_1}=event_1.target;setAccessTokenInputError(""),setAccessToken(value_1)}),[]),onSaveAccessToken=(0,src.hb)((()=>{canSaveAccessToken&&handleUpdateAccessToken(accessToken)}),[canSaveAccessToken,accessToken,handleUpdateAccessToken]),onKeyDownAccessToken=(0,src.hb)((e_0=>{"Enter"===e_0.key&&(e_0.preventDefault(),onSaveAccessToken())}),[onSaveAccessToken]),onTestConnection=(0,src.hb)((async()=>{setHasConnectionError(!1),setIsTestingConnection(!0),speak(TEXT.CONNECTION_CHECKING),(0,tracking_src.sx)("test_shopping_connection");try{await getProducts((new Date).getTime()),setTestConnectionStatus(TEXT.CONNECTION_SUCCESS),speak(TEXT.CONNECTION_SUCCESS)}catch(e_1){(0,tracking_src.Oz)("test_shopping_connection",e_1?.message),setHasConnectionError(!0),setTestConnectionStatus(TEXT.CONNECTION_ERROR_DEFAULT),speak(TEXT.CONNECTION_ERROR_DEFAULT)}finally{setIsTestingConnection(!1)}}),[getProducts,speak]),canTestConnection=host&&!hostInputError&&accessToken&&!accessTokenInputError&&!isTestingConnection,handleClick=(0,src.hb)((evt=>(0,tracking_src.MP)(evt,"click_shopify_docs")),[]);return react.createElement(react.Fragment,null,react.createElement(components.kQ,null,react.createElement(components.IT,{htmlFor:"shopifyHost"},TEXT.HOST_LABEL),react.createElement(components.hi,{"aria-label":TEXT.HOST_LABEL,id:"shopifyHost",name:"shopifyHost","data-testid":"shopifyHost",value:host,onChange:onUpdateHost,onKeyDown:onKeyDownHost,onBlur:onHostBlur,placeholder:TEXT.HOST_PLACEHOLDER,hasError:Boolean(hostInputError),hint:hostInputError}),react.createElement(components.yY,{type:button_constants.VQ.Secondary,size:button_constants.Mp.Small,disabled:disableHostSaveButton,onClick:onSaveHost,"data-testid":"shopifyHostButton"},TEXT.SUBMIT_BUTTON)),react.createElement(components.Rw,{size:types.$.Small},react.createElement(translateWithMarkup.A,{mapping:{a:react.createElement(components.gH,{href:TEXT.HOST_CONTEXT_LINK,rel:"noreferrer",target:"_blank",onClick:handleClick,size:types.$.Small})}},TEXT.HOST_CONTEXT)),react.createElement(components.kQ,null,react.createElement(components.IT,{htmlFor:"shopifyAccessToken"},TEXT.ACCESS_TOKEN_LABEL),react.createElement(components.hi,{id:"shopifyAccessToken","aria-label":TEXT.ACCESS_TOKEN_LABEL,name:"shopifyAccessToken","data-testid":"shopifyAccessToken",value:accessToken,onChange:onUpdateAccessToken,onKeyDown:onKeyDownAccessToken,placeholder:TEXT.ACCESS_TOKEN_PLACEHOLDER,hasError:Boolean(accessTokenInputError),hint:accessTokenInputError}),react.createElement(components.yY,{type:button_constants.VQ.Secondary,size:button_constants.Mp.Small,disabled:disableAccessTokenSaveButton,onClick:onSaveAccessToken,"data-testid":"shopifyAccessTokenButton"},TEXT.SUBMIT_BUTTON)),react.createElement(components.Rw,{size:types.$.Small},react.createElement(translateWithMarkup.A,{mapping:{a:react.createElement(components.gH,{href:TEXT.ACCESS_TOKEN_CONTEXT_LINK,rel:"noreferrer",target:"_blank",size:types.$.Small})}},TEXT.ACCESS_TOKEN_CONTEXT)),react.createElement(components.J2,{onFocus:()=>setTestConnectionStatus(""),type:button_constants.VQ.Secondary,size:button_constants.Mp.Small,disabled:!canTestConnection,onClick:onTestConnection},isTestingConnection?TEXT.CONNECTION_CHECKING:TEXT.CONNECTION_TEST_BUTTON),isTestingConnection&&react.createElement(Loading,null,react.createElement(Spinner,null,react.createElement(circular.A,{size:24}))),testConnectionStatus&&react.createElement(components.Q2,{"data-testid":"api-status","aria-label":(0,i18n.__)("API connection status","web-stories"),hasError:hasConnectionError,size:types.$.Small},testConnectionStatus))};__webpack_require__("./node_modules/core-js/modules/es.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.iterator.for-each.js");var dropdown=__webpack_require__("./packages/design-system/src/components/dropDown/dropdown.tsx");const shoppingProviderDropDown_TEXT={SLOT_ID_LABEL:(0,i18n.__)("Shopping provider","web-stories")};function ShoppingProviderDropDown(t0){const $=(0,dist.c)(8),{vendors,shoppingProvider,handleUpdate}=t0;let OPTIONS,t1,t2;return $[0]!==vendors?(OPTIONS=[],Object.entries(vendors).forEach((t1=>{const[value,label]=t1;return OPTIONS.push({label,value})})),$[0]=vendors,$[1]=OPTIONS):OPTIONS=$[1],$[2]!==handleUpdate?(t1=(_,newShoppingProvider)=>handleUpdate(newShoppingProvider),$[2]=handleUpdate,$[3]=t1):t1=$[3],$[4]!==OPTIONS||$[5]!==shoppingProvider||$[6]!==t1?(t2=react.createElement(dropdown.A,{ariaLabel:shoppingProviderDropDown_TEXT.SLOT_ID_LABEL,options:OPTIONS,selectedValue:shoppingProvider,onMenuItemClick:t1,fillWidth:!0}),$[4]=OPTIONS,$[5]=shoppingProvider,$[6]=t1,$[7]=t2):t2=$[7],t2}ShoppingProviderDropDown.propTypes={vendors:prop_types_default().object,handleUpdate:prop_types_default().func,shoppingProvider:prop_types_default().oneOf(Object.values(constants.eq))};const shoppingProviderDropDown=ShoppingProviderDropDown,shopping_TEXT={SECTION_HEADING:(0,i18n.__)("Shopping","web-stories"),SHOPPING_PROVIDER_HELPER_MESSAGE:(0,i18n.__)("Once configured you can add products from this provider.","web-stories"),HELPER_MESSAGE:(0,i18n.__)("Connect your store so you can easily add products to your stories.","web-stories"),WOOCOMMERCE_INSTALL:(0,i18n.__)("Install <a>WooCommerce</a> to easily add shoppable products to Web Stories.","web-stories"),WOOCOMMERCE_ACTIVE:(0,i18n.__)("Activate <a>WooCommerce</a> to easily add shoppable products to Web Stories.","web-stories"),WOOCOMMERCE_MANAGE:(0,i18n.__)("Manage products in <a>WooCommerce</a> to make them available in Web Stories.","web-stories")};function Shopping(t0){const $=(0,dist.c)(36),{updateSettings,shoppingProvider,shopifyHost,shopifyAccessToken,vendors,woocommerce}=t0;let t1,t2;$[0]!==updateSettings?(t1=newValue=>{updateSettings({shoppingProvider:newValue}),(0,tracking_src.sx)("change_shopping_provider",{name:newValue})},t2=[updateSettings],$[0]=updateSettings,$[1]=t1,$[2]=t2):(t1=$[1],t2=$[2]);const handleUpdateShoppingProvider=(0,src.hb)(t1,t2);let t3,t4;$[3]!==updateSettings?(t3=newValue_0=>updateSettings({shopifyHost:newValue_0}),t4=[updateSettings],$[3]=updateSettings,$[4]=t3,$[5]=t4):(t3=$[4],t4=$[5]);const handleUpdateShopifyHost=(0,src.hb)(t3,t4);let t5,t6;$[6]!==updateSettings?(t5=newValue_1=>updateSettings({shopifyAccessToken:newValue_1}),t6=[updateSettings],$[6]=updateSettings,$[7]=t5,$[8]=t6):(t5=$[7],t6=$[8]);const handleUpdateShopifyAccessToken=(0,src.hb)(t5,t6);let t7;$[9]===Symbol.for("react.memo_cache_sentinel")?(t7=[],$[9]=t7):t7=$[9];const onWoocommerceClick=(0,src.hb)(_temp,t7),{canManage,installed,active,link}=woocommerce;let woocommerceMessage,t8,t9,t10,t11,t12,t13,t14,t15,t16;return!1===installed?woocommerceMessage=shopping_TEXT.WOOCOMMERCE_INSTALL:!1===active?woocommerceMessage=shopping_TEXT.WOOCOMMERCE_ACTIVE:!0===canManage&&(woocommerceMessage=shopping_TEXT.WOOCOMMERCE_MANAGE),$[10]===Symbol.for("react.memo_cache_sentinel")?(t8=react.createElement(components.nq,null,shopping_TEXT.SECTION_HEADING),t9=react.createElement(components.Rw,{size:types.$.Small},shopping_TEXT.HELPER_MESSAGE),$[10]=t8,$[11]=t9):(t8=$[10],t9=$[11]),$[12]!==link||$[13]!==onWoocommerceClick||$[14]!==shoppingProvider||$[15]!==woocommerceMessage?(t10=shoppingProvider===constants.eq.WOOCOMMERCE&&woocommerceMessage&&link&&react.createElement(components.Rw,{"data-testid":"woocommerceMessage",size:types.$.Small},react.createElement(translateWithMarkup.A,{mapping:{a:react.createElement(components.gH,{href:link,rel:"noreferrer",target:"_blank",size:types.$.Small,onClick:onWoocommerceClick})}},woocommerceMessage)),$[12]=link,$[13]=onWoocommerceClick,$[14]=shoppingProvider,$[15]=woocommerceMessage,$[16]=t10):t10=$[16],$[17]!==t10?(t11=react.createElement("div",null,t8,t9,t10),$[17]=t10,$[18]=t11):t11=$[18],$[19]!==handleUpdateShoppingProvider||$[20]!==shoppingProvider||$[21]!==vendors?(t12=react.createElement(shoppingProviderDropDown,{vendors,shoppingProvider,handleUpdate:handleUpdateShoppingProvider}),$[19]=handleUpdateShoppingProvider,$[20]=shoppingProvider,$[21]=vendors,$[22]=t12):t12=$[22],$[23]===Symbol.for("react.memo_cache_sentinel")?(t13=react.createElement(components.Rw,{size:types.$.Small},shopping_TEXT.SHOPPING_PROVIDER_HELPER_MESSAGE),$[23]=t13):t13=$[23],$[24]!==handleUpdateShopifyAccessToken||$[25]!==handleUpdateShopifyHost||$[26]!==shopifyAccessToken||$[27]!==shopifyHost||$[28]!==shoppingProvider?(t14=shoppingProvider===constants.eq.SHOPIFY&&react.createElement(shopify,{handleUpdateHost:handleUpdateShopifyHost,handleUpdateAccessToken:handleUpdateShopifyAccessToken,host:shopifyHost,accessToken:shopifyAccessToken}),$[24]=handleUpdateShopifyAccessToken,$[25]=handleUpdateShopifyHost,$[26]=shopifyAccessToken,$[27]=shopifyHost,$[28]=shoppingProvider,$[29]=t14):t14=$[29],$[30]!==t12||$[31]!==t14?(t15=react.createElement("div",null,t12,t13,t14),$[30]=t12,$[31]=t14,$[32]=t15):t15=$[32],$[33]!==t11||$[34]!==t15?(t16=react.createElement(components.Qe,{onSubmit:_temp2},t11,t15),$[33]=t11,$[34]=t15,$[35]=t16):t16=$[35],t16}function _temp2(e){return e.preventDefault()}function _temp(evt){return(0,tracking_src.MP)(evt,"click_woocommerce_link")}Shopping.propTypes={vendors:prop_types_default().object.isRequired,woocommerce:prop_types_default().object,updateSettings:prop_types_default().func.isRequired,shoppingProvider:prop_types_default().string,shopifyHost:prop_types_default().string,shopifyAccessToken:prop_types_default().string};const shopping=Shopping,stories={title:"Dashboard/Views/EditorSettings/Shopping",component:shopping,args:{shoppingProvider:constants.eq.NONE,shopifyHost:"yourstore.myshopify.com",shopifyAccessToken:"",vendors:{none:"None",shopify:"Shopify",woocommerce:"WooCommerce"}},argTypes:{updateSettings:{action:"update settings"}}},_default={render:function Render(args){return react.createElement(shopping,args)}}},"./packages/wp-dashboard/src/constants/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M_:()=>settings.M_,qp:()=>settings.qp,Sr:()=>ERRORS,eq:()=>settings.eq});var i18n=__webpack_require__("./packages/i18n/src/i18n.ts");(0,i18n.__)("Setting saved.","web-stories");const ERRORS={UPLOAD_PUBLISHER_LOGO:{MESSAGE:(0,i18n.__)("Unable to add publisher logo","web-stories"),MESSAGE_PLURAL:(0,i18n.__)("Unable to add publisher logos","web-stories")},REMOVE_PUBLISHER_LOGO:{MESSAGE:(0,i18n.__)("Unable to remove publisher logo","web-stories")},REMOVE_FONT:{MESSAGE:(0,i18n.__)("Unable to remove font","web-stories")},UPDATE_PUBLISHER_LOGO:{MESSAGE:(0,i18n.__)("Unable to update publisher logo","web-stories")},LOAD_PUBLISHER_LOGOS:{MESSAGE:(0,i18n.__)("Unable to load publisher logos","web-stories")},LOAD_SETTINGS:{MESSAGE:(0,i18n.__)("Unable to load settings","web-stories")},UPDATE_EDITOR_SETTINGS:{MESSAGE:(0,i18n.__)("Unable to update settings data","web-stories")}};var settings=__webpack_require__("./packages/wp-dashboard/src/constants/settings.js")},"./packages/wp-dashboard/src/constants/settings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M_:()=>AD_NETWORK_TYPE,Vr:()=>GOOGLE_ANALYTICS_HANDLER_TYPE,eq:()=>SHOPPING_PROVIDER_TYPE,qp:()=>ARCHIVE_TYPE});var _googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/i18n/src/i18n.ts");(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Settings","web-stories"),(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("https://wordpress.org/support/plugin/web-stories/","web-stories"),(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Support","web-stories");const AD_NETWORK_TYPE={NONE:"none",ADSENSE:"adsense",ADMANAGER:"admanager",MGID:"mgid"},ARCHIVE_TYPE={DEFAULT:"default",DISABLED:"disabled",CUSTOM:"custom"},SHOPPING_PROVIDER_TYPE={NONE:"none",WOOCOMMERCE:"woocommerce",SHOPIFY:"shopify"},GOOGLE_ANALYTICS_HANDLER_TYPE={SITE_KIT:"site-kit",WEB_STORIES:"web-stories",BOTH:"both"}}}]);