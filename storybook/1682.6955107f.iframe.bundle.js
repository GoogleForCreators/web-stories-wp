"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[1682],{"./packages/dashboard/src/app/views/myStories/content/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>content});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),infiniteScroller=__webpack_require__("./packages/design-system/src/components/infiniteScroller/infiniteScroller.tsx"),headline=__webpack_require__("./packages/design-system/src/components/typography/headline/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),button_button=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),router=__webpack_require__("./packages/dashboard/src/app/router/index.ts"),src_constants=__webpack_require__("./packages/dashboard/src/constants/index.ts"),components=__webpack_require__("./packages/dashboard/src/components/index.js"),propTypes=__webpack_require__("./packages/dashboard/src/propTypes.js"),useStoryView=__webpack_require__("./packages/dashboard/src/utils/useStoryView.js"),shared=__webpack_require__("./packages/dashboard/src/app/views/shared/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),tracking_src=__webpack_require__("./packages/tracking/src/index.ts"),useSnackbar=__webpack_require__("./packages/design-system/src/contexts/snackbar/useSnackbar.ts"),loadingSpinner=__webpack_require__("./packages/design-system/src/components/loadingSpinner/loadingSpinner.tsx"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),utils=__webpack_require__("./packages/dashboard/src/utils/index.js"),arrow_down=__webpack_require__("./packages/design-system/src/icons/arrow_down.svg"),config=__webpack_require__("./packages/dashboard/src/app/config/index.ts"),useStoryFilters=__webpack_require__("./packages/dashboard/src/app/views/myStories/filters/useStoryFilters.js"),date_src=__webpack_require__("./packages/date/src/index.ts"),story_menu_generator=__webpack_require__("./packages/dashboard/src/components/popoverMenu/story-menu-generator.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),lock_closed=__webpack_require__("./packages/design-system/src/icons/lock_closed.svg");const PreviewImage=styled_components_browser_esm.Ay.div.withConfig({displayName:"storyListItem__PreviewImage",componentId:"sc-1w22569-0"})(["display:inline-block;background:",";width:","px;height:","px;object-fit:contain;border-radius:",";"],(({theme})=>theme.colors.gradient.placeholder),src_constants.y$[src_constants.FR.THUMBNAIL],src_constants.y$[src_constants.FR.THUMBNAIL]/(3/4),(({theme})=>theme.borders.radius.small)),PreviewWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"storyListItem__PreviewWrapper",componentId:"sc-1w22569-1"})(["position:relative;"]),LockIcon=(0,styled_components_browser_esm.Ay)(lock_closed.A).withConfig({displayName:"storyListItem__LockIcon",componentId:"sc-1w22569-2"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:24px;display:block;margin:auto;background-color:",";color:",";border-radius:",";"],(({theme})=>theme.colors.interactiveBg.brandNormal),(({theme})=>theme.colors.standard.white),(({theme})=>theme.borders.radius.round)),StyledTableRow=(0,styled_components_browser_esm.Ay)(components.Hj).withConfig({displayName:"storyListItem__StyledTableRow",componentId:"sc-1w22569-3"})(["&:hover ",",&:focus-within ","{opacity:1;}"],components.AY,components.AY),TitleTableCellContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"storyListItem__TitleTableCellContainer",componentId:"sc-1w22569-4"})(["display:flex;align-items:center;justify-content:flex-start;","{margin:10px auto;}&:hover ",",&:active ","{opacity:1;}"],components.AY,components.AY,components.AY);function onFocusSelectAll(e){window.getSelection().selectAllChildren(e.target)}function onBlurDeselectAll(){window.getSelection().removeAllRanges()}const StoryListItem=t0=>{const $=(0,dist.c)(70),{story,renameStory,userId,storyMenu,storyStatus}=t0;let t1,t2;$[0]!==story.lockUser||$[1]!==story.locked||$[2]!==userId?(t1=()=>story?.locked&&userId!==story?.lockUser.id,$[0]=story.lockUser,$[1]=story.locked,$[2]=userId,$[3]=t1):t1=$[3],$[4]!==story||$[5]!==userId?(t2=[story,userId],$[4]=story,$[5]=userId,$[6]=t2):t2=$[6];const isLocked=(0,src.Kr)(t1,t2);let t3;$[7]!==story.title?(t3=(0,utils.Te)(story.title),$[7]=story.title,$[8]=t3):t3=$[8];const formattedTitle=t3;let t4,t5;$[9]!==isLocked||$[10]!==story||$[11]!==storyMenu.menuItems?(t4=()=>(0,story_menu_generator.Y)({menuItems:storyMenu.menuItems,story,isLocked}),$[9]=isLocked,$[10]=story,$[11]=storyMenu.menuItems,$[12]=t4):t4=$[12],$[13]!==isLocked||$[14]!==story||$[15]!==storyMenu?(t5=[storyMenu,story,isLocked],$[13]=isLocked,$[14]=story,$[15]=storyMenu,$[16]=t5):t5=$[16];const generatedMenuItems=(0,src.Kr)(t4,t5);let t6,t7;$[17]!==formattedTitle||$[18]!==generatedMenuItems||$[19]!==story.id||$[20]!==storyMenu?(t6=()=>generatedMenuItems.length?react.createElement(components.l_,{menuLabel:(0,sprintf.A)((0,i18n.__)("Context menu for %s","web-stories"),formattedTitle),onMoreButtonSelected:(_,id)=>storyMenu.handleMenuToggle(id),contextMenuId:storyMenu.contextMenuId,storyId:story.id,menuItems:generatedMenuItems,verticalAlign:"center"}):null,$[17]=formattedTitle,$[18]=generatedMenuItems,$[19]=story.id,$[20]=storyMenu,$[21]=t6):t6=$[21],$[22]!==formattedTitle||$[23]!==generatedMenuItems||$[24]!==story||$[25]!==storyMenu?(t7=[generatedMenuItems,formattedTitle,storyMenu,story],$[22]=formattedTitle,$[23]=generatedMenuItems,$[24]=story,$[25]=storyMenu,$[26]=t7):t7=$[26];const memoizedStoryMenu=(0,src.Kr)(t6,t7),t8=`story-list-item-${story.id}`;let t9,t10,t11,t12,t13,t14,t15;$[27]!==isLocked||$[28]!==story.lockUser?(t9=isLocked&&story?.lockUser.name?(0,sprintf.A)((0,i18n.__)("%s is currently editing this story","web-stories"),story?.lockUser.name):"",$[27]=isLocked,$[28]=story.lockUser,$[29]=t9):t9=$[29],$[30]!==formattedTitle||$[31]!==story.featuredMediaUrl?(t10=story.featuredMediaUrl?{src:story.featuredMediaUrl,alt:(0,sprintf.A)((0,i18n.__)("%s Poster image","web-stories"),formattedTitle),as:"img",decoding:"async"}:null,$[30]=formattedTitle,$[31]=story.featuredMediaUrl,$[32]=t10):t10=$[32],$[33]!==t10?(t11=react.createElement(PreviewImage,t10),$[33]=t10,$[34]=t11):t11=$[34],$[35]!==isLocked?(t12=isLocked&&react.createElement(LockIcon,null),$[35]=isLocked,$[36]=t12):t12=$[36],$[37]!==t11||$[38]!==t12?(t13=react.createElement(PreviewWrapper,null,t11,t12),$[37]=t11,$[38]=t12,$[39]=t13):t13=$[39],$[40]!==t13||$[41]!==t9?(t14=react.createElement(components.rR,null,react.createElement(components.m_,{title:t9},t13)),$[40]=t13,$[41]=t9,$[42]=t14):t14=$[42],$[43]!==formattedTitle||$[44]!==isLocked||$[45]!==memoizedStoryMenu||$[46]!==renameStory||$[47]!==story?(t15=react.createElement(components.nA,null,react.createElement(TitleTableCellContainer,null,renameStory.id===story.id?react.createElement(components.W3,{onEditComplete:newTitle=>renameStory.handleOnRenameStory(story,newTitle),onEditCancel:renameStory.handleCancelRename,value:story.title,id:story.id,label:(0,i18n.__)("Rename story","web-stories")}):react.createElement(react.Fragment,null,react.createElement(headline.$,{tabIndex:0,onFocus:onFocusSelectAll,onBlur:onBlurDeselectAll,size:types.$.XXXSmall,as:"h3","aria-label":isLocked?(0,sprintf.A)((0,i18n.__)("%1$s (locked by %2$s)","web-stories"),formattedTitle,story?.lockUser.name):formattedTitle},formattedTitle),memoizedStoryMenu))),$[43]=formattedTitle,$[44]=isLocked,$[45]=memoizedStoryMenu,$[46]=renameStory,$[47]=story,$[48]=t15):t15=$[48];const t16=story.author?.name||"â€”";let t17,t18,t19,t20,t21,t22,t23;return $[49]!==t16?(t17=react.createElement(components.nA,null,react.createElement(typography_text.E.Span,{size:types.$.Small},t16)),$[49]=t16,$[50]=t17):t17=$[50],$[51]!==story.createdGmt?(t18=(0,date_src.h3)(story.createdGmt),$[51]=story.createdGmt,$[52]=t18):t18=$[52],$[53]!==t18?(t19=react.createElement(components.nA,null,react.createElement(typography_text.E.Span,{size:types.$.Small},t18)),$[53]=t18,$[54]=t19):t19=$[54],$[55]!==story.modifiedGmt?(t20=(0,date_src.h3)(story.modifiedGmt),$[55]=story.modifiedGmt,$[56]=t20):t20=$[56],$[57]!==t20?(t21=react.createElement(components.nA,null,react.createElement(typography_text.E.Span,{size:types.$.Small},t20)),$[57]=t20,$[58]=t21):t21=$[58],$[59]!==story.status||$[60]!==storyStatus?(t22=storyStatus!==src_constants.fD.DRAFT&&react.createElement(components.r7,null,react.createElement(typography_text.E.Span,{size:types.$.Small},src_constants.u6[story?.status])),$[59]=story.status,$[60]=storyStatus,$[61]=t22):t22=$[61],$[62]!==t14||$[63]!==t15||$[64]!==t17||$[65]!==t19||$[66]!==t21||$[67]!==t22||$[68]!==t8?(t23=react.createElement(StyledTableRow,{"data-testid":t8},t14,t15,t17,t19,t21,t22),$[62]=t14,$[63]=t15,$[64]=t17,$[65]=t19,$[66]=t21,$[67]=t22,$[68]=t8,$[69]=t23):t23=$[69],t23};StoryListItem.__docgenInfo={description:"",methods:[],displayName:"StoryListItem",props:{story:{description:"",type:{name:"custom",raw:"StoryPropType.isRequired"},required:!1},renameStory:{description:"",type:{name:"shape",value:{handleOnRenameStory:{name:"func",required:!1},id:{name:"number",required:!1},handleCancelRename:{name:"func",required:!1}}},required:!1},userId:{description:"",type:{name:"union",value:[{name:"number"},{name:"bool"}]},required:!1},storyMenu:{description:"",type:{name:"custom",raw:"StoryMenuPropType.isRequired"},required:!1},storyStatus:{description:"",type:{name:"string"},required:!1}}};var helpers=__webpack_require__("./packages/design-system/src/theme/helpers/index.ts");const{Qm:focusableOutlineCSS}=helpers,ListView=styled_components_browser_esm.Ay.div.withConfig({displayName:"listView__ListView",componentId:"sc-15nl0r5-0"})(["width:100%;"]),ArrowIcon=styled_components_browser_esm.Ay.div.withConfig({displayName:"listView__ArrowIcon",componentId:"sc-15nl0r5-1"})(["width:32px;height:100%;display:inline-grid;color:",";vertical-align:middle;svg{visibility:",";transition:transform 0.15s;",";}"],(({theme})=>theme.colors.fg.primary),(({active})=>active?"visible":"hidden"),(({asc})=>asc&&(0,styled_components_browser_esm.AH)(["transform:rotate(180deg);"]))),EmptyIconSpace=styled_components_browser_esm.Ay.div.withConfig({displayName:"listView__EmptyIconSpace",componentId:"sc-15nl0r5-2"})(["height:32px;width:32px;"]),ArrowIconWithTitle=(0,styled_components_browser_esm.Ay)(ArrowIcon).withConfig({displayName:"listView__ArrowIconWithTitle",componentId:"sc-15nl0r5-3"})([""," position:absolute;top:16px;@media ","{margin-left:4px;}"],(({active})=>!active&&"display: none;"),(({theme})=>theme.breakpoint.mobile)),SelectableTitle=(0,styled_components_browser_esm.Ay)(typography_text.E.Span).attrs({tabIndex:0,isBold:!0}).withConfig({displayName:"listView__SelectableTitle",componentId:"sc-15nl0r5-4"})(["color:",";cursor:pointer;",";"],(({theme})=>theme.colors.blue[70]),(({theme})=>focusableOutlineCSS(theme.colors.border.focus,theme.colors.bg.secondary))),toggleSortLookup={[src_constants.Pg.DESC]:src_constants.Pg.ASC,[src_constants.Pg.ASC]:src_constants.Pg.DESC};function StoryListView(t0){const $=(0,dist.c)(120),{hideStoryList,renameStory,stories,storyMenu}=t0,{userId,styleConstants:t1}=(0,config.U)(),{topOffset}=t1,{filters:filters_0,sortObject:sortObject_0,updateSort:updateSort_0}=(0,useStoryFilters.A)(_temp);let t2,t3;$[0]!==sortObject_0?.order||$[1]!==sortObject_0?.orderby?(t2=()=>[sortObject_0?.orderby,sortObject_0?.order],$[0]=sortObject_0?.order,$[1]=sortObject_0?.orderby,$[2]=t2):t2=$[2],$[3]!==sortObject_0?(t3=[sortObject_0],$[3]=sortObject_0,$[4]=t3):t3=$[4];const[storySort,sortDirection]=(0,src.Kr)(t2,t3);let t4,t5;$[5]!==filters_0?(t4=()=>filters_0.filter(_temp2).filterId,t5=[filters_0],$[5]=filters_0,$[6]=t4,$[7]=t5):(t4=$[6],t5=$[7]);const statusFilterValue=(0,src.Kr)(t4,t5);let t6,t7;$[8]!==sortDirection||$[9]!==storySort||$[10]!==updateSort_0?(t6=orderby=>{updateSort_0(orderby!==storySort?{orderby,order:src_constants.qp[orderby]}:{order:toggleSortLookup[sortDirection]})},t7=[updateSort_0,storySort,sortDirection],$[8]=sortDirection,$[9]=storySort,$[10]=updateSort_0,$[11]=t6,$[12]=t7):(t6=$[11],t7=$[12]);const onSortTitleSelected=(0,src.hb)(t6,t7);let t8,t9;$[13]!==onSortTitleSelected?(t8=(t10,sortBy)=>{const{key:key_0}=t10;"Enter"===key_0&&onSortTitleSelected(sortBy)},t9=[onSortTitleSelected],$[13]=onSortTitleSelected,$[14]=t8,$[15]=t9):(t8=$[14],t9=$[15]);const onKeyDownSort=(0,src.hb)(t8,t9);let t10,t11;$[16]!==hideStoryList||$[17]!==renameStory||$[18]!==statusFilterValue||$[19]!==stories||$[20]!==storyMenu||$[21]!==userId?(t10=()=>!hideStoryList&&stories.map((story=>react.createElement(StoryListItem,{key:`story-${story.id}`,story,userId,renameStory,storyStatus:statusFilterValue,storyMenu}))),t11=[hideStoryList,renameStory,stories,statusFilterValue,storyMenu,userId],$[16]=hideStoryList,$[17]=renameStory,$[18]=statusFilterValue,$[19]=stories,$[20]=storyMenu,$[21]=userId,$[22]=t10,$[23]=t11):(t10=$[22],t11=$[23]);const tableContents=(0,src.Kr)(t10,t11);let t12,t13,t14,t15,t16,t17,t18,t19;$[24]===Symbol.for("react.memo_cache_sentinel")?(t12=(0,i18n.__)("List view of created stories","web-stories"),$[24]=t12):t12=$[24],$[25]!==onSortTitleSelected?(t13=()=>onSortTitleSelected(src_constants._r.NAME),$[25]=onSortTitleSelected,$[26]=t13):t13=$[26],$[27]!==onKeyDownSort?(t14=e=>onKeyDownSort(e,src_constants._r.NAME),$[27]=onKeyDownSort,$[28]=t14):t14=$[28],$[29]===Symbol.for("react.memo_cache_sentinel")?(t15=(0,i18n.__)("Title, select to sort table by story title","web-stories"),$[29]=t15):t15=$[29],$[30]===Symbol.for("react.memo_cache_sentinel")?(t16=react.createElement(SelectableTitle,{"aria-label":t15,size:types.$.Small,isBold:!0},(0,i18n.__)("Title","web-stories")),$[30]=t16):t16=$[30],$[31]!==t13||$[32]!==t14?(t17=react.createElement(components.G,{onClick:t13,onKeyDown:t14},t16),$[31]=t13,$[32]=t14,$[33]=t17):t17=$[33],$[34]!==onSortTitleSelected?(t18=()=>onSortTitleSelected(src_constants._r.NAME),$[34]=onSortTitleSelected,$[35]=t18):t18=$[35],$[36]!==onKeyDownSort?(t19=e_0=>onKeyDownSort(e_0,src_constants._r.NAME),$[36]=onKeyDownSort,$[37]=t19):t19=$[37];const t20=storySort===src_constants._r.NAME;let t21,t22;$[38]===Symbol.for("react.memo_cache_sentinel")?(t21=(0,i18n.__)("Title","web-stories"),$[38]=t21):t21=$[38],$[39]!==t20?(t22=react.createElement(SelectableTitle,{"aria-hidden":!0,active:t20,size:types.$.Small,isBold:!0},t21),$[39]=t20,$[40]=t22):t22=$[40];const t23=storySort===src_constants._r.NAME,t24=sortDirection===src_constants.Pg.ASC;let t25,t26,t27,t28,t29,t30;$[41]===Symbol.for("react.memo_cache_sentinel")?(t25=react.createElement(arrow_down.A,null),$[41]=t25):t25=$[41],$[42]!==t23||$[43]!==t24?(t26=react.createElement(ArrowIcon,{active:t23,asc:t24},t25),$[42]=t23,$[43]=t24,$[44]=t26):t26=$[44],$[45]!==t18||$[46]!==t19||$[47]!==t22||$[48]!==t26?(t27=react.createElement(components.Uw,{onClick:t18,onKeyDown:t19},t22,t26),$[45]=t18,$[46]=t19,$[47]=t22,$[48]=t26,$[49]=t27):t27=$[49],$[50]===Symbol.for("react.memo_cache_sentinel")?(t28=(0,i18n.__)("Author, select to sort table by story author","web-stories"),$[50]=t28):t28=$[50],$[51]!==onSortTitleSelected?(t29=()=>onSortTitleSelected(src_constants._r.CREATED_BY),$[51]=onSortTitleSelected,$[52]=t29):t29=$[52],$[53]!==onKeyDownSort?(t30=e_1=>onKeyDownSort(e_1,src_constants._r.CREATED_BY),$[53]=onKeyDownSort,$[54]=t30):t30=$[54];const t31=storySort===src_constants._r.CREATED_BY;let t32,t33;$[55]===Symbol.for("react.memo_cache_sentinel")?(t32=(0,i18n.__)("Author","web-stories"),$[55]=t32):t32=$[55],$[56]!==t29||$[57]!==t30||$[58]!==t31?(t33=react.createElement(SelectableTitle,{"aria-label":t28,onClick:t29,onKeyDown:t30,active:t31,size:types.$.Small,isBold:!0},t32),$[56]=t29,$[57]=t30,$[58]=t31,$[59]=t33):t33=$[59];const t34=storySort===src_constants._r.CREATED_BY,t35=sortDirection===src_constants.Pg.ASC;let t36,t37,t38,t39,t40,t41;$[60]!==storySort?(t36=storySort===src_constants._r.CREATED_BY?react.createElement(arrow_down.A,null):react.createElement(EmptyIconSpace,null),$[60]=storySort,$[61]=t36):t36=$[61],$[62]!==t34||$[63]!==t35||$[64]!==t36?(t37=react.createElement(ArrowIconWithTitle,{"aria-hidden":!0,active:t34,asc:t35},t36),$[62]=t34,$[63]=t35,$[64]=t36,$[65]=t37):t37=$[65],$[66]!==t33||$[67]!==t37?(t38=react.createElement(components.Xf,null,t33,t37),$[66]=t33,$[67]=t37,$[68]=t38):t38=$[68],$[69]===Symbol.for("react.memo_cache_sentinel")?(t39=(0,i18n.__)("Creation date, select to sort table by date story was created","web-stories"),$[69]=t39):t39=$[69],$[70]!==onSortTitleSelected?(t40=()=>onSortTitleSelected(src_constants._r.DATE_CREATED),$[70]=onSortTitleSelected,$[71]=t40):t40=$[71],$[72]!==onKeyDownSort?(t41=e_2=>onKeyDownSort(e_2,src_constants._r.DATE_CREATED),$[72]=onKeyDownSort,$[73]=t41):t41=$[73];const t42=storySort===src_constants._r.DATE_CREATED;let t43,t44;$[74]===Symbol.for("react.memo_cache_sentinel")?(t43=(0,i18n.__)("Date Created","web-stories"),$[74]=t43):t43=$[74],$[75]!==t40||$[76]!==t41||$[77]!==t42?(t44=react.createElement(SelectableTitle,{"aria-label":t39,onClick:t40,onKeyDown:t41,active:t42,size:types.$.Small,isBold:!0},t43),$[75]=t40,$[76]=t41,$[77]=t42,$[78]=t44):t44=$[78];const t45=storySort===src_constants._r.DATE_CREATED,t46=sortDirection===src_constants.Pg.ASC;let t47,t48,t49,t50,t51,t52;$[79]===Symbol.for("react.memo_cache_sentinel")?(t47=react.createElement(arrow_down.A,null),$[79]=t47):t47=$[79],$[80]!==t45||$[81]!==t46?(t48=react.createElement(ArrowIconWithTitle,{"aria-hidden":!0,active:t45,asc:t46},t47),$[80]=t45,$[81]=t46,$[82]=t48):t48=$[82],$[83]!==t44||$[84]!==t48?(t49=react.createElement(components.Uq,null,t44,t48),$[83]=t44,$[84]=t48,$[85]=t49):t49=$[85],$[86]===Symbol.for("react.memo_cache_sentinel")?(t50=(0,i18n.__)("Modification date, select to sort table by date story was last modified","web-stories"),$[86]=t50):t50=$[86],$[87]!==onSortTitleSelected?(t51=()=>onSortTitleSelected(src_constants._r.LAST_MODIFIED),$[87]=onSortTitleSelected,$[88]=t51):t51=$[88],$[89]!==onKeyDownSort?(t52=e_3=>onKeyDownSort(e_3,src_constants._r.LAST_MODIFIED),$[89]=onKeyDownSort,$[90]=t52):t52=$[90];const t53=storySort===src_constants._r.LAST_MODIFIED;let t54,t55;$[91]===Symbol.for("react.memo_cache_sentinel")?(t54=(0,i18n.__)("Last Modified","web-stories"),$[91]=t54):t54=$[91],$[92]!==t51||$[93]!==t52||$[94]!==t53?(t55=react.createElement(SelectableTitle,{"aria-label":t50,onClick:t51,onKeyDown:t52,active:t53,size:types.$.Small,isBold:!0},t54),$[92]=t51,$[93]=t52,$[94]=t53,$[95]=t55):t55=$[95];const t56=storySort===src_constants._r.LAST_MODIFIED,t57=sortDirection===src_constants.Pg.ASC;let t58,t59,t60,t61,t62,t63,t64,t65;return $[96]===Symbol.for("react.memo_cache_sentinel")?(t58=react.createElement(arrow_down.A,null),$[96]=t58):t58=$[96],$[97]!==t56||$[98]!==t57?(t59=react.createElement(ArrowIconWithTitle,{"aria-hidden":!0,active:t56,asc:t57},t58),$[97]=t56,$[98]=t57,$[99]=t59):t59=$[99],$[100]!==t55||$[101]!==t59?(t60=react.createElement(components.Uq,null,t55,t59),$[100]=t55,$[101]=t59,$[102]=t60):t60=$[102],$[103]!==statusFilterValue?(t61=statusFilterValue!==src_constants.fD.DRAFT&&react.createElement(components.Qr,null,react.createElement(typography_text.E.Span,{isBold:!0,size:types.$.Small},(0,i18n.__)("Publish State","web-stories"))),$[103]=statusFilterValue,$[104]=t61):t61=$[104],$[105]!==t17||$[106]!==t27||$[107]!==t38||$[108]!==t49||$[109]!==t60||$[110]!==t61?(t62=react.createElement(components.Hj,null,t17,t27,t38,t49,t60,t61),$[105]=t17,$[106]=t27,$[107]=t38,$[108]=t49,$[109]=t60,$[110]=t61,$[111]=t62):t62=$[111],$[112]!==t62||$[113]!==topOffset?(t63=react.createElement(components.Ty,{topOffset},t62),$[112]=t62,$[113]=topOffset,$[114]=t63):t63=$[114],$[115]!==tableContents?(t64=react.createElement(components.BF,null,tableContents),$[115]=tableContents,$[116]=t64):t64=$[116],$[117]!==t63||$[118]!==t64?(t65=react.createElement(ListView,{"data-testid":"story-list-view"},react.createElement(components.XI,{"aria-label":t12},t63,t64)),$[117]=t63,$[118]=t64,$[119]=t65):t65=$[119],t65}function _temp2(t0){const{key}=t0;return"status"===key}function _temp(t0){const{state:t1,actions:t2}=t0,{filters,sortObject}=t1,{updateSort}=t2;return{filters,sortObject,updateSort}}StoryListView.propTypes={hideStoryList:prop_types_default().bool,renameStory:propTypes.XJ,storyMenu:propTypes.C_.isRequired,stories:propTypes.Py},StoryListView.__docgenInfo={description:"",methods:[],displayName:"StoryListView",props:{hideStoryList:{description:"",type:{name:"bool"},required:!1},renameStory:{description:"",type:{name:"shape",value:{handleOnRenameStory:{name:"func",required:!1},id:{name:"number",required:!1},handleCancelRename:{name:"func",required:!1}}},required:!1},storyMenu:{description:"",type:{name:"custom",raw:"StoryMenuPropType.isRequired"},required:!1},stories:{description:"",type:{name:"arrayOf",value:{name:"custom",raw:"StoryPropType"}},required:!1}}};var storyGridView=__webpack_require__("./packages/dashboard/src/app/views/myStories/content/storyGridView/index.js");function StoriesView(t0){const $=(0,dist.c)(113),{loading,storyActions,stories,view}=t0,[contextMenuId,setContextMenuId]=(0,src.J0)(-1),[titleRenameId,setTitleRenameId]=(0,src.J0)(-1),[activeDialog,setActiveDialog]=(0,src.J0)(""),[activeStory,setActiveStory]=(0,src.J0)(null);let t1;$[0]===Symbol.for("react.memo_cache_sentinel")?(t1={},$[0]=t1):t1=$[0];const[focusedStory,setFocusedStory]=(0,src.J0)(t1),[returnStoryFocusId,setReturnStoryFocusId]=(0,src.J0)(null),{showSnackbar}=(0,useSnackbar.d)(),isActiveDeleteStoryDialog="DELETE_STORY"===activeDialog&&activeStory;let t2,t3;$[1]!==stories?(t2=()=>stories.map(storiesView_temp),t3=[stories],$[1]=stories,$[2]=t2,$[3]=t3):(t2=$[2],t3=$[3]);const storiesById=(0,src.Kr)(t2,t3);let t4,t5,t6,t7,t8,t9,t10,t11;$[4]!==focusedStory.id||$[5]!==focusedStory.isDeleted||$[6]!==returnStoryFocusId||$[7]!==setReturnStoryFocusId||$[8]!==storiesById?(t4=()=>{if(focusedStory.id&&!returnStoryFocusId){const storyArrayIndex=storiesById.indexOf(focusedStory.id),isDeletedAdjustmentDirection=storyArrayIndex>0?-1:1,adjustedIndex=focusedStory.isDeleted?isDeletedAdjustmentDirection:0,storyIdToFocus=storiesById[storyArrayIndex+adjustedIndex];storyIdToFocus&&setReturnStoryFocusId(storyIdToFocus)}},$[4]=focusedStory.id,$[5]=focusedStory.isDeleted,$[6]=returnStoryFocusId,$[7]=setReturnStoryFocusId,$[8]=storiesById,$[9]=t4):t4=$[9],$[10]!==focusedStory||$[11]!==returnStoryFocusId||$[12]!==storiesById?(t5=[focusedStory,returnStoryFocusId,storiesById],$[10]=focusedStory,$[11]=returnStoryFocusId,$[12]=storiesById,$[13]=t5):t5=$[13],(0,src.vJ)(t4,t5),$[14]!==activeDialog||$[15]!==setActiveStory?(t6=()=>{activeDialog||setActiveStory(null)},t7=[activeDialog,setActiveStory],$[14]=activeDialog,$[15]=setActiveStory,$[16]=t6,$[17]=t7):(t6=$[16],t7=$[17]),(0,src.vJ)(t6,t7),$[18]!==activeDialog||$[19]!==setFocusedStory||$[20]!==setReturnStoryFocusId?(t8=()=>{activeDialog&&(setFocusedStory({}),setReturnStoryFocusId(null))},$[18]=activeDialog,$[19]=setFocusedStory,$[20]=setReturnStoryFocusId,$[21]=t8):t8=$[21],$[22]!==activeDialog?(t9=[activeDialog],$[22]=activeDialog,$[23]=t9):t9=$[23],(0,src.vJ)(t8,t9),$[24]!==setTitleRenameId||$[25]!==storyActions?(t10=(story,newTitle)=>{setTitleRenameId(-1),(0,tracking_src.sx)("rename_story"),storyActions.updateStory({...story,title:{raw:newTitle}})},$[24]=setTitleRenameId,$[25]=storyActions,$[26]=t10):t10=$[26],$[27]!==storyActions?(t11=[storyActions],$[27]=storyActions,$[28]=t11):t11=$[28];const handleOnRenameStory=(0,src.hb)(t10,t11);let t12,t13;$[29]!==activeStory||$[30]!==setActiveDialog||$[31]!==setFocusedStory||$[32]!==storyActions?(t12=()=>{(0,tracking_src.sx)("delete_story"),storyActions.trashStory(activeStory),setFocusedStory({id:activeStory?.id,isDeleted:!0}),setActiveDialog("")},$[29]=activeStory,$[30]=setActiveDialog,$[31]=setFocusedStory,$[32]=storyActions,$[33]=t12):t12=$[33],$[34]!==activeStory||$[35]!==storyActions?(t13=[storyActions,activeStory],$[34]=activeStory,$[35]=storyActions,$[36]=t13):t13=$[36];const handleOnDeleteStory=(0,src.hb)(t12,t13);let t14,t15;$[37]!==setContextMenuId?(t14=()=>{setContextMenuId(-1),(0,tracking_src.sx)("open_in_editor")},$[37]=setContextMenuId,$[38]=t14):t14=$[38],$[39]===Symbol.for("react.memo_cache_sentinel")?(t15=[],$[39]=t15):t15=$[39];const handleOpenStoryInEditor=(0,src.hb)(t14,t15);let t16,t17;$[40]!==setContextMenuId||$[41]!==setTitleRenameId?(t16=story_0=>{setContextMenuId(-1),setTitleRenameId(story_0.id)},$[40]=setContextMenuId,$[41]=setTitleRenameId,$[42]=t16):t16=$[42],$[43]===Symbol.for("react.memo_cache_sentinel")?(t17=[],$[43]=t17):t17=$[43];const handleRenameStory=(0,src.hb)(t16,t17);let t18,t19;$[44]!==setContextMenuId||$[45]!==setFocusedStory||$[46]!==storyActions?(t18=story_1=>{setContextMenuId(-1),(0,tracking_src.sx)("duplicate_story"),storyActions.duplicateStory(story_1),setFocusedStory({id:story_1.id})},$[44]=setContextMenuId,$[45]=setFocusedStory,$[46]=storyActions,$[47]=t18):t18=$[47],$[48]!==storyActions?(t19=[storyActions],$[48]=storyActions,$[49]=t19):t19=$[49];const handleDuplicateStory=(0,src.hb)(t18,t19);let t20,t21;$[50]!==setActiveDialog||$[51]!==setActiveStory||$[52]!==setContextMenuId?(t20=story_2=>{setContextMenuId(-1),setActiveStory(story_2),setActiveDialog("DELETE_STORY")},$[50]=setActiveDialog,$[51]=setActiveStory,$[52]=setContextMenuId,$[53]=t20):t20=$[53],$[54]===Symbol.for("react.memo_cache_sentinel")?(t21=[],$[54]=t21):t21=$[54];const handleDeleteStory=(0,src.hb)(t20,t21);let t22,t23;$[55]!==setContextMenuId||$[56]!==setFocusedStory||$[57]!==showSnackbar?(t22=story_3=>{setContextMenuId(-1),window.navigator.clipboard.writeText(story_3.link),showSnackbar({message:(0,sprintf.A)((0,i18n.__)("%s has been copied to your clipboard.","web-stories"),(0,utils.Te)(story_3.title)),dismissible:!0}),setFocusedStory({id:story_3.id})},$[55]=setContextMenuId,$[56]=setFocusedStory,$[57]=showSnackbar,$[58]=t22):t22=$[58],$[59]!==showSnackbar?(t23=[showSnackbar],$[59]=showSnackbar,$[60]=t23):t23=$[60];const handleCopyStoryLink=(0,src.hb)(t22,t23);let t24,t25;$[61]!==activeStory?.id||$[62]!==setActiveDialog||$[63]!==setFocusedStory?(t24=()=>{setFocusedStory({id:activeStory?.id}),setActiveDialog("")},$[61]=activeStory?.id,$[62]=setActiveDialog,$[63]=setFocusedStory,$[64]=t24):t24=$[64],$[65]!==activeStory?(t25=[activeStory],$[65]=activeStory,$[66]=t25):t25=$[66];const handleCloseConfirmDialog=(0,src.hb)(t24,t25);let t26;$[67]!==handleCopyStoryLink||$[68]!==handleDeleteStory||$[69]!==handleDuplicateStory||$[70]!==handleOpenStoryInEditor||$[71]!==handleRenameStory||$[72]!==setContextMenuId?(t26=src_constants.TU.map((item=>{bb51:switch(item?.value){case src_constants.GO.COPY_STORY_LINK:item.action=handleCopyStoryLink;break bb51;case src_constants.GO.DELETE:item.action=handleDeleteStory;break bb51;case src_constants.GO.DUPLICATE:item.action=handleDuplicateStory;break bb51;case src_constants.GO.OPEN_STORY_LINK:item.action=handleOpenStoryInEditor;break bb51;case src_constants.GO.RENAME:item.action=handleRenameStory;break bb51;default:item.action=()=>setContextMenuId(-1)}return item})),$[67]=handleCopyStoryLink,$[68]=handleDeleteStory,$[69]=handleDuplicateStory,$[70]=handleOpenStoryInEditor,$[71]=handleRenameStory,$[72]=setContextMenuId,$[73]=t26):t26=$[73];const menuItems=t26;let t27,t28;$[74]!==contextMenuId||$[75]!==menuItems||$[76]!==setContextMenuId?(t27=()=>({handleMenuToggle:setContextMenuId,contextMenuId,menuItems}),t28=[contextMenuId,menuItems,setContextMenuId],$[74]=contextMenuId,$[75]=menuItems,$[76]=setContextMenuId,$[77]=t27,$[78]=t28):(t27=$[77],t28=$[78]);const storyMenu=(0,src.Kr)(t27,t28);let t29,t30;$[79]!==handleOnRenameStory||$[80]!==setTitleRenameId||$[81]!==titleRenameId?(t29=()=>({id:titleRenameId,handleOnRenameStory,handleCancelRename:()=>setTitleRenameId(-1)}),t30=[handleOnRenameStory,setTitleRenameId,titleRenameId],$[79]=handleOnRenameStory,$[80]=setTitleRenameId,$[81]=titleRenameId,$[82]=t29,$[83]=t30):(t29=$[82],t30=$[83]);const renameStory=(0,src.Kr)(t29,t30);let t31,t32;$[84]!==loading?.isLoading||$[85]!==loading?.showStoriesWhileLoading||$[86]!==renameStory||$[87]!==returnStoryFocusId||$[88]!==setReturnStoryFocusId||$[89]!==stories||$[90]!==storyMenu||$[91]!==view.pageSize||$[92]!==view.style?(t31=()=>view.style===src_constants._D.LIST?react.createElement(StoryListView,{hideStoryList:loading?.isLoading&&!loading?.showStoriesWhileLoading.current,pageSize:view.pageSize,renameStory,stories,storyMenu}):!loading?.isLoading||loading?.isLoading&&loading?.showStoriesWhileLoading.current?react.createElement(storyGridView.A,{isLoading:loading?.isLoading,pageSize:view.pageSize,renameStory,storyMenu,stories,returnStoryFocusId:{value:returnStoryFocusId,set:setReturnStoryFocusId}}):null,$[84]=loading?.isLoading,$[85]=loading?.showStoriesWhileLoading,$[86]=renameStory,$[87]=returnStoryFocusId,$[88]=setReturnStoryFocusId,$[89]=stories,$[90]=storyMenu,$[91]=view.pageSize,$[92]=view.style,$[93]=t31):t31=$[93],$[94]!==loading||$[95]!==renameStory||$[96]!==returnStoryFocusId||$[97]!==stories||$[98]!==storyMenu||$[99]!==view?(t32=[loading,renameStory,returnStoryFocusId,stories,storyMenu,view],$[94]=loading,$[95]=renameStory,$[96]=returnStoryFocusId,$[97]=stories,$[98]=storyMenu,$[99]=view,$[100]=t32):t32=$[100];const ActiveView=(0,src.Kr)(t31,t32);let t33,t34,t35;return $[101]!==loading?.isLoading||$[102]!==loading?.showStoriesWhileLoading?(t33=loading?.isLoading&&!loading?.showStoriesWhileLoading.current&&react.createElement(components.YM,null,react.createElement(loadingSpinner.A,null)),$[101]=loading?.isLoading,$[102]=loading?.showStoriesWhileLoading,$[103]=t33):t33=$[103],$[104]!==activeStory||$[105]!==handleCloseConfirmDialog||$[106]!==handleOnDeleteStory||$[107]!==isActiveDeleteStoryDialog?(t34=isActiveDeleteStoryDialog&&react.createElement(components.lG,{isOpen:!0,contentLabel:(0,i18n.__)("Dialog to confirm deleting a story","web-stories"),title:(0,i18n.__)("Delete Story","web-stories"),onClose:handleCloseConfirmDialog,secondaryText:(0,i18n.__)("Cancel","web-stories"),secondaryRest:{"aria-label":(0,sprintf.A)((0,i18n.__)('Cancel deleting story "%s"',"web-stories"),(0,utils.Te)(activeStory.title))},primaryText:(0,i18n.__)("Delete","web-stories"),onPrimary:handleOnDeleteStory,primaryRest:{"aria-label":(0,sprintf.A)((0,i18n.__)('Confirm deleting story "%s"',"web-stories"),(0,utils.Te)(activeStory.title))}},react.createElement(typography_text.E.Paragraph,{size:types.$.Small},(0,sprintf.A)((0,i18n.__)('Are you sure you want to delete "%s"?',"web-stories"),(0,utils.Te)(activeStory.title)))),$[104]=activeStory,$[105]=handleCloseConfirmDialog,$[106]=handleOnDeleteStory,$[107]=isActiveDeleteStoryDialog,$[108]=t34):t34=$[108],$[109]!==ActiveView||$[110]!==t33||$[111]!==t34?(t35=react.createElement(react.Fragment,null,ActiveView,t33,t34),$[109]=ActiveView,$[110]=t33,$[111]=t34,$[112]=t35):t35=$[112],t35}function storiesView_temp(t0){const{id}=t0;return id}const storiesView=StoriesView;function NoAvailableContent({filtersObject}){const{search}=filtersObject;return search?(0,sprintf.A)((0,i18n.__)('Sorry, we couldn\'t find any results matching "%s"',"web-stories"),search):0!==Object.keys(filtersObject).length?(0,i18n.__)("Sorry, we couldn't find any results","web-stories"):(0,i18n.__)("Start telling Stories.","web-stories")}function Content(t0){const $=(0,dist.c)(13),{allPagesFetched,canViewDefaultTemplates,filtersObject:t1,loading,page,stories,storyActions,view}=t0;let t2;$[0]!==t1?(t2=void 0===t1?{}:t1,$[0]=t1,$[1]=t2):t2=$[1];const filtersObject=t2;let t3,t4;return $[2]!==allPagesFetched||$[3]!==canViewDefaultTemplates||$[4]!==filtersObject||$[5]!==loading||$[6]!==page||$[7]!==stories||$[8]!==storyActions||$[9]!==view?(t3=stories.length>0?react.createElement(react.Fragment,null,react.createElement(storiesView,{storyActions,stories,view,loading}),react.createElement(infiniteScroller.A,{canLoadMore:!allPagesFetched,isLoading:loading?.isLoading,allDataLoadedMessage:(0,i18n.__)("No more stories","web-stories"),allDataLoadedAriaMessage:(0,i18n.__)("All stories are loaded","web-stories"),loadingAriaMessage:(0,i18n.__)("Loading more stories","web-stories"),onLoadMore:page.requestNextPage})):!loading?.isLoading&&react.createElement(shared.Gh,null,react.createElement(headline.$,{size:types.$.Small,as:"h3"},react.createElement(NoAvailableContent,{filtersObject})),0===Object.keys(filtersObject).length&&canViewDefaultTemplates&&react.createElement(button_button.x,{type:constants.VQ.Primary,size:constants.Mp.Medium,href:(0,router.ie)(src_constants.vc.TEMPLATES_GALLERY)},(0,i18n.__)("Explore Templates","web-stories"))),$[2]=allPagesFetched,$[3]=canViewDefaultTemplates,$[4]=filtersObject,$[5]=loading,$[6]=page,$[7]=stories,$[8]=storyActions,$[9]=view,$[10]=t3):t3=$[10],$[11]!==t3?(t4=react.createElement(components.PE.Scrollable,null,react.createElement(components.Zo,null,t3)),$[11]=t3,$[12]=t4):t4=$[12],t4}StoriesView.__docgenInfo={description:"",methods:[],displayName:"StoriesView",props:{loading:{description:"",type:{name:"shape",value:{isLoading:{name:"bool",required:!1},showStoriesWhileLoading:{name:"custom",raw:"ShowStoriesWhileLoadingPropType",required:!1}}},required:!1},storyActions:{description:"",type:{name:"shape",value:{duplicateStory:{name:"func",required:!1},trashStory:{name:"func",required:!1},updateStory:{name:"func",required:!1}}},required:!1},stories:{description:"",type:{name:"arrayOf",value:{name:"custom",raw:"StoryPropType"}},required:!1},view:{description:"",type:{name:"shape",value:{style:{name:"enum",value:[{value:'"grid"',computed:!1},{value:'"list"',computed:!1}],required:!1},toggleStyle:{name:"func",required:!1},pageSize:{name:"custom",raw:"PageSizePropType",required:!1}}},required:!1}}},NoAvailableContent.propTypes={filtersObject:prop_types_default().object},Content.propTypes={allPagesFetched:prop_types_default().bool,canViewDefaultTemplates:prop_types_default().bool,filtersObject:prop_types_default().object,loading:prop_types_default().shape({isLoading:prop_types_default().bool,showStoriesWhileLoading:useStoryView.v_}),page:useStoryView.Ci,stories:propTypes.Py,storyActions:propTypes.Id,view:useStoryView.Q8};const content=Content;Content.__docgenInfo={description:"",methods:[],displayName:"Content",props:{filtersObject:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},allPagesFetched:{description:"",type:{name:"bool"},required:!1},canViewDefaultTemplates:{description:"",type:{name:"bool"},required:!1},loading:{description:"",type:{name:"shape",value:{isLoading:{name:"bool",required:!1},showStoriesWhileLoading:{name:"custom",raw:"ShowStoriesWhileLoadingPropType",required:!1}}},required:!1},page:{description:"",type:{name:"shape",value:{value:{name:"number",required:!1},set:{name:"func",required:!1},requestNextPage:{name:"func",required:!1}}},required:!1},stories:{description:"",type:{name:"arrayOf",value:{name:"custom",raw:"StoryPropType"}},required:!1},storyActions:{description:"",type:{name:"shape",value:{duplicateStory:{name:"func",required:!1},trashStory:{name:"func",required:!1},updateStory:{name:"func",required:!1}}},required:!1},view:{description:"",type:{name:"shape",value:{style:{name:"enum",value:[{value:'"grid"',computed:!1},{value:'"list"',computed:!1}],required:!1},toggleStyle:{name:"func",required:!1},pageSize:{name:"custom",raw:"PageSizePropType",required:!1}}},required:!1}}}},"./packages/design-system/src/components/infiniteScroller/infiniteScroller.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/visuallyHidden.ts"),_theme__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_loadingSpinner__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/loadingSpinner/loadingSpinner.tsx"),_typography__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts");const ScrollMessage=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"infiniteScroller__ScrollMessage",componentId:"sc-smx7an-0"})(["width:100%;padding:140px 0 40px;margin:-100px auto 0;text-align:center;p{color:",";}"],(({theme})=>theme.colors.fg.tertiary)),LoadingContainer=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"infiniteScroller__LoadingContainer",componentId:"sc-smx7an-1"})(["display:flex;justify-content:center;"]),AriaOnlyAlert=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.span.withConfig({displayName:"infiniteScroller__AriaOnlyAlert",componentId:"sc-smx7an-2"})(["",""],_theme__WEBPACK_IMPORTED_MODULE_3__.Q);var State=function(State){return State.Loadable="loadable",State.LoadingInternal="loading_internal",State.LoadingExternal="loading_external",State.Complete="complete",State}(State||{}),Action=function(Action){return Action.OnInternalLoad="internal on load",Action.OnExternalLoad="external on load",Action.OnAllLoaded="all loaded",Action.OnLoadSuccess="load success",Action.OnCanLoadMore="can load more",Action}(Action||{});const machine={[State.Loadable]:{[Action.OnInternalLoad]:State.LoadingInternal,[Action.OnExternalLoad]:State.LoadingExternal},[State.LoadingInternal]:{[Action.OnAllLoaded]:State.Complete,[Action.OnLoadSuccess]:State.Loadable},[State.LoadingExternal]:{[Action.OnAllLoaded]:State.Complete,[Action.OnLoadSuccess]:State.Loadable},[State.Complete]:{[Action.OnCanLoadMore]:State.Loadable}},loadReducer=(state,action)=>machine[state][action]||state;function InfiniteScroller({allDataLoadedMessage,allDataLoadedAriaMessage,onLoadMore,canLoadMore,isLoading,loadingAriaMessage,loadingSpinnerProps={animationSize:50,circleSize:6}}){const loadingRef=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.li)(null),onLoadMoreRef=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.li)(onLoadMore);onLoadMoreRef.current=onLoadMore;const[loadState,dispatch]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.WO)(loadReducer,State.Loadable),loadingAlert=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Kr)((()=>loadState===State.LoadingInternal?loadingAriaMessage:loadState===State.LoadingExternal||canLoadMore?null:allDataLoadedAriaMessage),[allDataLoadedAriaMessage,loadingAriaMessage,loadState,canLoadMore]);(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.vJ)((()=>{loadState===State.LoadingInternal&&onLoadMoreRef.current?.()}),[loadState]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.vJ)((()=>{isLoading&&dispatch(Action.OnExternalLoad)}),[isLoading]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.vJ)((()=>{isLoading||dispatch(canLoadMore?Action.OnLoadSuccess:Action.OnAllLoaded)}),[isLoading,canLoadMore]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.vJ)((()=>{canLoadMore&&dispatch(Action.OnCanLoadMore)}),[canLoadMore]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.vJ)((()=>{if(!loadingRef.current)return;const observer=new IntersectionObserver((entries=>{entries.forEach((entry=>{entry.isIntersecting&&dispatch(Action.OnInternalLoad)}))}),{rootMargin:"0px",threshold:0}),triggerEl=loadingRef.current;return observer.observe(triggerEl),()=>{observer.unobserve(triggerEl)}}),[]);const loadingContent=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Kr)((()=>loadState===State.LoadingExternal?null:canLoadMore?react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingContainer,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_loadingSpinner__WEBPACK_IMPORTED_MODULE_6__.A,loadingSpinnerProps)):allDataLoadedMessage?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_typography__WEBPACK_IMPORTED_MODULE_4__.E.Paragraph,{size:_theme__WEBPACK_IMPORTED_MODULE_5__.$.Small},allDataLoadedMessage):null),[allDataLoadedMessage,canLoadMore,loadState,loadingSpinnerProps]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ScrollMessage,{"data-testid":"load-more-on-scroll",ref:loadingRef},loadingAlert&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(AriaOnlyAlert,{role:"status"},loadingAlert),loadingContent)}const __WEBPACK_DEFAULT_EXPORT__=InfiniteScroller;InfiniteScroller.__docgenInfo={description:"",methods:[],displayName:"InfiniteScroller",props:{allDataLoadedMessage:{required:!1,tsType:{name:"string"},description:""},allDataLoadedAriaMessage:{required:!1,tsType:{name:"string"},description:""},onLoadMore:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},canLoadMore:{required:!1,tsType:{name:"boolean"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},loadingAriaMessage:{required:!1,tsType:{name:"string"},description:""},loadingSpinnerProps:{required:!1,tsType:{name:"Partial",elements:[{name:"ComponentProps",elements:[{name:"LoadingSpinner"}],raw:"ComponentProps<typeof LoadingSpinner>"}],raw:"Partial<ComponentProps<typeof LoadingSpinner>>"},description:"",defaultValue:{value:"{ animationSize: 50, circleSize: 6 }",computed:!1}}}}},"./packages/design-system/src/components/loadingSpinner/loadingSpinner.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),uuid__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/i18n/src/i18n.ts"),_theme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/helpers/visuallyHidden.ts"),_theme__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/theme/constants/index.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const TAU=2*Math.PI,AriaOnlyAlert=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.span.withConfig({displayName:"loadingSpinner__AriaOnlyAlert",componentId:"sc-10eor9p-0"})(["",""],_theme__WEBPACK_IMPORTED_MODULE_4__.Q),Container=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"loadingSpinner__Container",componentId:"sc-10eor9p-1"})(["position:relative;height:","px;width:","px;color:",";"],(({animationSize})=>animationSize),(({animationSize})=>animationSize),(({theme})=>theme.colors.interactiveBg.brandNormal)),Circle=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"loadingSpinner__Circle",componentId:"sc-10eor9p-2"})(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) ",";height:","px;width:","px;background-color:",";border-radius:",";animation-name:",";animation-fill-mode:both;animation-duration:","s;animation-iteration-count:infinite;animation-timing-function:",";"],(({$position:{x,y}})=>`translate(${x}px, ${y}px)`),(({circleSize})=>circleSize),(({circleSize})=>circleSize),(({theme})=>theme.colors.interactiveBg.brandNormal),(({theme})=>theme.borders.radius.round),(({circleIndex,numCircles})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.i7)(["0%{opacity:1}","{opacity:1}","{opacity:0.3}","{opacity:1}"],100*circleIndex/numCircles+"%",100*(circleIndex+1)/numCircles+"%",100*(circleIndex+1)/numCircles+1+"%")),.85,_theme__WEBPACK_IMPORTED_MODULE_5__.U.inOutQuad);function LoadingSpinner(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(27);let props,t1,t2,t3,t4;$[0]!==t0?(({animationSize:t1,circleSize:t2,loadingMessage:t3,numCircles:t4,...props}=t0),$[0]=t0,$[1]=props,$[2]=t1,$[3]=t2,$[4]=t3,$[5]=t4):(props=$[1],t1=$[2],t2=$[3],t3=$[4],t4=$[5]);const animationSize=void 0===t1?95:t1,circleSize=void 0===t2?12:t2;let t5;$[6]!==t3?(t5=void 0===t3?(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Loading","web-stories"):t3,$[6]=t3,$[7]=t5):t5=$[7];const loadingMessage=t5,numCircles=void 0===t4?11:t4;let t6,t7;$[8]!==numCircles?(t6=()=>Array.from({length:numCircles}).fill(1).map(_temp),t7=[numCircles],$[8]=numCircles,$[9]=t6,$[10]=t7):(t6=$[9],t7=$[10]);const ids=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t6,t7);let t8,t9,t10;if($[11]!==loadingMessage?(t8=loadingMessage&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(AriaOnlyAlert,{role:"status"},loadingMessage),$[11]=loadingMessage,$[12]=t8):t8=$[12],$[13]!==animationSize||$[14]!==circleSize||$[15]!==ids||$[16]!==numCircles){let t10;$[18]!==animationSize||$[19]!==circleSize||$[20]!==numCircles?(t10=(id,index)=>{const angle=((index,numCircles)=>TAU*index/numCircles)(index,numCircles),position=((angle,animationSize)=>{const radius=animationSize/2,x=Math.sin(angle)*radius,y=-Math.cos(angle)*radius;return{x:x.toFixed(1),y:y.toFixed(1)}})(angle,animationSize);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Circle,{key:id,circleIndex:index,circleSize,numCircles,$position:position})},$[18]=animationSize,$[19]=circleSize,$[20]=numCircles,$[21]=t10):t10=$[21],t9=ids.map(t10),$[13]=animationSize,$[14]=circleSize,$[15]=ids,$[16]=numCircles,$[17]=t9}else t9=$[17];return $[22]!==animationSize||$[23]!==props||$[24]!==t8||$[25]!==t9?(t10=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Container,_extends({animationSize},props),t8,t9),$[22]=animationSize,$[23]=props,$[24]=t8,$[25]=t9,$[26]=t10):t10=$[26],t10}function _temp(){return(0,uuid__WEBPACK_IMPORTED_MODULE_7__.A)()}const __WEBPACK_DEFAULT_EXPORT__=LoadingSpinner;LoadingSpinner.__docgenInfo={description:"",methods:[],displayName:"LoadingSpinner",props:{animationSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"95",computed:!1}},circleSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"12",computed:!1}},loadingMessage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"__('Loading', 'web-stories')",computed:!0}},numCircles:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"11",computed:!1}}},composes:["ComponentPropsWithoutRef"]}},"./packages/design-system/src/contexts/snackbar/context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./packages/react/src/index.ts").q6)({showSnackbar:()=>!1,clearSnackbar:()=>!1,removeSnack:()=>!1,currentSnacks:[],placement:""})},"./packages/design-system/src/contexts/snackbar/snackbarProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),uuid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js"),_context__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/contexts/snackbar/context.ts");function SnackbarProvider(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(20),{children,placement:t1}=t0,placement=void 0===t1?"bottom":t1;let t2;$[0]===Symbol.for("react.memo_cache_sentinel")?(t2=[],$[0]=t2):t2=$[0];const[notifications,setNotifications]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.J0)(t2);let t3,t4;$[1]!==setNotifications?(t3=toRemove=>{setNotifications((currentNotifications=>currentNotifications.filter((item=>Array.isArray(toRemove)?!toRemove.find((t4=>{const{id}=t4;return id===item.id})):item.id!==toRemove.id))))},$[1]=setNotifications,$[2]=t3):t3=$[2],$[3]===Symbol.for("react.memo_cache_sentinel")?(t4=[],$[3]=t4):t4=$[3];const remove=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t3,t4);let t5,t6;$[4]!==setNotifications?(t5=notification=>{const newNotification={id:(0,uuid__WEBPACK_IMPORTED_MODULE_3__.A)(),...notification};setNotifications((currentNotifications_0=>[...currentNotifications_0,newNotification]))},$[4]=setNotifications,$[5]=t5):t5=$[5],$[6]===Symbol.for("react.memo_cache_sentinel")?(t6=[],$[6]=t6):t6=$[6];const create=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t5,t6);let t7,t8;$[7]!==setNotifications?(t7=()=>{setNotifications([])},$[7]=setNotifications,$[8]=t7):t7=$[8],$[9]===Symbol.for("react.memo_cache_sentinel")?(t8=[],$[9]=t8):t8=$[9];const clear=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t7,t8);let t10,t9;$[10]!==clear||$[11]!==create||$[12]!==notifications||$[13]!==placement||$[14]!==remove?(t9=()=>({showSnackbar:create,clearSnackbar:clear,removeSnack:remove,currentSnacks:notifications,placement}),t10=[create,clear,remove,notifications,placement],$[10]=clear,$[11]=create,$[12]=notifications,$[13]=placement,$[14]=remove,$[15]=t10,$[16]=t9):(t10=$[15],t9=$[16]);const state=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t9,t10);let t11;return $[17]!==children||$[18]!==state?(t11=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_context__WEBPACK_IMPORTED_MODULE_4__.A.Provider,{value:state},children),$[17]=children,$[18]=state,$[19]=t11):t11=$[19],t11}const __WEBPACK_DEFAULT_EXPORT__=SnackbarProvider;SnackbarProvider.__docgenInfo={description:"",methods:[],displayName:"SnackbarProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},placement:{required:!1,tsType:{name:"union",raw:"'bottom' | 'top'",elements:[{name:"literal",value:"'bottom'"},{name:"literal",value:"'top'"}]},description:"",defaultValue:{value:"'bottom'",computed:!1}}}}},"./packages/design-system/src/contexts/snackbar/useSnackbar.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>useSnackbar});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/contexts/snackbar/context.ts");function useSnackbar(t0){const selector=void 0===t0?_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.D_:t0;return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.i7)(_context__WEBPACK_IMPORTED_MODULE_1__.A,selector)}},"./packages/design-system/src/icons/arrow_down.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgArrowDown=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m16.5 21.282 4.645-4.704a.5.5 0 0 1 .711.702l-5.5 5.571a.5.5 0 0 1-.712 0l-5.5-5.57a.5.5 0 0 1 .712-.703l4.644 4.704V9.5a.5.5 0 0 1 1 0z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgArrowDown)},"./packages/design-system/src/theme/helpers/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Qm:()=>_outline__WEBPACK_IMPORTED_MODULE_0__.Q});var _outline__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts")}}]);