"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[8361],{"./packages/design-system/src/components/snackbar/snackbarContainer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>snackbarContainer});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),CSSTransition=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),TransitionGroup=__webpack_require__("./node_modules/react-transition-group/esm/TransitionGroup.js"),v4=__webpack_require__("./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js"),useLiveRegion=__webpack_require__("./packages/design-system/src/utils/useLiveRegion.ts"),polished_esm=__webpack_require__("./node_modules/polished/dist/polished.esm.js"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),button_button=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),checkmark_small=__webpack_require__("./packages/design-system/src/icons/checkmark_small.svg"),exclamation_outline=__webpack_require__("./packages/design-system/src/icons/exclamation_outline.svg"),cross=__webpack_require__("./packages/design-system/src/icons/cross.svg"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),outline=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),noop=__webpack_require__("./packages/design-system/src/utils/noop.ts"),snackbar_types=__webpack_require__("./packages/design-system/src/components/snackbar/types.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const MessageContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"snackbarMessage__MessageContainer",componentId:"sc-wpiwrk-0"})(["display:flex;align-items:center;justify-content:space-between;min-height:48px;padding:10px 16px;margin-top:20px;background-color:",";color:",";border:",";border-radius:",";z-index:",";pointer-events:auto;position:absolute;bottom:0;"],(({theme})=>theme.colors.inverted.bg.primary),(({theme})=>theme.colors.inverted.fg.primary),(({theme})=>`1px solid ${(0,polished_esm.B3)(theme.colors.standard.white,.24)}`),(({theme})=>theme.borders.radius.medium),(({customZIndex})=>customZIndex||snackbar_types.AV)),Message=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).withConfig({displayName:"snackbarMessage__Message",componentId:"sc-wpiwrk-1"})(["color:",";max-width:430px;padding-right:",";"],(({theme})=>theme.colors.inverted.fg.primary),(({hasAction,hasThumbnail})=>hasThumbnail?"16px":hasAction?"52px":"0px")),ActionContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"snackbarMessage__ActionContainer",componentId:"sc-wpiwrk-2"})(["display:flex;align-items:center;justify-content:flex-end;"]),ThumbnailWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"snackbarMessage__ThumbnailWrapper",componentId:"sc-wpiwrk-3"})(["position:relative;margin-left:16px;margin-right:","px;"],(({hasAction})=>hasAction?16:0)),Thumbnail=styled_components_browser_esm.Ay.img.withConfig({displayName:"snackbarMessage__Thumbnail",componentId:"sc-wpiwrk-4"})(["max-height:45px;max-width:45px;min-height:","px;min-width:","px;background-color:",";border-radius:",";",";"],30,30,(({theme})=>theme.colors.fg.tertiary),(({theme})=>theme.borders.radius.small),(({theme,status})=>status===snackbar_types.TP.Success?(0,styled_components_browser_esm.AH)(["border:1px solid ",";"],theme.colors.green[20]):status===snackbar_types.TP.Error?(0,styled_components_browser_esm.AH)(["border:1px solid ",";"],theme.colors.red[20]):void 0)),ThumbnailIcon=styled_components_browser_esm.Ay.div.withConfig({displayName:"snackbarMessage__ThumbnailIcon",componentId:"sc-wpiwrk-5"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);",";svg{width:100%;height:auto;}"],(({theme,status})=>status===snackbar_types.TP.Success?(0,styled_components_browser_esm.AH)(["width:30px;color:",";"],theme.colors.fg.positive):status===snackbar_types.TP.Error?(0,styled_components_browser_esm.AH)(["width:20px;color:",";"],theme.colors.fg.negative):void 0)),ActionButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"snackbarMessage__ActionButton",componentId:"sc-wpiwrk-6"})(["align-self:flex-end;min-width:1px;height:2em;padding:0;color:",";font-weight:",";"," &:hover,&:active{color:",";}"],(({theme})=>theme.colors.inverted.fg.linkNormal),(({theme})=>theme.typography.weight.bold),(({theme})=>(0,outline.Q)(theme.colors.border.focus,theme.colors.inverted.bg.primary)),(({theme})=>theme.colors.inverted.fg.linkHover)),CloseButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"snackbarMessage__CloseButton",componentId:"sc-wpiwrk-7"})(["height:2em;padding:0;margin-left:16px;color:",";"," svg{height:32px;}"],(({theme})=>theme.colors.inverted.fg.primary),(({theme})=>(0,outline.Q)(theme.colors.border.focus,theme.colors.inverted.bg.primary)));function SnackbarMessage({"aria-label":ariaLabel,actionLabel,onAction=noop.l,onDismiss=noop.l,isPreventAutoDismiss,isPreventActionDismiss,thumbnail,message,removeMessageTimeInterval,showCloseButton=!0,placement=snackbar_types.nt.Bottom,actionHelpText,...props}){const autoDismissRef=(0,src.li)(null);autoDismissRef.current=isPreventAutoDismiss?noop.l:onDismiss;const messageRemovalTimeInterval=(0,src.li)("number"==typeof removeMessageTimeInterval&&removeMessageTimeInterval<=snackbar_types.Ox&&removeMessageTimeInterval>=snackbar_types.eK?removeMessageTimeInterval:snackbar_types.Ox);(0,src.vJ)((()=>{if(!autoDismissRef.current)return noop.l;const dismissTimeout=setTimeout((()=>autoDismissRef.current?.()),messageRemovalTimeInterval.current);return()=>clearTimeout(dismissTimeout)}),[]);const handleAction=(0,src.hb)((evt=>{onAction(evt),isPreventActionDismiss||onDismiss()}),[onAction,onDismiss,isPreventActionDismiss]),hasAction=Boolean(actionLabel),hasThumbnail=Boolean(actionLabel);return react.createElement(MessageContainer,_extends({role:"alert",hasAction,placement},props),react.createElement(Message,{"aria-label":ariaLabel,size:types.$.Small,hasAction,hasThumbnail},message),thumbnail&&react.createElement(ThumbnailWrapper,{hasAction},react.createElement(Thumbnail,{decoding:"async",crossOrigin:"anonymous",src:thumbnail.src,alt:thumbnail.alt,status:thumbnail.status}),react.createElement(ThumbnailIcon,{status:thumbnail.status},thumbnail.status===snackbar_types.TP.Success&&react.createElement(checkmark_small.A,null),thumbnail.status===snackbar_types.TP.Error&&react.createElement(exclamation_outline.A,null))),(actionLabel||showCloseButton)&&react.createElement(ActionContainer,null,actionLabel&&react.createElement(ActionButton,{onClick:handleAction},actionLabel),showCloseButton&&react.createElement(CloseButton,{onClick:onDismiss,"aria-label":(0,i18n.__)("Close","web-stories"),tabIndex:-1},react.createElement(cross.A,{"aria-hidden":!0}))))}const snackbarMessage=SnackbarMessage;function snackbarContainer_extends(){return snackbarContainer_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},snackbarContainer_extends.apply(null,arguments)}SnackbarMessage.__docgenInfo={description:"",methods:[],displayName:"SnackbarMessage",props:{actionLabel:{required:!1,tsType:{name:"JSX.Element"},description:""},onAction:{required:!1,tsType:{name:"signature",type:"function",raw:"(evt: MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"MouseEvent",elements:[{name:"HTMLButtonElement"}],raw:"MouseEvent<HTMLButtonElement>"},name:"evt"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}},onDismiss:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}},isPreventAutoDismiss:{required:!1,tsType:{name:"boolean"},description:""},isPreventActionDismiss:{required:!1,tsType:{name:"boolean"},description:""},thumbnail:{required:!1,tsType:{name:"SnackbarNotificationThumbnail"},description:""},message:{required:!1,tsType:{name:"string"},description:""},removeMessageTimeInterval:{required:!1,tsType:{name:"number"},description:""},showCloseButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},placement:{required:!1,tsType:{name:"SnackbarPlacement"},description:"",defaultValue:{value:"SnackbarPlacement.Bottom",computed:!0}},actionHelpText:{required:!1,tsType:{name:"string"},description:""}},composes:["ComponentPropsWithoutRef"]};const StyledContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"snackbarContainer__StyledContainer",componentId:"sc-w93jca-0"})(["position:fixed;top:",";bottom:",";",";margin-bottom:33px;display:flex;flex-direction:column;align-items:",";width:100%;z-index:2147483647;pointer-events:none;"],(({placement="center"})=>0===placement.indexOf("top")?0:"inherit"),(({placement="center"})=>0===placement.indexOf("bottom")?0:"inherit"),(function getSnackbarXPos({placement}){switch(placement){case snackbar_types.nt.Top:case snackbar_types.nt.Bottom:return"\n      left: calc(50% + 4rem);\n      transform: translateX(-50%);\n      width: auto;\n    ";case snackbar_types.nt.TopLeft:case snackbar_types.nt.BottomLeft:return"left: 60px;";case snackbar_types.nt.TopRight:case snackbar_types.nt.BottomRight:return"right: 60px;";default:return"left: 60px;"}}),(({alignItems="center"})=>alignItems));const ChildContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"snackbarContainer__ChildContainer",componentId:"sc-w93jca-1"})(["&.react-snackbar-alert__snackbar-container-enter{opacity:0;}&.react-snackbar-alert__snackbar-container-enter-active{opacity:1;transition:all 300ms ease-out;}&.react-snackbar-alert__snackbar-container-exit{opacity:1;}&.react-snackbar-alert__snackbar-container-exit-active{opacity:0;transition:all 100ms ease-out;}"]);function SnackbarContainer(t0){const $=(0,dist.c)(40),{component:t1,notifications:t2,onRemove,placement:t3,max:t4}=t0,Component=void 0===t1?snackbarMessage:t1;let t5;$[0]!==t2?(t5=void 0===t2?[]:t2,$[0]=t2,$[1]=t5):t5=$[1];const notifications=t5,placement=void 0===t3?snackbar_types.nt.Bottom:t3,max=void 0===t4?1:t4,speak=(0,useLiveRegion.A)("assertive");let t6;$[2]===Symbol.for("react.memo_cache_sentinel")?(t6=new Set,$[2]=t6):t6=$[2];const announcedNotifications=(0,src.li)(t6);let t7,t8;$[3]!==notifications?(t7=()=>notifications.map(_temp),t8=[notifications],$[3]=notifications,$[4]=t7,$[5]=t8):(t7=$[4],t8=$[5]);const ids=(0,src.Kr)(t7,t8);let t9;$[6]!==notifications||$[7]!==placement?(t9=0===placement.indexOf("top")?[...notifications].reverse():notifications,$[6]=notifications,$[7]=placement,$[8]=t9):t9=$[8];const orderedNotifications=t9;let t10,t11;$[9]!==onRemove?(t10=notification=>()=>{onRemove?.(notification),notification.onDismiss?.()},t11=[onRemove],$[9]=onRemove,$[10]=t10,$[11]=t11):(t10=$[10],t11=$[11]);const handleDismiss=(0,src.hb)(t10,t11);let t12,t13,t14,t15,t16,t17,t18;if($[12]!==max||$[13]!==notifications||$[14]!==onRemove?(t12=()=>{"number"==typeof max&&notifications.length>max&&onRemove?.(notifications.slice(0,notifications.length-max))},t13=[max,notifications,onRemove],$[12]=max,$[13]=notifications,$[14]=onRemove,$[15]=t12,$[16]=t13):(t12=$[15],t13=$[16]),(0,src.vJ)(t12,t13),$[17]!==announcedNotifications||$[18]!==notifications||$[19]!==speak?(t14=()=>{notifications.forEach((notification_0=>{if(!announcedNotifications.current.has(notification_0)){const message=`${String(notification_0.message)} ${notification_0.actionHelpText||""}`.trim();speak(message),announcedNotifications.current.add(notification_0)}}))},$[17]=announcedNotifications,$[18]=notifications,$[19]=speak,$[20]=t14):t14=$[20],$[21]!==notifications||$[22]!==speak?(t15=[notifications,speak],$[21]=notifications,$[22]=speak,$[23]=t15):t15=$[23],(0,src.vJ)(t14,t15),$[24]!==Component||$[25]!==handleDismiss||$[26]!==ids||$[27]!==orderedNotifications||$[28]!==placement){let t17;$[30]!==Component||$[31]!==handleDismiss||$[32]!==ids||$[33]!==placement?(t17=notification_1=>{const{actionLabel,dismissible,message:message_0,onAction,preventActionDismiss,preventAutoDismiss,timeout,...notificationProps}=notification_1,id=notification_1.id||ids[0],ref=(0,src._3)();return react.createElement(CSSTransition.A,{in:!0,key:id,timeout:300,unmountOnExit:!0,nodeRef:ref,classNames:"react-snackbar-alert__snackbar-container"},react.createElement(ChildContainer,{ref},react.createElement(Component,snackbarContainer_extends({},notificationProps,{"aria-hidden":!0,placement,onDismiss:handleDismiss(notification_1),onAction,actionLabel,message:message_0,showCloseButton:dismissible,removeMessageTimeInterval:timeout,isPreventAutoDismiss:preventAutoDismiss,isPreventActionDismiss:preventActionDismiss}))))},$[30]=Component,$[31]=handleDismiss,$[32]=ids,$[33]=placement,$[34]=t17):t17=$[34],t16=orderedNotifications.map(t17),$[24]=Component,$[25]=handleDismiss,$[26]=ids,$[27]=orderedNotifications,$[28]=placement,$[29]=t16}else t16=$[29];return $[35]!==t16?(t17=react.createElement(TransitionGroup.A,null,t16),$[35]=t16,$[36]=t17):t17=$[36],$[37]!==placement||$[38]!==t17?(t18=react.createElement(StyledContainer,{placement},t17),$[37]=placement,$[38]=t17,$[39]=t18):t18=$[39],t18}function _temp(){return(0,v4.A)()}const snackbarContainer=SnackbarContainer;SnackbarContainer.__docgenInfo={description:"",methods:[],displayName:"SnackbarContainer",props:{component:{required:!1,tsType:{name:"FC",elements:[{name:"ComponentProps",elements:[{name:"SnackbarMessage"}],raw:"ComponentProps<typeof SnackbarMessage>"}],raw:"FC<ComponentProps<typeof SnackbarMessage>>"},description:"",defaultValue:{value:"function SnackbarMessage({\n  'aria-label': ariaLabel,\n  actionLabel,\n  onAction = noop,\n  onDismiss = noop,\n  isPreventAutoDismiss,\n  isPreventActionDismiss,\n  thumbnail,\n  message,\n  removeMessageTimeInterval,\n  showCloseButton = true,\n  placement = SnackbarPlacement.Bottom,\n  actionHelpText,\n  ...props\n}: SnackbarMessageProps) {\n  const autoDismissRef = useRef<(() => void) | null>(null);\n  autoDismissRef.current = isPreventAutoDismiss ? noop : onDismiss;\n\n  const messageRemovalTimeInterval = useRef(\n    typeof removeMessageTimeInterval === 'number' &&\n      removeMessageTimeInterval <= AUTO_REMOVE_MESSAGE_TIME_INTERVAL_MAX &&\n      removeMessageTimeInterval >= AUTO_REMOVE_MESSAGE_TIME_INTERVAL_MIN\n      ? removeMessageTimeInterval\n      : AUTO_REMOVE_MESSAGE_TIME_INTERVAL_MAX\n  );\n\n  useEffect(() => {\n    if (!autoDismissRef.current) {\n      return noop;\n    }\n    const dismissTimeout = setTimeout(\n      () => autoDismissRef.current?.(),\n      messageRemovalTimeInterval.current\n    );\n    return () => clearTimeout(dismissTimeout);\n  }, []);\n\n  const handleAction = useCallback(\n    (evt: MouseEvent<HTMLButtonElement>) => {\n      onAction(evt);\n      if (!isPreventActionDismiss) {\n        onDismiss();\n      }\n    },\n    [onAction, onDismiss, isPreventActionDismiss]\n  );\n\n  const hasAction = Boolean(actionLabel);\n  const hasThumbnail = Boolean(actionLabel);\n\n  return (\n    <MessageContainer\n      role=\"alert\"\n      hasAction={hasAction}\n      placement={placement}\n      {...props}\n    >\n      <Message\n        aria-label={ariaLabel}\n        size={TextSize.Small}\n        hasAction={hasAction}\n        hasThumbnail={hasThumbnail}\n      >\n        {message}\n      </Message>\n      {thumbnail && (\n        <ThumbnailWrapper hasAction={hasAction}>\n          <Thumbnail\n            decoding=\"async\"\n            crossOrigin=\"anonymous\"\n            src={thumbnail.src}\n            alt={thumbnail.alt}\n            status={thumbnail.status}\n          />\n          <ThumbnailIcon status={thumbnail.status}>\n            {thumbnail.status === ThumbnailStatus.Success && <CheckmarkSmall />}\n            {thumbnail.status === ThumbnailStatus.Error && (\n              <ExclamationOutline />\n            )}\n          </ThumbnailIcon>\n        </ThumbnailWrapper>\n      )}\n      {(actionLabel || showCloseButton) && (\n        <ActionContainer>\n          {actionLabel && (\n            <ActionButton onClick={handleAction}>{actionLabel}</ActionButton>\n          )}\n          {showCloseButton && (\n            <CloseButton\n              onClick={onDismiss}\n              aria-label={__('Close', 'web-stories')}\n              tabIndex={-1}\n            >\n              <Cross aria-hidden />\n            </CloseButton>\n          )}\n        </ActionContainer>\n      )}\n    </MessageContainer>\n  );\n}",computed:!1}},notifications:{required:!1,tsType:{name:"Array",elements:[{name:"SnackbarNotification"}],raw:"SnackbarNotification[]"},description:"",defaultValue:{value:"[]",computed:!1}},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(\n  notification: SnackbarNotification | SnackbarNotification[]\n) => void",signature:{arguments:[{type:{name:"union",raw:"SnackbarNotification | SnackbarNotification[]",elements:[{name:"SnackbarNotification"},{name:"Array",elements:[{name:"SnackbarNotification"}],raw:"SnackbarNotification[]"}]},name:"notification"}],return:{name:"void"}}},description:""},placement:{required:!1,tsType:{name:"SnackbarPlacement"},description:"",defaultValue:{value:"SnackbarPlacement.Bottom",computed:!0}},max:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}}}}},"./packages/design-system/src/components/snackbar/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AV:()=>DEFAULT_MESSAGE_Z_INDEX,Ox:()=>AUTO_REMOVE_MESSAGE_TIME_INTERVAL_MAX,TP:()=>ThumbnailStatus,eK:()=>AUTO_REMOVE_MESSAGE_TIME_INTERVAL_MIN,nt:()=>SnackbarPlacement});const AUTO_REMOVE_MESSAGE_TIME_INTERVAL_MAX=1e4,AUTO_REMOVE_MESSAGE_TIME_INTERVAL_MIN=1200,DEFAULT_MESSAGE_Z_INDEX=15;let SnackbarPlacement=function(SnackbarPlacement){return SnackbarPlacement.TopLeft="top-left",SnackbarPlacement.BottomLeft="bottom-left",SnackbarPlacement.TopRight="top-right",SnackbarPlacement.BottomRight="bottom-right",SnackbarPlacement.Top="top",SnackbarPlacement.Bottom="bottom",SnackbarPlacement}({}),ThumbnailStatus=function(ThumbnailStatus){return ThumbnailStatus.Success="success",ThumbnailStatus.Error="error",ThumbnailStatus}({})},"./packages/design-system/src/icons/exclamation_outline.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgExclamationOutline=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 9a7 7 0 1 0 0 14 7 7 0 0 0 0-14m0-1a8 8 0 1 0 0 16 8 8 0 0 0 0-16m0 10a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-.5-2a.5.5 0 0 0 1 0v-4a.5.5 0 0 0-1 0z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgExclamationOutline)}}]);