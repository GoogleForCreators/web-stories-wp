"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[9942],{"./packages/design-system/src/components/button/toggleButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>ToggleButton,m:()=>LockToggle});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/icons/lock_closed.svg"),_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/icons/lock_open.svg"),_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/button/button.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function ToggleButton(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(8);let rest,t1,type;$[0]!==t0?(({isToggled:t1,type,...rest}=t0),$[0]=t0,$[1]=rest,$[2]=t1,$[3]=type):(rest=$[1],t1=$[2],type=$[3]);const isToggled=void 0!==t1&&t1,actualType=type===_constants__WEBPACK_IMPORTED_MODULE_2__.VQ.Quaternary?type:isToggled?_constants__WEBPACK_IMPORTED_MODULE_2__.VQ.Secondary:_constants__WEBPACK_IMPORTED_MODULE_2__.VQ.Tertiary;let t2;return $[4]!==actualType||$[5]!==isToggled||$[6]!==rest?(t2=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_3__.$,_extends({},rest,{type:actualType,"aria-pressed":isToggled,isToggled})),$[4]=actualType,$[5]=isToggled,$[6]=rest,$[7]=t2):t2=$[7],t2}function LockToggle(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(9);let rest,t1;$[0]!==t0?(({isLocked:t1,...rest}=t0),$[0]=t0,$[1]=rest,$[2]=t1):(rest=$[1],t1=$[2]);const isLocked=void 0!==t1&&t1;let t2,t3;return $[3]!==isLocked?(t2=isLocked?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons__WEBPACK_IMPORTED_MODULE_4__.A,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons__WEBPACK_IMPORTED_MODULE_5__.A,null),$[3]=isLocked,$[4]=t2):t2=$[4],$[5]!==isLocked||$[6]!==rest||$[7]!==t2?(t3=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_3__.$,_extends({},rest,{"aria-pressed":isLocked,type:_constants__WEBPACK_IMPORTED_MODULE_2__.VQ.Tertiary,size:_constants__WEBPACK_IMPORTED_MODULE_2__.Mp.Small,variant:_constants__WEBPACK_IMPORTED_MODULE_2__.Ak.Square}),t2),$[5]=isLocked,$[6]=rest,$[7]=t2,$[8]=t3):t3=$[8],t3}ToggleButton.__docgenInfo={description:"",methods:[],displayName:"ToggleButton",props:{type:{required:!1,tsType:{name:"ButtonType"},description:""},isToggled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["Omit"]},LockToggle.__docgenInfo={description:"",methods:[],displayName:"LockToggle",props:{isLocked:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["ComponentPropsWithoutRef"]}},"./packages/design-system/src/components/checkbox/checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/icons/checkmark.svg"),_theme_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Border=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"checkbox__Border",componentId:"sc-5lv9m4-0"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.AH)(["position:absolute;height:","px;width:","px;border-radius:",";border:","px solid ",";pointer-events:none;"],24,24,theme.borders.radius.small,1,theme.colors.border.defaultNormal))),StyledCheckmark=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay)(_icons__WEBPACK_IMPORTED_MODULE_4__.A).attrs({role:"img"}).withConfig({displayName:"checkbox__StyledCheckmark",componentId:"sc-5lv9m4-1"})(["height:auto;width:32px;color:",";"],(({theme})=>theme.colors.fg.primary)),CheckboxContainer=styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay.div.withConfig({displayName:"checkbox__CheckboxContainer",componentId:"sc-5lv9m4-2"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.AH)(["position:relative;display:flex;justify-content:center;align-items:center;height:","px;width:","px;min-height:","px;min-width:","px;input[type='checkbox']{position:absolute;width:","px;height:","px;margin:0;padding:0;opacity:0;cursor:pointer;:disabled{~ ","{border-color:",";}~ ","{color:",";}}&:focus-visible:not(:active) ~ ","{",";}:active ~ ","{border-color:",";box-shadow:0 0 0 8px ",";}}"],24,24,24,24,25,25,Border,theme.colors.border.disable,StyledCheckmark,theme.colors.fg.disable,Border,(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_5__.g)(theme.colors.border.focus),Border,theme.colors.border.defaultNormal,theme.colors.shadow.active))),Checkbox=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Rf)(((t0,ref)=>{const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(18);let checked,disabled,props,t1;$[0]!==t0?(({checked,disabled,className:t1,...props}=t0),$[0]=t0,$[1]=checked,$[2]=disabled,$[3]=props,$[4]=t1):(checked=$[1],disabled=$[2],props=$[3],t1=$[4]);const className=void 0===t1?"":t1,t2=Boolean(checked);let t3,t4,t5,t6;return $[5]!==checked||$[6]!==disabled||$[7]!==props||$[8]!==ref||$[9]!==t2?(t3=react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",_extends({type:"checkbox",ref,checked:t2,disabled,"aria-checked":checked},props)),$[5]=checked,$[6]=disabled,$[7]=props,$[8]=ref,$[9]=t2,$[10]=t3):t3=$[10],$[11]!==checked?(t4=checked&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledCheckmark,{"aria-label":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_6__.__)("Checked","web-stories")}),$[11]=checked,$[12]=t4):t4=$[12],$[13]===Symbol.for("react.memo_cache_sentinel")?(t5=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Border,null),$[13]=t5):t5=$[13],$[14]!==className||$[15]!==t3||$[16]!==t4?(t6=react__WEBPACK_IMPORTED_MODULE_0__.createElement(CheckboxContainer,{className},t3,t4,t5),$[14]=className,$[15]=t3,$[16]=t4,$[17]=t6):t6=$[17],t6})),__WEBPACK_DEFAULT_EXPORT__=Checkbox;Checkbox.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{className:{defaultValue:{value:"''",computed:!1},required:!1}}}},"./packages/design-system/src/components/dialog/dialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/modal/modal.tsx"),_typography__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/typography/headline/index.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const DialogBox=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"dialog__DialogBox",componentId:"sc-1p8gxmh-0"})(["display:flex;flex-direction:column;align-items:flex-start;max-width:512px;max-height:100%;color:",";background-color:",";overflow-y:auto;padding:12px 16px;border-radius:",";border:",";"],(({theme})=>theme.colors.fg.primary),(({theme})=>theme.colors.bg.primary),(({theme})=>theme.borders.radius.medium),(({theme})=>`1px solid ${theme.colors.divider.primary}`)),DialogContent=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"dialog__DialogContent",componentId:"sc-1p8gxmh-1"})(["padding:8px 0 12px;margin:0;overflow-y:auto;color:",";"],(({theme})=>theme.colors.fg.primary)),DialogActions=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"dialog__DialogActions",componentId:"sc-1p8gxmh-2"})(["display:flex;justify-content:flex-end;width:100%;& > button,& > a{margin-right:10px;margin-left:6px;&:last-child{margin-right:0;}}"]);function Dialog(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(26);let children,contentLabel,onClose,rest,t1,t2,title,t3;$[0]!==t0?(({children,title,actions:t1,isOpen:t2,onClose,contentLabel,...rest}=t0),$[0]=t0,$[1]=children,$[2]=contentLabel,$[3]=onClose,$[4]=rest,$[5]=t1,$[6]=t2,$[7]=title):(children=$[1],contentLabel=$[2],onClose=$[3],rest=$[4],t1=$[5],t2=$[6],title=$[7]),$[8]!==t1?(t3=void 0===t1?[]:t1,$[8]=t1,$[9]=t3):t3=$[9];const actions=t3,isOpen=void 0!==t2&&t2,t4=contentLabel||title;let t5,t6,t7,t8,t9;return $[10]!==title?(t5=Boolean(title)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_typography__WEBPACK_IMPORTED_MODULE_3__.$,{as:"h2",size:_theme__WEBPACK_IMPORTED_MODULE_4__.$.XSmall},title),$[10]=title,$[11]=t5):t5=$[11],$[12]!==children?(t6=react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContent,null,children),$[12]=children,$[13]=t6):t6=$[13],$[14]!==actions?(t7=Boolean(actions)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogActions,null,actions),$[14]=actions,$[15]=t7):t7=$[15],$[16]!==t5||$[17]!==t6||$[18]!==t7?(t8=react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogBox,null,t5,t6,t7),$[16]=t5,$[17]=t6,$[18]=t7,$[19]=t8):t8=$[19],$[20]!==isOpen||$[21]!==onClose||$[22]!==rest||$[23]!==t4||$[24]!==t8?(t9=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_modal__WEBPACK_IMPORTED_MODULE_5__.A,_extends({isOpen,onClose,contentLabel:t4},rest),t8),$[20]=isOpen,$[21]=onClose,$[22]=rest,$[23]=t4,$[24]=t8,$[25]=t9):t9=$[25],t9}const __WEBPACK_DEFAULT_EXPORT__=Dialog;Dialog.__docgenInfo={description:"Dialog component.\n\nDialogs should be wrapped in a ThemeProvider\nand given the inverted theme to the app.",methods:[],displayName:"Dialog",props:{title:{required:!0,tsType:{name:"string"},description:""},actions:{required:!1,tsType:{name:"Array",elements:[{name:"ReactElement"}],raw:"ReactElement[]"},description:"",defaultValue:{value:"[]",computed:!1}},isOpen:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["ModalProps"]}},"./packages/design-system/src/components/input/numericInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>numericInput});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),big=__webpack_require__("./packages/design-system/node_modules/big.js/big.mjs");function parseInput(value,{allowEmpty,isFloat,min,max}){if(`${String(value)}`.length>0){let boundedValue=isFloat?Number.parseFloat(String(value)):Number.parseInt(String(value));return void 0!==min&&(boundedValue=Math.max(min,boundedValue)),void 0!==max&&(boundedValue=Math.min(max,boundedValue)),isNaN(boundedValue)?null:boundedValue}return allowEmpty?"":null}const input_useNumericInput=({allowEmpty,updateOnChange,isFloat,padZero,max,min,onChange,value,ref})=>{const _inputRef=(0,src.li)(null),inputRef=ref&&"current"in ref?ref:_inputRef,oldValueRef=(0,src.li)(value),revertToOriginalRef=(0,src.li)(!1),[currentValue,setCurrentValue]=(0,src.J0)(value),options=(0,src.Kr)((()=>({allowEmpty,isFloat,padZero,max,min})),[allowEmpty,isFloat,padZero,max,min]),handleBlur=(0,src.hb)((ev=>{let newValue=parseInput(oldValueRef.current,options);if(revertToOriginalRef.current||null===newValue)null!==currentValue&&(newValue=parseInput(currentValue,options));else{const parsedValue=parseInput(currentValue,options);null!==parsedValue&&(newValue=parsedValue)}revertToOriginalRef.current=!1,null!==newValue?(setCurrentValue(newValue),newValue!==oldValueRef.current&&onChange(ev,newValue)):void 0!==min?(setCurrentValue(min),onChange(ev,min)):allowEmpty?(setCurrentValue(""),onChange(ev,"")):(setCurrentValue("0"),onChange(ev,"0"))}),[allowEmpty,currentValue,min,onChange,options]),handleChange=(0,src.hb)((ev_0=>{const trimmedTargetValue=ev_0.target.value.trim();if(""===trimmedTargetValue)return setCurrentValue(""),void(updateOnChange&&allowEmpty&&onChange(ev_0,""));if(isNaN(Number(trimmedTargetValue)))"-"===trimmedTargetValue&&(setCurrentValue(trimmedTargetValue),updateOnChange&&onChange(ev_0,trimmedTargetValue));else{if(""===ev_0.target.value&&allowEmpty)return setCurrentValue(""),void(updateOnChange&&onChange(ev_0,""));const parsedValue_0=options.isFloat?Number.parseFloat(ev_0.target.value):Number.parseInt(ev_0.target.value);if(void 0!==max&&parsedValue_0>max)return void(parsedValue_0>max&&(setCurrentValue(trimmedTargetValue.charAt(trimmedTargetValue.length-1)),updateOnChange&&onChange(ev_0,Number(ev_0.target.value.trim().charAt(trimmedTargetValue.length-1)))));const maxPad=void 0!==max?String(max).length:0,paddedValue=!ev_0.target.value.endsWith(".")&&options.padZero?String(parsedValue_0).padStart(maxPad,"0"):trimmedTargetValue;setCurrentValue(paddedValue),updateOnChange&&onChange(ev_0,Number(paddedValue))}}),[allowEmpty,max,onChange,options,updateOnChange]),handleKeyUpAndDown=(0,src.hb)((ev_1=>{const{altKey,key}=ev_1,isCurrentValueValid=function isInputValid(value,{allowEmpty,isFloat,min,max}){if(allowEmpty&&0===`${String(value)}`.length)return!0;const valueAsANumber=isFloat?Number.parseFloat(String(value)):Number.parseInt(String(value));return!(void 0!==min&&valueAsANumber<min||void 0!==max&&valueAsANumber>max||isNaN(valueAsANumber))}(currentValue,options);let newValue_0=isCurrentValueValid?parseInput(currentValue,options):0;newValue_0=null===newValue_0?"":newValue_0;const diff=(0,big.z)(options.isFloat&&altKey?.1:1);"ArrowUp"===key?newValue_0=void 0!==max?Math.min(max,(0,big.z)(newValue_0).plus(diff).toNumber()):(0,big.z)(newValue_0).plus(diff).toNumber():"ArrowDown"===key&&(newValue_0=void 0!==min?Math.max(min,(0,big.z)(newValue_0).minus(diff).toNumber()):(0,big.z)(newValue_0).minus(diff).toNumber()),setCurrentValue(newValue_0),onChange(ev_1,Number(newValue_0))}),[currentValue,max,min,onChange,options]),handleEsc=(0,src.hb)((()=>{setCurrentValue(oldValueRef.current),revertToOriginalRef.current=!0,inputRef?.current?.blur()}),[inputRef]);return(0,src.vJ)((()=>{oldValueRef.current=value,setCurrentValue(value)}),[value]),{currentValue,inputRef,handleBlur,handleChange,handleEsc,handleKeyUpAndDown,isIndeterminate:oldValueRef.current===currentValue}};var input=__webpack_require__("./packages/design-system/src/components/input/input.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const NumericInput=(0,src.Rf)((function NumericInput(t0,ref){const $=(0,dist.c)(52);let allowEmpty,isFloat,max,min,onBlur,onChange,originalIsIndeterminate,padZero,props,t1,updateOnChange;$[0]!==t0?(({allowEmpty,isFloat,onBlur,onChange,updateOnChange,max,min,value:t1,isIndeterminate:originalIsIndeterminate,padZero,...props}=t0),$[0]=t0,$[1]=allowEmpty,$[2]=isFloat,$[3]=max,$[4]=min,$[5]=onBlur,$[6]=onChange,$[7]=originalIsIndeterminate,$[8]=padZero,$[9]=props,$[10]=t1,$[11]=updateOnChange):(allowEmpty=$[1],isFloat=$[2],max=$[3],min=$[4],onBlur=$[5],onChange=$[6],originalIsIndeterminate=$[7],padZero=$[8],props=$[9],t1=$[10],updateOnChange=$[11]);let t2,value=void 0===t1?"":t1;$[12]!==allowEmpty||$[13]!==isFloat||$[14]!==max||$[15]!==min||$[16]!==onChange||$[17]!==padZero||$[18]!==ref||$[19]!==updateOnChange||$[20]!==value?(t2={allowEmpty,isFloat,padZero,onChange,updateOnChange,max,min,value,ref},$[12]=allowEmpty,$[13]=isFloat,$[14]=max,$[15]=min,$[16]=onChange,$[17]=padZero,$[18]=ref,$[19]=updateOnChange,$[20]=value,$[21]=t2):t2=$[21];const{currentValue,handleBlur,handleChange,handleEsc,handleKeyUpAndDown,inputRef,isIndeterminate}=input_useNumericInput(t2);let t3,t4,t5,t6,t7,t8;$[22]===Symbol.for("react.memo_cache_sentinel")?(t3={key:["up","alt+up","down","alt+down"],editable:!0},$[22]=t3):t3=$[22],$[23]!==handleKeyUpAndDown?(t4=[handleKeyUpAndDown],$[23]=handleKeyUpAndDown,$[24]=t4):t4=$[24],(0,keyboard._h)(inputRef,t3,handleKeyUpAndDown,t4),$[25]===Symbol.for("react.memo_cache_sentinel")?(t5={key:["escape"],editable:!0},$[25]=t5):t5=$[25],$[26]!==handleEsc?(t6=[handleEsc],$[26]=handleEsc,$[27]=t6):t6=$[27],(0,keyboard._h)(inputRef,t5,handleEsc,t6),$[28]===Symbol.for("react.memo_cache_sentinel")?(t7={key:["enter"],editable:!0},$[28]=t7):t7=$[28],$[29]!==handleBlur?(t8=[handleBlur],$[29]=handleBlur,$[30]=t8):t8=$[30],(0,keyboard._h)(inputRef,t7,handleBlur,t8),value=String(value);let t9,t10,paddedValue=String(currentValue);if(""===value||""!==currentValue&&"-"!==currentValue)if(allowEmpty||""!==value||""!==currentValue){if(allowEmpty&&""===value)paddedValue="";else if(""!==currentValue&&void 0!==max){const maxPad=String(max).length;if(maxPad>=String(currentValue).length){let t9;$[31]!==currentValue||$[32]!==maxPad||$[33]!==padZero?(t9=padZero?String(currentValue).padStart(maxPad,"0"):String(currentValue),$[31]=currentValue,$[32]=maxPad,$[33]=padZero,$[34]=t9):t9=$[34],paddedValue=t9}else{const t9=String(currentValue);let t10;if($[35]!==t9){let t11;$[37]===Symbol.for("react.memo_cache_sentinel")?(t11=/^0+/,$[37]=t11):t11=$[37],t10=t9.replace(t11,""),$[35]=t9,$[36]=t10}else t10=$[36];paddedValue=t10}}}else paddedValue="0";else paddedValue=String(currentValue);$[38]!==handleBlur||$[39]!==onBlur?(t9=ev=>{onBlur?.(ev),handleBlur(ev)},$[38]=handleBlur,$[39]=onBlur,$[40]=t9):t9=$[40],$[41]!==handleChange||$[42]!==onChange||$[43]!==updateOnChange?(t10=ev_0=>{updateOnChange&&onChange?.(ev_0),handleChange(ev_0)},$[41]=handleChange,$[42]=onChange,$[43]=updateOnChange,$[44]=t10):t10=$[44];const t11=isIndeterminate&&originalIsIndeterminate;let t12;return $[45]!==inputRef||$[46]!==paddedValue||$[47]!==props||$[48]!==t10||$[49]!==t11||$[50]!==t9?(t12=react.createElement(input.A,_extends({ref:inputRef,onBlur:t9,onChange:t10,value:paddedValue,isIndeterminate:t11},props)),$[45]=inputRef,$[46]=paddedValue,$[47]=props,$[48]=t10,$[49]=t11,$[50]=t9,$[51]=t12):t12=$[51],t12})),numericInput=NumericInput;NumericInput.__docgenInfo={description:"",methods:[],displayName:"NumericInput",props:{inputClassName:{required:!1,tsType:{name:"string"},description:""},hasError:{required:!1,tsType:{name:"boolean"},description:""},hint:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},hasFocus:{required:!1,tsType:{name:"boolean"},description:""},suffix:{required:!1,tsType:{name:"string"},description:""},unit:{required:!1,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"''",computed:!1}},isIndeterminate:{required:!1,tsType:{name:"boolean"},description:""},containerStyleOverride:{required:!1,tsType:{name:"string"},description:""},allowEmpty:{required:!0,tsType:{name:"boolean"},description:""},isFloat:{required:!0,tsType:{name:"boolean"},description:""},min:{required:!1,tsType:{name:"number"},description:""},max:{required:!1,tsType:{name:"number"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(evt: unknown, val: InputValue) => void",signature:{arguments:[{type:{name:"unknown"},name:"evt"},{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"val"}],return:{name:"void"}}},description:""},padZero:{required:!1,tsType:{name:"boolean"},description:""},updateOnChange:{required:!1,tsType:{name:"boolean"},description:""}},composes:["ComponentPropsWithoutRef"]}},"./packages/design-system/src/components/modal/modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),react_modal__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-modal/lib/index.js"),react_modal__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_3__),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/modal/constants.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const customStyles_overlay=theme=>({position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10,backgroundColor:theme.colors.interactiveBg.modalScrim,display:"flex",alignItems:"center",justifyContent:"center"}),customStyles_content={overflow:"auto",outline:"none",display:"flex",maxHeight:"100%",justifyContent:"center"};function Modal(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(27);let children,contentStyles,onClose,overlayStyles,rest,t1,t2;$[0]!==t0?(({closeTimeoutMS:t1,children,contentStyles,modalStyles:t2,onClose,overlayStyles,...rest}=t0),$[0]=t0,$[1]=children,$[2]=contentStyles,$[3]=onClose,$[4]=overlayStyles,$[5]=rest,$[6]=t1,$[7]=t2):(children=$[1],contentStyles=$[2],onClose=$[3],overlayStyles=$[4],rest=$[5],t1=$[6],t2=$[7]);const closeTimeoutMS=void 0===t1?100:t1;let t3;$[8]!==t2?(t3=void 0===t2?{}:t2,$[8]=t2,$[9]=t3):t3=$[9];const modalStyles=t3,theme=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.cY)(styled_components__WEBPACK_IMPORTED_MODULE_4__.Dx);let t4,t5,t6,t7,t8;return $[10]!==theme?(t4=customStyles_overlay(theme),$[10]=theme,$[11]=t4):t4=$[11],$[12]!==overlayStyles||$[13]!==t4?(t5={...t4,...overlayStyles},$[12]=overlayStyles,$[13]=t4,$[14]=t5):t5=$[14],$[15]!==contentStyles?(t6={...customStyles_content,...contentStyles},$[15]=contentStyles,$[16]=t6):t6=$[16],$[17]!==modalStyles||$[18]!==t5||$[19]!==t6?(t7={maxHeight:"100vh",...modalStyles,overlay:t5,content:t6},$[17]=modalStyles,$[18]=t5,$[19]=t6,$[20]=t7):t7=$[20],$[21]!==children||$[22]!==closeTimeoutMS||$[23]!==onClose||$[24]!==rest||$[25]!==t7?(t8=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_modal__WEBPACK_IMPORTED_MODULE_3___default(),_extends({className:_constants__WEBPACK_IMPORTED_MODULE_5__.NU,closeTimeoutMS,onRequestClose:onClose,overlayClassName:_constants__WEBPACK_IMPORTED_MODULE_5__.cd,bodyOpenClassName:_constants__WEBPACK_IMPORTED_MODULE_5__.Kz,style:t7},rest),children),$[21]=children,$[22]=closeTimeoutMS,$[23]=onClose,$[24]=rest,$[25]=t7,$[26]=t8):t8=$[26],t8}const __WEBPACK_DEFAULT_EXPORT__=Modal;Modal.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{onClose:{required:!1,tsType:{name:"ComponentProps['onRequestClose']",raw:"ReactModalProps['onRequestClose']"},description:""},modalStyles:{required:!1,tsType:{name:"CSSProperties"},description:"",defaultValue:{value:"{}",computed:!1}},overlayStyles:{required:!1,tsType:{name:"CSSProperties"},description:""},contentStyles:{required:!1,tsType:{name:"CSSProperties"},description:""},closeTimeoutMS:{defaultValue:{value:"100",computed:!1},required:!1}},composes:["ReactModalProps"]}},"./packages/design-system/src/components/swatch/swatch.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/patterns/src/hasOpacity.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/patterns/src/hasGradient.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/patterns/src/getOpaquePattern.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/patterns/src/generatePatternStyles.ts"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/transparentBg.ts"),_theme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Transparent=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"swatch__Transparent",componentId:"sc-103sems-0"})(["width:100%;height:100%;position:absolute;border-radius:100%;",""],_theme__WEBPACK_IMPORTED_MODULE_3__.o),SwatchButton=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.button.withConfig({displayName:"swatch__SwatchButton",componentId:"sc-103sems-1"})(["cursor:pointer;background-color:transparent;border-color:transparent;padding:0;border-width:0;display:block;width:","px;height:","px;border-radius:100%;overflow:hidden;position:relative;"," ",";::after{content:'';position:absolute;pointer-events:none;left:0;top:0;width:100%;height:100%;border-radius:50%;border:1px solid ",";}"],24,24,(({disabled})=>disabled&&(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["opacity:0.4;cursor:default;pointer-events:none;"])),(({theme})=>_theme__WEBPACK_IMPORTED_MODULE_4__.Q(theme.colors.border.focus)),(({theme})=>theme.colors.divider.primary)),SwatchPreview=(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay)(SwatchButton).attrs({as:"div",type:void 0}).withConfig({displayName:"swatch__SwatchPreview",componentId:"sc-103sems-2"})([""]),SwatchItem=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"swatch__SwatchItem",componentId:"sc-103sems-3"})(["transform:rotate(","deg);display:block;width:100%;height:100%;font-size:13px;position:relative;svg{width:","px;height:","px;position:absolute;top:calc(50% - ","px);left:calc(50% - ","px);filter:drop-shadow(0px 0px 4px rgba(0,0,0,0.4));color:",";transform:rotate(","deg);}"],(({displaySplit})=>displaySplit?-45:0),24,24,12,12,(({theme})=>theme.colors.fg.primary),(({displaySplit})=>displaySplit?45:0)),OpaqueColorWrapper=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"swatch__OpaqueColorWrapper",componentId:"sc-103sems-4"})(["height:","px;width:50%;overflow:hidden;position:absolute;left:0;top:0;"],24),OpaqueColor=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"swatch__OpaqueColor",componentId:"sc-103sems-5"})(["height:","px;width:","px;position:absolute;top:0;left:0;"],24,24);function Swatch(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(32);let children,pattern,props,t1,t2,t3,t4;$[0]!==t0?(({pattern,children,isPreview:t1,isDisabled:t2,isIndeterminate:t3,className:t4,...props}=t0),$[0]=t0,$[1]=children,$[2]=pattern,$[3]=props,$[4]=t1,$[5]=t2,$[6]=t3,$[7]=t4):(children=$[1],pattern=$[2],props=$[3],t1=$[4],t2=$[5],t3=$[6],t4=$[7]);const isPreview=void 0!==t1&&t1,isDisabled=void 0!==t2&&t2,isIndeterminate=void 0!==t3&&t3,className=void 0===t4?"":t4;if(!pattern)return null;let t5;$[8]!==pattern?(t5=(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_5__.A)(pattern),$[8]=pattern,$[9]=t5):t5=$[9];const swatchHasTransparency=t5,swatchIsGradient=(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_6__.A)(pattern);let t6;$[10]!==pattern||$[11]!==swatchHasTransparency?(t6=swatchHasTransparency?(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_7__.A)(pattern):pattern,$[10]=pattern,$[11]=swatchHasTransparency,$[12]=t6):t6=$[12];const opaquePattern=t6,displaySplit=!swatchIsGradient&&swatchHasTransparency&&!isIndeterminate,SwatchDisplay=isPreview?SwatchPreview:SwatchButton;let t7,t8,t9,t10,t11;return $[13]!==swatchHasTransparency?(t7=swatchHasTransparency&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(Transparent,null),$[13]=swatchHasTransparency,$[14]=t7):t7=$[14],$[15]!==pattern?(t8=(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_8__.A)(pattern),$[15]=pattern,$[16]=t8):t8=$[16],$[17]!==displaySplit||$[18]!==opaquePattern?(t9=displaySplit&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(OpaqueColorWrapper,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(OpaqueColor,{style:(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_8__.A)(opaquePattern)})),$[17]=displaySplit,$[18]=opaquePattern,$[19]=t9):t9=$[19],$[20]!==children||$[21]!==displaySplit||$[22]!==t8||$[23]!==t9?(t10=react__WEBPACK_IMPORTED_MODULE_0__.createElement(SwatchItem,{style:t8,displaySplit},t9,children),$[20]=children,$[21]=displaySplit,$[22]=t8,$[23]=t9,$[24]=t10):t10=$[24],$[25]!==SwatchDisplay||$[26]!==className||$[27]!==isDisabled||$[28]!==props||$[29]!==t10||$[30]!==t7?(t11=react__WEBPACK_IMPORTED_MODULE_0__.createElement(SwatchDisplay,_extends({disabled:isDisabled,className},props),t7,t10),$[25]=SwatchDisplay,$[26]=className,$[27]=isDisabled,$[28]=props,$[29]=t10,$[30]=t7,$[31]=t11):t11=$[31],t11}const __WEBPACK_DEFAULT_EXPORT__=Swatch;Swatch.__docgenInfo={description:"",methods:[],displayName:"Swatch",props:{pattern:{required:!1,tsType:{name:"Pattern"},description:""},isPreview:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isIndeterminate:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{defaultValue:{value:"''",computed:!1},required:!1}},composes:["Omit"]}},"./packages/design-system/src/icons/arrow_left.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgArrowLeft=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.422 10.856a.5.5 0 0 0-.702-.712l-5.571 5.5a.5.5 0 0 0 0 .712l5.57 5.5a.5.5 0 0 0 .703-.711L10.718 16.5H22.5a.5.5 0 1 0 0-1H10.718z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgArrowLeft)},"./packages/design-system/src/icons/arrow_right_curved.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgArrowRightCurved=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.281 9.144a.5.5 0 0 0-.703.712l4.704 4.644H15.5A6.5 6.5 0 0 0 9 21v1.5a.5.5 0 1 0 1 0V21a5.5 5.5 0 0 1 5.5-5.5h5.783l-4.705 4.645a.5.5 0 0 0 .703.711l5.57-5.5a.5.5 0 0 0 0-.711z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgArrowRightCurved)},"./packages/design-system/src/icons/arrows_leftright.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgArrowsLeftright=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.354 8.854a.5.5 0 0 0-.708-.708l-3.5 3.5a.5.5 0 0 0 0 .708l3.5 3.5a.5.5 0 0 0 .708-.708L5.707 12.5H17.5a.5.5 0 1 0 0-1H5.707zM23.646 16.854a.5.5 0 1 1 .707-.707l3.5 3.5a.5.5 0 0 1 0 .707l-3.5 3.5a.5.5 0 0 1-.707-.708l2.647-2.646H14.5a.5.5 0 1 1 0-1h11.793z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgArrowsLeftright)},"./packages/design-system/src/icons/color_drop.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgColorDrop=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M20.245 12.706 16 8.316l-4.245 4.39A6.35 6.35 0 0 0 10 17.087c0 1.554.585 3.193 1.755 4.404A5.9 5.9 0 0 0 16 23.317a5.9 5.9 0 0 0 4.245-1.826C21.415 20.28 22 18.641 22 17.087s-.585-3.17-1.755-4.381m-9.166 4.66c.007-1.553.56-2.999 1.415-3.877L16 9.831l3.64 3.784c.855.87 1.341 2.198 1.349 3.752z"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgColorDrop)},"./packages/design-system/src/icons/lock_closed.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgLockClosed=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 8a3 3 0 0 0-3 3v3h-1.5a1.5 1.5 0 0 0-1.5 1.5v7a1.5 1.5 0 0 0 1.5 1.5h9a1.5 1.5 0 0 0 1.5-1.5v-7a1.5 1.5 0 0 0-1.5-1.5H19v-3a3 3 0 0 0-3-3m2 6v-3a2 2 0 1 0-4 0v3zm-4.5 1h-2a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5h-7m2.5 5.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgLockClosed)},"./packages/design-system/src/icons/lock_open.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgLockOpen=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.816 8.415a3.023 3.023 0 0 0-4.161 1.129l-.255.447a.5.5 0 1 0 .87.494l.254-.447a2.023 2.023 0 0 1 2.786-.76 2.1 2.1 0 0 1 .75 2.844L16.964 14H11.5a1.5 1.5 0 0 0-1.5 1.5v7a1.5 1.5 0 0 0 1.5 1.5h9a1.5 1.5 0 0 0 1.5-1.5v-7a1.5 1.5 0 0 0-1.5-1.5h-2.379l.805-1.376.002-.005c.836-1.47.343-3.351-1.112-4.204M11.5 15a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5zm4.5 5.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgLockOpen)},"./packages/design-system/src/icons/pattern_linear.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,_circle2,_defs,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPatternLinear=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:16,cy:16,r:12,fill:"url(#a)"})),_circle2||(_circle2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:16,cy:16,r:11.5,stroke:"currentColor",strokeOpacity:.16})),_defs||(_defs=react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("linearGradient",{id:"a",x1:16,x2:16,y1:4,y2:35.8,gradientUnits:"userSpaceOnUse"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop",{stopColor:"currentColor",stopOpacity:.52}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop",{offset:.802,stopColor:"currentColor",stopOpacity:0}))))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPatternLinear)},"./packages/design-system/src/icons/pattern_radial.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,_circle2,_defs,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPatternRadial=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:16,cy:16,r:12,fill:"url(#a)"})),_circle2||(_circle2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:16,cy:16,r:11.5,stroke:"currentColor",strokeOpacity:.16})),_defs||(_defs=react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("radialGradient",{id:"a",cx:0,cy:0,r:1,gradientTransform:"rotate(90 0 16)scale(23.4)",gradientUnits:"userSpaceOnUse"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop",{stopColor:"currentColor",stopOpacity:.64}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop",{offset:.573,stopColor:"currentColor",stopOpacity:0}))))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPatternRadial)},"./packages/design-system/src/icons/pattern_solid.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPatternSolid=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:16,cy:16,r:11.5,fill:"currentColor",stroke:"currentColor"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPatternSolid)},"./packages/design-system/src/icons/pencil.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPencil=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m17.672 11.579-7.514 7.514a.5.5 0 0 0-.137.256l-.51 2.552a.5.5 0 0 0 .588.588l2.552-.51a.5.5 0 0 0 .255-.137l7.515-7.515zm3.346-2.64a1.5 1.5 0 0 0-2.12 0L9.45 18.386a1.5 1.5 0 0 0-.41.766l-.511 2.552a1.5 1.5 0 0 0 1.765 1.766l2.552-.51a1.5 1.5 0 0 0 .767-.411l9.446-9.447a1.5 1.5 0 0 0 0-2.121z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPencil)},"./packages/design-system/src/icons/pipette.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPipette=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M23.247 8.753a2.57 2.57 0 0 0-3.636 0l-2.075 2.076-1.682-1.683a.5.5 0 1 0-.707.708l7 7a.5.5 0 0 0 .707-.708l-1.682-1.682 2.075-2.075a2.57 2.57 0 0 0 0-3.636m-2.783 5.004 2.076-2.075a1.571 1.571 0 1 0-2.222-2.222l-2.075 2.076zm-5.05-.61a.5.5 0 0 1 0 .707L9.566 19.7a1.932 1.932 0 1 0 2.733 2.733l5.848-5.848a.5.5 0 1 1 .707.707l-5.848 5.848a2.932 2.932 0 1 1-4.147-4.147l5.848-5.848a.5.5 0 0 1 .707 0",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPipette)},"./packages/design-system/src/icons/plus.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPlus=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.5 9a.5.5 0 0 0-1 0v6.498h-7a.5.5 0 0 0 0 1h7v7.498a.5.5 0 1 0 1 0v-7.498h6.996a.5.5 0 1 0 0-1H16.5z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPlus)},"./packages/design-system/src/icons/plus_outline.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgPlusOutline=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 9a7 7 0 1 0 0 14 7 7 0 0 0 0-14m-8 7a8 8 0 1 1 16 0 8 8 0 0 1-16 0m4 0a.5.5 0 0 1 .5-.5h3v-3a.5.5 0 0 1 1 0v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1-.5-.5",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgPlusOutline)},"./packages/design-system/src/icons/tailed_rectangle.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SvgTailedRectangle=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"currentColor",d:"M6.5 7.095c0-.854.743-1.595 1.722-1.595h15.556c.98 0 1.722.741 1.722 1.595v15.81c0 .854-.743 1.595-1.722 1.595H19.8c-.92 0-1.856.356-2.367 1.211l-.894 1.499c-.23.387-.847.387-1.078 0l-.895-1.499c-.488-.819-1.397-1.311-2.366-1.311H8.222c-.98 0-1.722-.742-1.722-1.595z"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgTailedRectangle)},"./packages/design-system/src/theme/helpers/transparentBg.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>transparentBg});const transparentBg=(0,__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").AH)(["background-image:conic-gradient( "," 0.25turn,transparent 0turn 0.5turn,"," 0turn 0.75turn,transparent 0turn 1turn );background-size:8px 8px;"],(({theme})=>theme.colors.fg.tertiary),(({theme})=>theme.colors.fg.tertiary))},"./packages/patterns/src/getOpaquePattern.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/patterns/src/types.ts");const __WEBPACK_DEFAULT_EXPORT__=function getOpaquePattern(pattern){if(!pattern.type||pattern.type===_types__WEBPACK_IMPORTED_MODULE_0__.$1.Solid){const{color}=pattern;return{color:{...color,a:1}}}const{alpha,...opaquePattern}=pattern;return opaquePattern}},"./packages/patterns/src/hasGradient.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/patterns/src/types.ts");const __WEBPACK_DEFAULT_EXPORT__=function hasGradient(pattern){return Boolean(pattern?.type)&&_types__WEBPACK_IMPORTED_MODULE_0__.$1.Solid!==pattern.type}},"./packages/patterns/src/hasOpacity.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function colorHasTransparency(color){return void 0!==color.a&&color.a<1}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function hasOpacity(pattern){if("color"in pattern)return Boolean(colorHasTransparency(pattern.color));if("number"==typeof pattern.alpha&&pattern.alpha<1)return!0;for(const colorStop of pattern.stops||[])if(colorHasTransparency(colorStop.color))return!0;return!1}},"./packages/story-editor/src/components/colorPicker/useDeleteColor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_app__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/story-editor/src/app/index.js"),_utils_noop__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/utils/noop.ts");function _temp(t0){const{state:t1,actions:t2}=t0,{story:t3}=t1,{globalStoryStyles,currentStoryStyles}=t3,{updateStory}=t2;return{currentStoryStyles,globalStoryStyles,updateStory}}const __WEBPACK_DEFAULT_EXPORT__=function useDeleteColor(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(24),{onEmpty:t1}=t0,onEmpty=void 0===t1?_utils_noop__WEBPACK_IMPORTED_MODULE_3__.l:t1,{currentStoryStyles:currentStoryStyles_0,globalStoryStyles:globalStoryStyles_0,updateStory:updateStory_0}=(0,_app__WEBPACK_IMPORTED_MODULE_2__.P3)(_temp);let t2;$[0]!==globalStoryStyles_0?(t2=globalStoryStyles_0||{},$[0]=globalStoryStyles_0,$[1]=t2):t2=$[1];const{colors:globalColors}=t2;let t3;$[2]!==currentStoryStyles_0?(t3=currentStoryStyles_0||{},$[2]=currentStoryStyles_0,$[3]=t3):t3=$[3];const{colors:localColors}=t3,hasLocalPresets=localColors?.length>0;let t4,t5;$[4]!==globalColors||$[5]!==globalStoryStyles_0||$[6]!==hasLocalPresets||$[7]!==onEmpty||$[8]!==updateStory_0?(t4=toDelete=>{const updatedColors=globalColors.filter((color=>color!==toDelete));updateStory_0({properties:{globalStoryStyles:{...globalStoryStyles_0,colors:updatedColors}}}),0!==updatedColors.length||hasLocalPresets||onEmpty()},t5=[globalColors,updateStory_0,hasLocalPresets,globalStoryStyles_0,onEmpty],$[4]=globalColors,$[5]=globalStoryStyles_0,$[6]=hasLocalPresets,$[7]=onEmpty,$[8]=updateStory_0,$[9]=t4,$[10]=t5):(t4=$[9],t5=$[10]);const deleteGlobalColor=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)(t4,t5);let t6,t7;$[11]!==globalColors.length||$[12]!==localColors||$[13]!==onEmpty||$[14]!==updateStory_0?(t6=toDelete_0=>{const updatedColors_0=localColors.filter((color_0=>color_0!==toDelete_0));updateStory_0({properties:{currentStoryStyles:{colors:updatedColors_0}}}),0===updatedColors_0.length&&0===globalColors.length&&onEmpty()},$[11]=globalColors.length,$[12]=localColors,$[13]=onEmpty,$[14]=updateStory_0,$[15]=t6):t6=$[15],$[16]!==globalColors||$[17]!==localColors||$[18]!==onEmpty||$[19]!==updateStory_0?(t7=[globalColors,localColors,updateStory_0,onEmpty],$[16]=globalColors,$[17]=localColors,$[18]=onEmpty,$[19]=updateStory_0,$[20]=t7):t7=$[20];const deleteLocalColor=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)(t6,t7);let t8;return $[21]!==deleteGlobalColor||$[22]!==deleteLocalColor?(t8={deleteLocalColor,deleteGlobalColor},$[21]=deleteGlobalColor,$[22]=deleteLocalColor,$[23]=t8):t8=$[23],t8}},"./packages/story-editor/src/components/dialog/dialog.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/theme/theme.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/theme/colors.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/components/dialog/dialog.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Dialog=t0=>{const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(37);let actions,children,onClose,onPrimary,onSecondary,primaryRest,primaryText,rest,secondaryRest,secondaryText,t1;$[0]!==t0?(({onClose,onSecondary,onPrimary,primaryText,PrimaryComponent:t1,secondaryText,primaryRest,secondaryRest,actions,children,...rest}=t0),$[0]=t0,$[1]=actions,$[2]=children,$[3]=onClose,$[4]=onPrimary,$[5]=onSecondary,$[6]=primaryRest,$[7]=primaryText,$[8]=rest,$[9]=secondaryRest,$[10]=secondaryText,$[11]=t1):(actions=$[1],children=$[2],onClose=$[3],onPrimary=$[4],onSecondary=$[5],primaryRest=$[6],primaryText=$[7],rest=$[8],secondaryRest=$[9],secondaryText=$[10],t1=$[11]);const PrimaryComponent=void 0===t1?_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__.$:t1;let t2,t3;$[12]!==PrimaryComponent||$[13]!==onPrimary||$[14]!==primaryRest||$[15]!==primaryText?(t2=()=>primaryText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(PrimaryComponent,_extends({type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.VQ.Primary,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.Mp.Small,onClick:evt=>onPrimary?.(evt)},primaryRest),primaryText),$[12]=PrimaryComponent,$[13]=onPrimary,$[14]=primaryRest,$[15]=primaryText,$[16]=t2):t2=$[16],$[17]!==onPrimary||$[18]!==primaryRest||$[19]!==primaryText?(t3=[primaryText,primaryRest,onPrimary],$[17]=onPrimary,$[18]=primaryRest,$[19]=primaryText,$[20]=t3):t3=$[20];const _PrimaryButton=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t2,t3);let t4,t5;$[21]!==onClose||$[22]!==onSecondary||$[23]!==secondaryRest||$[24]!==secondaryText?(t4=()=>secondaryText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__.$,_extends({type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.VQ.Tertiary,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.Mp.Small,onClick:()=>onSecondary?.()||onClose()},secondaryRest),secondaryText),t5=[secondaryText,secondaryRest,onSecondary,onClose],$[21]=onClose,$[22]=onSecondary,$[23]=secondaryRest,$[24]=secondaryText,$[25]=t4,$[26]=t5):(t4=$[25],t5=$[26]);const _SecondaryButton=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t4,t5);let t6,t7,t8;return $[27]===Symbol.for("react.memo_cache_sentinel")?(t6={..._googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.w,colors:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.B},$[27]=t6):t6=$[27],$[28]!==_PrimaryButton||$[29]!==_SecondaryButton||$[30]!==actions?(t7=actions||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,_SecondaryButton,_PrimaryButton),$[28]=_PrimaryButton,$[29]=_SecondaryButton,$[30]=actions,$[31]=t7):t7=$[31],$[32]!==children||$[33]!==onClose||$[34]!==rest||$[35]!==t7?(t8=react__WEBPACK_IMPORTED_MODULE_0__.createElement(styled_components__WEBPACK_IMPORTED_MODULE_7__.NP,{theme:t6},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.A,_extends({onClose},rest,{actions:t7}),children)),$[32]=children,$[33]=onClose,$[34]=rest,$[35]=t7,$[36]=t8):t8=$[36],t8},__WEBPACK_DEFAULT_EXPORT__=Dialog;Dialog.__docgenInfo={description:"Dialog is wrapped in a ThemeProvider so that colors can be inverted.\n\n@param {boolean} isOpen When true, dialog will be visible\n@param {Function} onClose Action taken on 'x'/clicking outside of dialog. Default secondary action.\n@param {Function} onSecondary Action taken on secondary button click when specified.\n@param {Function} onPrimary Action taken on primary button click.\n@param {string} primaryText When present, primary button will render.\n@param {string} secondaryText When present, secondary button will render.\n@param {Object} primaryRest Unique props needed on primary button, spread on button.\n@param {Object} secondaryRest Unique props needed on secondary button, spread on button.\n@param {Object} actions Custom actions object for when the API restrictions of primary and secondary structure are too much.\n@param {Node} children Contents of dialog",methods:[],displayName:"Dialog",props:{PrimaryComponent:{defaultValue:{value:"Button",computed:!0},description:"",type:{name:"object"},required:!1},onClose:{description:"",type:{name:"func"},required:!0},onPrimary:{description:"",type:{name:"func"},required:!1},onSecondary:{description:"",type:{name:"func"},required:!1},primaryText:{description:"",type:{name:"string"},required:!1},primaryRest:{description:"",type:{name:"object"},required:!1},secondaryText:{description:"",type:{name:"string"},required:!1},secondaryRest:{description:"",type:{name:"object"},required:!1},actions:{description:"",type:{name:"object"},required:!1},children:{description:"",type:{name:"node"},required:!1}}}},"./packages/story-editor/src/components/dialog/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_dialog__WEBPACK_IMPORTED_MODULE_0__.A});var _dialog__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/story-editor/src/components/dialog/dialog.js")},"./packages/story-editor/src/components/eyedropper/useEyeDropperApi.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/patterns/src/getSolidFromHex.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/utils/noop.ts"),polished__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/polished/dist/polished.esm.js");const __WEBPACK_DEFAULT_EXPORT__=function useEyeDropperApi({onChange=_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__.l,handleClose=_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__.l}){const isEyeDropperApiSupported="undefined"!=typeof window&&"EyeDropper"in window,eyeDropper=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{isEyeDropperApiSupported&&!eyeDropper.current&&(eyeDropper.current=new window.EyeDropper)}),[isEyeDropperApiSupported]);const openEyeDropper=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((async()=>{if(eyeDropper.current&&isEyeDropperApiSupported)try{const{sRGBHex}=await eyeDropper.current.open(),hexColor="string"==typeof sRGBHex&&"#"===sRGBHex[0]?sRGBHex:(0,polished__WEBPACK_IMPORTED_MODULE_2__.Fo)((0,polished__WEBPACK_IMPORTED_MODULE_2__.kN)(sRGBHex));onChange((0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_3__.A)(hexColor.substring(1)).color)}catch(e){console.log(e.message)}finally{handleClose()}}),[eyeDropper,isEyeDropperApiSupported,onChange,handleClose]);return{isEyeDropperApiSupported,openEyeDropper}}},"./packages/story-editor/src/components/floatingMenu/elements/shared/focusTrapButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,t:()=>handleReturnTrappedFocus});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/i18n/src/sprintf.ts"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/i18n/src/i18n.ts"),uuid__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js");const _FocusTrapButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.$).attrs({type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.VQ.Primary}).withConfig({displayName:"focusTrapButton___FocusTrapButton",componentId:"sc-1426fzg-0"})(["background-color:transparent;display:flex;align-items:center;justify-content:flex-start;outline:none;margin:0;padding:0;min-width:inherit;:hover,:focus{background-color:transparent;}",""],(({styleOverride})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.AH)(["",""],styleOverride)));_FocusTrapButton.propTypes={styleOverride:prop_types__WEBPACK_IMPORTED_MODULE_6___default().array};const handleReturnTrappedFocus=(e,buttonRef)=>{"Tab"===e.key?(e.preventDefault(),buttonRef.current.focus()):e.stopPropagation()},FocusTrapButton=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Rf)((function FocusTrapButton(t0,ref){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(14),{inputRef,inputLabel,children,styleOverride}=t0;let t1,t2,t3,t4,t5;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t1=(0,uuid__WEBPACK_IMPORTED_MODULE_7__.A)(),$[0]=t1):t1=$[0],$[1]!==inputRef?(t2=e=>{e.stopPropagation(),inputRef.current.focus()},$[1]=inputRef,$[2]=t2):t2=$[2],$[3]!==inputRef?(t3=e_1=>{e_1.preventDefault(),"Enter"===e_1.key&&inputRef.current.focus()},$[3]=inputRef,$[4]=t3):t3=$[4],$[5]!==inputLabel?(t4=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_8__.A)((0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_9__.__)("Press Enter to edit %s","web-stories"),inputLabel),$[5]=inputLabel,$[6]=t4):t4=$[6],$[7]!==children||$[8]!==ref||$[9]!==styleOverride||$[10]!==t2||$[11]!==t3||$[12]!==t4?(t5=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_FocusTrapButton,{id:t1,tabIndex:-1,ref,onClick:t2,onBlur:_temp,onKeyDown:t3,"aria-label":t4,styleOverride},children),$[7]=children,$[8]=ref,$[9]=styleOverride,$[10]=t2,$[11]=t3,$[12]=t4,$[13]=t5):t5=$[13],t5})),__WEBPACK_DEFAULT_EXPORT__=FocusTrapButton;function _temp(e_0){e_0.preventDefault(),e_0.stopPropagation()}FocusTrapButton.propTypes={inputRef:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object.isRequired,inputLabel:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_6___default().node.isRequired,styleOverride:prop_types__WEBPACK_IMPORTED_MODULE_6___default().array},FocusTrapButton.__docgenInfo={description:'Intended as a last resort effort to wrangle nested inputs within a <ContextMenu>. Freeform inputs should be avoided within menus if at all possible. Because this is a last resort, it is a shared element in the floating menu not the design-system.\nWhen it\'s necessary, wrap the freeform input in the <FocusTrapButton> and pass the associated handleReturnTrappedFocus as onKeyDown of the designated input.\nYou will also need to give the input the imported CONTEXT_MENU_SKIP_ELEMENT class from design system. This tells the context menu to ignore the input in its focusableChildren so it relies on the FocusTrapButton as the focusable element for that input. This allows the freeform inputs to be typed into and arrowed around and then tab to get back into the menu.\n\n**Sample Usage**\n```js\n\nfunction SomeComponent() {\nconst buttonRef = useRef();\nconst inputRef = useRef();\n\n<FocusTrapButton ref={buttonRef} inputRef={inputRef} inputLabel=\'Font size\'>\n<input ref={inputRef} aria-label="Font size" onKeyDown={(e) => handleReturnTrappedFocus(e, buttonRef)} inputClassName={CONTEXT_MENU_SKIP_ELEMENT} />\n</FocusTrapButton>\n}\n```\n\n@param {Object} props Props.\n@param {Object} props.inputRef ref associated with input element\n@param {string} props.inputLabel label of the associated input, will be used to create "Press Enter to edit [inputLabel]"\n@param {Array} props.styleOverride css to override button styles. Useful when an input has a specific style that adjusts the width, like color opacity.\n@param {Node} props.children children within wrapper',methods:[],displayName:"FocusTrapButton",props:{inputRef:{description:"",type:{name:"object"},required:!0},inputLabel:{description:"",type:{name:"string"},required:!0},children:{description:"",type:{name:"node"},required:!0},styleOverride:{description:"",type:{name:"array"},required:!1}}}},"./packages/story-editor/src/components/form/color/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>color});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),getPreviewText=__webpack_require__("./packages/patterns/src/getPreviewText.ts"),types=__webpack_require__("./packages/patterns/src/types.ts"),button_button=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),popup_constants=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),pipette=__webpack_require__("./packages/design-system/src/icons/pipette.svg"),v4=__webpack_require__("./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js"),src_constants=__webpack_require__("./packages/story-editor/src/constants/index.ts"),app=__webpack_require__("./packages/story-editor/src/app/index.js"),useEyeDropperApi=__webpack_require__("./packages/story-editor/src/components/eyedropper/useEyeDropperApi.js");const eyedropper=({onChange})=>{const{fullbleedContainer,eyedropperPixelData,setEyedropperCallback,setIsEyedropperActive,setEyedropperImg,setEyedropperPixelData}=(0,app.yu)((({state:{fullbleedContainer,eyedropperPixelData},actions:{setEyedropperCallback,setIsEyedropperActive,setEyedropperImg,setEyedropperPixelData}})=>({fullbleedContainer,setEyedropperCallback,eyedropperPixelData,setIsEyedropperActive,setEyedropperImg,setEyedropperPixelData}))),{isEyeDropperApiSupported,openEyeDropper}=(0,useEyeDropperApi.A)({onChange,handleClose:(0,src.hb)((()=>{setIsEyedropperActive(!1)}),[setIsEyedropperActive])}),{zoomSetting,setZoomSetting}=(0,app.gK)((({state:{zoomSetting},actions:{setZoomSetting}})=>({zoomSetting,setZoomSetting})));return{initEyedropper:(0,src.hb)(((resetZoom=!0)=>async()=>{if(isEyeDropperApiSupported)return void(resetZoom&&(setIsEyedropperActive(!0),openEyeDropper()));if(!resetZoom&&zoomSetting!==src_constants.gw.Fit)return;resetZoom&&setIsEyedropperActive(!0);eyedropperPixelData&&resetZoom||(resetZoom&&setZoomSetting(src_constants.gw.Fit),await new Promise((resolve=>{setTimeout((()=>{__webpack_require__.e(4622).then(__webpack_require__.bind(__webpack_require__,"./node_modules/html-to-image/es/index.js")).then((htmlToImage=>{htmlToImage.toCanvas(fullbleedContainer,{pixelRatio:1}).then((canvas=>{const pixelData=canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height).data;setEyedropperPixelData(pixelData),setEyedropperImg(canvas.toDataURL()),resolve()})).catch((()=>{resolve()}))}))}))}))),setEyedropperCallback((()=>rgbObject=>{onChange(rgbObject),setIsEyedropperActive(!1),setEyedropperImg(null),setEyedropperPixelData(null)}))}),[fullbleedContainer,onChange,eyedropperPixelData,zoomSetting,setIsEyedropperActive,setEyedropperCallback,setEyedropperImg,setEyedropperPixelData,setZoomSetting,isEyeDropperApiSupported,openEyeDropper])}};var components_tooltip=__webpack_require__("./packages/story-editor/src/components/tooltip/index.js"),styles=__webpack_require__("./packages/story-editor/src/components/panels/shared/styles.js");const color_applyOpacityChange=function applyOpacityChange(pattern,newOpacity){if(!pattern)return null;const{type}=pattern;if(!type||"solid"===type){const{color:{r,g,b}}=pattern;return{color:{r,g,b,a:newOpacity}}}return{...pattern,alpha:newOpacity}};var getOpaquePattern=__webpack_require__("./packages/patterns/src/getOpaquePattern.ts"),hex=__webpack_require__("./packages/design-system/src/components/hex/hex.tsx"),swatch=__webpack_require__("./packages/design-system/src/components/swatch/swatch.tsx"),contextMenu_constants=__webpack_require__("./packages/design-system/src/components/contextMenu/constants.ts"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),theme_types=__webpack_require__("./packages/design-system/src/theme/types.ts"),disclosure=__webpack_require__("./packages/design-system/src/components/disclosure/disclosure.tsx"),popup=__webpack_require__("./packages/design-system/src/components/popup/popup.tsx"),focusTrapButton=__webpack_require__("./packages/story-editor/src/components/floatingMenu/elements/shared/focusTrapButton.js"),CSSTransition=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),hasGradient=__webpack_require__("./packages/patterns/src/hasGradient.ts"),theme_constants=__webpack_require__("./packages/design-system/src/theme/constants/index.ts"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),transform_src=__webpack_require__("./packages/transform/src/index.ts"),useFocusTrapping=__webpack_require__("./packages/story-editor/src/utils/useFocusTrapping.js"),useStory=__webpack_require__("./packages/story-editor/src/app/story/useStory.ts"),noop=__webpack_require__("./packages/story-editor/src/utils/noop.ts"),createSolid=__webpack_require__("./packages/patterns/src/createSolid.ts"),arrow_left=__webpack_require__("./packages/design-system/src/icons/arrow_left.svg"),circular=__webpack_require__("./packages/design-system/src/components/circularProgress/circular.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const rgb=({r=0,g=0,b=0}={})=>`rgb(${r},${g},${b})`,rgba=({r,g,b,a})=>{const al=color=>255*(1-a)+a*color;return`rgb(${al(r)}, ${al(g)}, ${al(b)})`},PointerElement=styled_components_browser_esm.Ay.div.attrs((({currentColor={},withAlpha})=>({style:{background:withAlpha?rgba(currentColor):rgb(currentColor)}}))).withConfig({displayName:"pointer__PointerElement",componentId:"sc-1444lan-0"})(["width:","px;height:","px;transform:translate( "," );background:transparent;border:","px solid ",";border-radius:100%;position:relative;&:before{content:'';display:block;width:","px;height:","px;position:absolute;top:-","px;left:-","px;}"],16,16,(({offsetX=0,offsetY=0,isRTL})=>`${(isRTL?-1:1)*offsetX}px, ${offsetY}px`),2,(({theme})=>theme.colors.fg.primary),32,32,10,10);function Pointer(props){const $=(0,dist.c)(3),{isRTL}=(0,app.UK)();let t0;return $[0]!==isRTL||$[1]!==props?(t0=react.createElement(PointerElement,_extends({},props,{isRTL})),$[0]=isRTL,$[1]=props,$[2]=t0):t0=$[2],t0}const pointer=Pointer;Pointer.__docgenInfo={description:"",methods:[],displayName:"Pointer"};const EditableInput=(0,src.RZ)((()=>__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")).then((module=>({default:module.EditableInput}))))),Preview=styled_components_browser_esm.Ay.button.withConfig({displayName:"editablePreview__Preview",componentId:"sc-cdmcf1-0"})(["margin:0;padding:5px 7px;border:1px solid ",";border-radius:4px;background:transparent;color:",";width:100%;",";"],(({theme})=>theme.colors.border.defaultNormal),(({theme})=>theme.colors.fg.primary),styles.Y),Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"editablePreview__Wrapper",componentId:"sc-cdmcf1-1"})(["input{",";}"],styles.Y);function EditablePreview({label="",value="",width,format,onChange}){const[isEditing,setIsEditing]=(0,src.J0)(!1),enableEditing=(0,src.hb)((()=>setIsEditing(!0)),[]),disableEditing=(0,src.hb)((()=>setIsEditing(!1)),[]),wrapperRef=(0,src.li)(null),editableRef=(0,src.li)(),inputStyles=(0,src.Kr)((()=>({input:{textAlign:"center",textTransform:"lowercase",width:"100%",padding:"6px 12px",border:"1px solid #5E6668",color:"#E4E5E6",borderRadius:"4px",background:"transparent",lineHeight:"18px"},wrap:{lineHeight:0,maxWidth:`${width}px`}})),[width]);(0,keyboard._h)(wrapperRef,{key:"esc",editable:!0},disableEditing,[isEditing]);if((0,src.Nf)((()=>{const timeout=setTimeout((()=>{isEditing&&editableRef.current&&(editableRef.current.input.focus(),editableRef.current.input.select(),editableRef.current.input.setAttribute("aria-label",label))}));return()=>clearTimeout(timeout)}),[isEditing,label]),!isEditing)return react.createElement(Preview,{"aria-label":label,onClick:enableEditing,onFocus:enableEditing},react.createElement(typography_text.E.Paragraph,{size:theme_types.$.Small},format(value)));const editValue="transparent"===value?"000000":value;return react.createElement(Wrapper,{ref:wrapperRef,tabIndex:-1,onBlur:evt=>{evt.currentTarget.contains(evt.relatedTarget)||disableEditing()}},react.createElement(src.tY,{fallback:null},react.createElement(EditableInput,{value:editValue,ref:editableRef,onChange,onChangeComplete:disableEditing,style:inputStyles})))}const editablePreview=EditablePreview;EditablePreview.__docgenInfo={description:"",methods:[],displayName:"EditablePreview",props:{label:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},value:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},width:{description:"",type:{name:"number"},required:!0},onChange:{description:"",type:{name:"func"},required:!0},format:{description:"",type:{name:"func"},required:!0}}};const Saturation=(0,src.RZ)((()=>__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")).then((module=>({default:module.Saturation}))))),Hue=(0,src.RZ)((()=>__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")).then((module=>({default:module.Hue}))))),Alpha=(0,src.RZ)((()=>__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")).then((module=>({default:module.Alpha}))))),BodyFallback=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__BodyFallback",componentId:"sc-eqs4bc-0"})(["height:","px;display:flex;align-items:center;justify-content:center;"],240),SaturationWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__SaturationWrapper",componentId:"sc-eqs4bc-1"})(["position:relative;margin:0 16px;flex:0 1 ","px;"],116),wrapperCSS=(0,styled_components_browser_esm.AH)(["margin:0 16px;border:1px solid ",";flex:0 0 ","px;position:relative;border-radius:","px;background-clip:padding-box;"],(({theme})=>theme.colors.shadow.active),20,50),HueWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__HueWrapper",componentId:"sc-eqs4bc-2"})(["",""],wrapperCSS),AlphaWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__AlphaWrapper",componentId:"sc-eqs4bc-3"})([""," div:first-child div:first-child div:first-child{background-image:conic-gradient( "," 0.25turn,transparent 0turn 0.5turn,"," 0turn 0.75turn,transparent 0turn 1turn ) !important;background-size:8px 8px !important;}"],wrapperCSS,(({theme})=>theme.colors.fg.tertiary),(({theme})=>theme.colors.fg.tertiary)),Footer=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__Footer",componentId:"sc-eqs4bc-4"})(["height:","px;line-height:19px;position:relative;margin:0 16px;display:flex;justify-content:space-between;"],36),HexValue=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__HexValue",componentId:"sc-eqs4bc-5"})(["width:","px;"],74),Opacity=styled_components_browser_esm.Ay.div.withConfig({displayName:"currentColorPicker__Opacity",componentId:"sc-eqs4bc-6"})(["width:","px;"],52);function CurrentColorPicker(t0){const $=(0,dist.c)(57),{rgb,hsl,hsv,hex,onChange}=t0,[showOpacity,hasEyedropper]=(0,src.NT)(CurrentColorPickerContext);let t1;$[0]!==rgb.a?(t1=Math.round(100*rgb.a),$[0]=rgb.a,$[1]=t1):t1=$[1];const alphaPercentage=String(t1);let t2;$[2]!==hex?(t2="#"===hex[0]?hex.substr(1):hex,$[2]=hex,$[3]=t2):t2=$[3];const hexValue=t2;let t3;$[4]===Symbol.for("react.memo_cache_sentinel")?(t3=[],$[4]=t3):t3=$[4];const handleFormatHex=(0,src.hb)(_temp,t3);let t4;$[5]===Symbol.for("react.memo_cache_sentinel")?(t4=[],$[5]=t4):t4=$[5];const handleFormatPercentage=(0,src.hb)(_temp2,t4);let t5,t6;$[6]!==onChange?(t5=value=>onChange({hex:value}),t6=[onChange],$[6]=onChange,$[7]=t5,$[8]=t6):(t5=$[7],t6=$[8]);const handleHexInputChange=(0,src.hb)(t5,t6);let t7,t8;$[9]!==onChange||$[10]!==rgb?(t7=value_0=>onChange({...rgb,a:isNaN(value_0)?1:Number.parseInt(value_0)/100}),t8=[rgb,onChange],$[9]=onChange,$[10]=rgb,$[11]=t7,$[12]=t8):(t7=$[11],t8=$[12]);const handleOpacityInputChange=(0,src.hb)(t7,t8);let t9;$[13]!==onChange?(t9={onChange},$[13]=onChange,$[14]=t9):t9=$[14];const{initEyedropper}=eyedropper(t9);let t10,t11,t12,t13,t14,t15,t16,t17,t18,t19,t20,t21;return $[15]!==rgb?(t10=react.createElement(pointer,{offsetX:-8,offsetY:-8,currentColor:rgb}),$[15]=rgb,$[16]=t10):t10=$[16],$[17]!==hsl||$[18]!==hsv||$[19]!==onChange||$[20]!==t10?(t11=react.createElement(SaturationWrapper,null,react.createElement(Saturation,{radius:"8px",pointer:t10,hsl,hsv,onChange})),$[17]=hsl,$[18]=hsv,$[19]=onChange,$[20]=t10,$[21]=t11):t11=$[21],$[22]!==rgb?(t12=()=>react.createElement(pointer,{offsetX:-8,offsetY:1,currentColor:rgb}),$[22]=rgb,$[23]=t12):t12=$[23],$[24]!==hsl||$[25]!==onChange||$[26]!==t12?(t13=react.createElement(HueWrapper,null,react.createElement(Hue,{direction:"horizontal",height:"20px",radius:"50px",pointer:t12,hsl,onChange})),$[24]=hsl,$[25]=onChange,$[26]=t12,$[27]=t13):t13=$[27],$[28]!==hsl||$[29]!==onChange||$[30]!==rgb||$[31]!==showOpacity?(t14=showOpacity&&react.createElement(AlphaWrapper,null,react.createElement(Alpha,{direction:"horizontal",height:"20px",radius:"50px",pointer:()=>react.createElement(pointer,{offsetX:-8,offsetY:1,currentColor:rgb,withAlpha:!0}),rgb,hsl,onChange})),$[28]=hsl,$[29]=onChange,$[30]=rgb,$[31]=showOpacity,$[32]=t14):t14=$[32],$[33]!==t11||$[34]!==t13||$[35]!==t14?(t15=react.createElement(src.tY,{fallback:null},t11,t13,t14),$[33]=t11,$[34]=t13,$[35]=t14,$[36]=t15):t15=$[36],$[37]!==hasEyedropper||$[38]!==initEyedropper?(t16=hasEyedropper&&react.createElement(button_button.$,{variant:constants.Ak.Square,type:constants.VQ.Quaternary,size:constants.Mp.Small,"aria-label":(0,i18n.__)("Pick a color from canvas","web-stories"),onClick:initEyedropper(),onPointerEnter:initEyedropper(!1)},react.createElement(pipette.A,null)),$[37]=hasEyedropper,$[38]=initEyedropper,$[39]=t16):t16=$[39],$[40]===Symbol.for("react.memo_cache_sentinel")?(t17=(0,i18n.__)("Edit hex value","web-stories"),$[40]=t17):t17=$[40],$[41]!==handleFormatHex||$[42]!==handleHexInputChange||$[43]!==hexValue?(t18=react.createElement(HexValue,null,react.createElement(editablePreview,{label:t17,value:hexValue,onChange:handleHexInputChange,width:80,format:handleFormatHex})),$[41]=handleFormatHex,$[42]=handleHexInputChange,$[43]=hexValue,$[44]=t18):t18=$[44],$[45]!==alphaPercentage||$[46]!==handleFormatPercentage||$[47]!==handleOpacityInputChange||$[48]!==showOpacity?(t19=showOpacity&&react.createElement(Opacity,null,react.createElement(editablePreview,{label:(0,i18n.__)("Edit opacity","web-stories"),value:alphaPercentage,width:52,format:handleFormatPercentage,onChange:handleOpacityInputChange})),$[45]=alphaPercentage,$[46]=handleFormatPercentage,$[47]=handleOpacityInputChange,$[48]=showOpacity,$[49]=t19):t19=$[49],$[50]!==t16||$[51]!==t18||$[52]!==t19?(t20=react.createElement(Footer,null,t16,t18,t19),$[50]=t16,$[51]=t18,$[52]=t19,$[53]=t20):t20=$[53],$[54]!==t15||$[55]!==t20?(t21=react.createElement(react.Fragment,null,t15,t20),$[54]=t15,$[55]=t20,$[56]=t21):t21=$[56],t21}function _temp2(v_0){return`${v_0}%`}function _temp(v){return"transparent"===v&&(v="000000"),`#${v}`}CurrentColorPicker.propTypes={onChange:prop_types_default().func.isRequired,rgb:prop_types_default().object,hex:prop_types_default().string,hsl:prop_types_default().object,hsv:prop_types_default().object};const CurrentColorPickerContext=(0,src.q6)([!1,!1]),currentColorPicker=((...args)=>function DynamicFetcher({showOpacity,hasEyedropper,...props}){const isMountedRef=(0,src.li)(!1),[Picker,setPicker]=(0,src.J0)(null);return(0,src.vJ)((()=>(isMountedRef.current=!0,__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")).then((({CustomPicker})=>{isMountedRef.current&&setPicker({component:CustomPicker(...args)})})),()=>{isMountedRef.current=!1})),[]),Picker?react.createElement(CurrentColorPickerContext.Provider,{value:[showOpacity,hasEyedropper]},react.createElement(Picker.component,props)):react.createElement(BodyFallback,null,react.createElement(circular.A,null))})(CurrentColorPicker);CurrentColorPicker.__docgenInfo={description:"",methods:[],displayName:"CurrentColorPicker",props:{onChange:{description:"",type:{name:"func"},required:!0},rgb:{description:"",type:{name:"object"},required:!1},hex:{description:"",type:{name:"string"},required:!1},hsl:{description:"",type:{name:"object"},required:!1},hsv:{description:"",type:{name:"object"},required:!1}}};var arrows_leftright=__webpack_require__("./packages/design-system/src/icons/arrows_leftright.svg"),arrow_right_curved=__webpack_require__("./packages/design-system/src/icons/arrow_right_curved.svg"),generatePatternStyles=__webpack_require__("./packages/patterns/src/generatePatternStyles.ts"),transparentBg=__webpack_require__("./packages/design-system/src/theme/helpers/transparentBg.ts"),tailed_rectangle=__webpack_require__("./packages/design-system/src/icons/tailed_rectangle.svg"),createSolidFromString=__webpack_require__("./packages/patterns/src/createSolidFromString.ts");const c=hex=>(0,createSolidFromString.A)(`#${hex}`),BASIC_COLORS=[c("00000000"),c("000000"),c("454545"),c("B6B6B6"),c("EEEEEE"),c("FFFFFF"),c("003BAD"),c("0044C9"),c("0354F2"),c("1263FF"),c("347EFF"),c("6D9FFF"),c("4B1283"),c("5A189A"),c("7B2CBF"),c("9D4EDD"),c("C77DFF"),c("E0AAFF"),c("E03568"),c("FF477E"),c("FF5C8A"),c("FF7096"),c("FF85A1"),c("FF99AC"),c("590D22"),c("800F2F"),c("A4133C"),c("C9184A"),c("FF4D6D"),c("FF758F"),c("DBCA09"),c("FFD900"),c("FFE747"),c("FFEE70"),c("FFF599"),c("FFFFB7"),c("E06E04"),c("EA7D00"),c("FF9500"),c("FFA811"),c("FFBC35"),c("FFCC4A"),c("607047"),c("79895D"),c("839568"),c("A5B98B"),c("C1D3AA"),c("D4E4C0"),c("603809"),c("603808"),c("6F4518"),c("8B5E34"),c("A47148"),c("BC8A5F")],Stop=styled_components_browser_esm.Ay.button.attrs((({position})=>({style:{right:112*position-6+"px"}}))).withConfig({displayName:"gradientStop__Stop",componentId:"sc-1kqiqwc-0"})(["position:absolute;top:-","px;background:transparent;border:0;padding:0;&:focus{outline:none;}"],24),fillCss=(0,styled_components_browser_esm.AH)(["position:absolute;left:0;top:0;width:100%;height:100%;"]),Background=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientStop__Background",componentId:"sc-1kqiqwc-1"})([""," ",""],fillCss,(({color})=>(0,generatePatternStyles.A)(color))),Transparent=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientStop__Transparent",componentId:"sc-1kqiqwc-2"})([""," width:100%;height:100%;position:absolute;top:0;"],transparentBg.o),StopPointer=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientStop__StopPointer",componentId:"sc-1kqiqwc-3"})(["transform:translate(",",0);width:","px;height:","px;border-radius:2px;overflow:hidden;"],(({offset})=>`${offset}px`),14,14),IconWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientStop__IconWrapper",componentId:"sc-1kqiqwc-4"})(["position:absolute;left:-","px;top:-8px;color:",";svg{width:32px;height:32px;}"],10,(({theme,isSelected})=>isSelected?theme.colors.fg.primary:theme.colors.fg.tertiary));function GradientStopWithRef(t0,ref){const $=(0,dist.c)(22),{position,index,isSelected,color,onSelect}=t0;let t1,t2,t3,t4,t5,t6,t7,t8;return $[0]!==index||$[1]!==onSelect?(t1=()=>onSelect(index),t2=()=>onSelect(index),$[0]=index,$[1]=onSelect,$[2]=t1,$[3]=t2):(t1=$[2],t2=$[3]),$[4]!==position?(t3=(0,sprintf.A)((0,i18n.__)("Gradient stop at %d%%","web-stories"),Math.round(100-100*position)),$[4]=position,$[5]=t3):t3=$[5],$[6]===Symbol.for("react.memo_cache_sentinel")?(t4=react.createElement(tailed_rectangle.A,null),$[6]=t4):t4=$[6],$[7]!==isSelected?(t5=react.createElement(IconWrapper,{isSelected},t4),$[7]=isSelected,$[8]=t5):t5=$[8],$[9]===Symbol.for("react.memo_cache_sentinel")?(t6=react.createElement(Transparent,null),$[9]=t6):t6=$[9],$[10]!==color?(t7=react.createElement(StopPointer,{offset:-1},t6,react.createElement(Background,{color})),$[10]=color,$[11]=t7):t7=$[11],$[12]!==index||$[13]!==isSelected||$[14]!==position||$[15]!==ref||$[16]!==t1||$[17]!==t2||$[18]!==t3||$[19]!==t5||$[20]!==t7?(t8=react.createElement(Stop,{ref,key:index,isSelected,position,onFocus:t1,onClick:t2,"aria-label":t3},t5,t7),$[12]=index,$[13]=isSelected,$[14]=position,$[15]=ref,$[16]=t1,$[17]=t2,$[18]=t3,$[19]=t5,$[20]=t7,$[21]=t8):t8=$[21],t8}const GradientStop=(0,src.Rf)(GradientStopWithRef);GradientStop.propTypes={position:prop_types_default().number.isRequired,index:prop_types_default().number.isRequired,isSelected:prop_types_default().bool.isRequired,color:prop_types_default().object.isRequired,onSelect:prop_types_default().func.isRequired},GradientStopWithRef.propTypes=GradientStop.propTypes;const gradientStop=GradientStop;GradientStopWithRef.__docgenInfo={description:"",methods:[],displayName:"GradientStopWithRef",props:{position:{description:"",type:{name:"number"},required:!0},index:{description:"",type:{name:"number"},required:!0},isSelected:{description:"",type:{name:"bool"},required:!0},color:{description:"",type:{name:"object"},required:!0},onSelect:{description:"",type:{name:"func"},required:!0}}};const colorPicker_useKeyMoveStop=function useKeyMoveStop(ref,onMove){const $=(0,dist.c)(6);let t0,t1,t2,t3;$[0]!==onMove?(t0=()=>onMove(.01),t1=[onMove],$[0]=onMove,$[1]=t0,$[2]=t1):(t0=$[1],t1=$[2]),(0,keyboard._h)(ref,"left",t0,t1),$[3]!==onMove?(t2=()=>onMove(-.01),t3=[onMove],$[3]=onMove,$[4]=t2,$[5]=t3):(t2=$[4],t3=$[5]),(0,keyboard._h)(ref,"right",t2,t3)};const colorPicker_useKeyAddStop=function useKeyAddStop(ref,onAdd,stops,currentStopIndex){const $=(0,dist.c)(5);let t0,t1;$[0]!==currentStopIndex||$[1]!==onAdd||$[2]!==stops?(t0=()=>onAdd(function truncate(val,pos){return Number(val.toFixed(pos))}(function getNewStopPosition(stops,currentStopIndex){const isLastStopFocussed=currentStopIndex===stops.length-1;if(isLastStopFocussed&&stops[currentStopIndex].position<1)return 1;if(0===currentStopIndex&&stops[0].position>0)return 0;const preStop=isLastStopFocussed?stops[currentStopIndex-1]:stops[currentStopIndex],postStop=isLastStopFocussed?stops[currentStopIndex]:stops[currentStopIndex+1];return preStop.position+(postStop.position-preStop.position)/2}(stops,currentStopIndex),4)),t1=[onAdd,stops,currentStopIndex],$[0]=currentStopIndex,$[1]=onAdd,$[2]=stops,$[3]=t0,$[4]=t1):(t0=$[3],t1=$[4]),(0,keyboard._h)(ref,"enter",t0,t1)};const colorPicker_useKeyDeleteStop=function useKeyDeleteStop(ref,onDelete){const $=(0,dist.c)(4);let t0,t1;$[0]!==onDelete||$[1]!==ref?(t0=()=>{ref.current.focus(),onDelete()},t1=[onDelete,ref],$[0]=onDelete,$[1]=ref,$[2]=t0,$[3]=t1):(t0=$[2],t1=$[3]),(0,keyboard._h)(ref,"delete",t0,t1)};const colorPicker_useKeyFocus=function useKeyFocus(ref,stops,currentStopIndex){const $=(0,dist.c)(12),numStops=stops.length;let t0,t1;$[0]!==numStops?(t0=()=>Array.from({length:numStops}).map(src._3),t1=[numStops],$[0]=numStops,$[1]=t0,$[2]=t1):(t0=$[1],t1=$[2]);const stopRefs=(0,src.Kr)(t0,t1);let t2,t3;return $[3]!==currentStopIndex||$[4]!==ref||$[5]!==stopRefs?(t2=()=>{ref.current.contains(document.activeElement)&&stopRefs[currentStopIndex].current.focus()},$[3]=currentStopIndex,$[4]=ref,$[5]=stopRefs,$[6]=t2):t2=$[6],$[7]!==currentStopIndex||$[8]!==numStops||$[9]!==ref||$[10]!==stopRefs?(t3=[currentStopIndex,stopRefs,numStops,ref],$[7]=currentStopIndex,$[8]=numStops,$[9]=ref,$[10]=stopRefs,$[11]=t3):t3=$[11],(0,src.Nf)(t2,t3),stopRefs};function getPageX(evt){return evt.pageX||evt.clientX}const colorPicker_usePointerAddStop=function usePointerAddStop(ref,onAdd){const $=(0,dist.c)(7),[tempPointerPosition,setTempPointerPosition]=(0,src.J0)(null);let t0,t1;return $[0]!==onAdd||$[1]!==ref||$[2]!==setTempPointerPosition?(t0=()=>{const node=ref.current,nodeLeftEdge=node.getBoundingClientRect().left,onPointerDown=evt=>{if(evt.target!==node)return;const relativePosition=(getPageX(evt)-nodeLeftEdge+7)/112;onAdd(1.0625-relativePosition),setTempPointerPosition(null)},onPointerMove=evt_0=>{evt_0.target===node?setTempPointerPosition(getPageX(evt_0)-nodeLeftEdge):setTempPointerPosition(null)},onPointerLeave=evt_1=>{evt_1.target===node&&setTempPointerPosition(null)};return node.addEventListener("pointermove",onPointerMove),node.addEventListener("pointerleave",onPointerLeave),node.addEventListener("pointerdown",onPointerDown),()=>{node.removeEventListener("pointermove",onPointerMove),node.removeEventListener("pointerleave",onPointerLeave),node.removeEventListener("pointerdown",onPointerDown)}},$[0]=onAdd,$[1]=ref,$[2]=setTempPointerPosition,$[3]=t0):t0=$[3],$[4]!==onAdd||$[5]!==ref?(t1=[ref,onAdd],$[4]=onAdd,$[5]=ref,$[6]=t1):t1=$[6],(0,src.Nf)(t0,t1),tempPointerPosition};const colorPicker_usePointerMoveStop=function usePointerMoveStop(ref,onMove){const $=(0,dist.c)(7),lastPageXRef=(0,src.li)(null);let t0,t1;$[0]!==lastPageXRef||$[1]!==onMove||$[2]!==ref?(t0=()=>{const node=ref.current,onPointerMove=evt=>{const relativeDeltaX=getPageX(evt)-lastPageXRef.current;lastPageXRef.current=getPageX(evt),onMove(-relativeDeltaX/112)},onPointerUp=evt_0=>{lastPageXRef.current=null,function releasePointerCapture(evt){evt.target.releasePointerCapture&&evt.target.releasePointerCapture(evt.pointerId)}(evt_0),evt_0.target.removeEventListener("pointermove",onPointerMove),evt_0.target.removeEventListener("pointerup",onPointerUp)},onPointerDown=evt_1=>{evt_1.target!==node&&(lastPageXRef.current=getPageX(evt_1),function setPointerCapture(evt){evt.target.setPointerCapture&&evt.target.setPointerCapture(evt.pointerId)}(evt_1),evt_1.target.addEventListener("pointermove",onPointerMove),evt_1.target.addEventListener("pointerup",onPointerUp))};return node.addEventListener("pointerdown",onPointerDown),()=>node.removeEventListener("pointerdown",onPointerDown)},$[0]=lastPageXRef,$[1]=onMove,$[2]=ref,$[3]=t0):t0=$[3],$[4]!==onMove||$[5]!==ref?(t1=[ref,onMove],$[4]=onMove,$[5]=ref,$[6]=t1):t1=$[6],(0,src.Nf)(t0,t1)},Line=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientLine__Line",componentId:"sc-1k22wp0-0"})([""," width:","px;height:","px;border-radius:2px;position:relative;&:focus{outline:none;}"],transparentBg.o,112,12),gradientLine_Background=styled_components_browser_esm.Ay.div.attrs((({stops})=>({style:(0,generatePatternStyles.A)({type:"linear",stops,rotation:.25})}))).withConfig({displayName:"gradientLine__Background",componentId:"sc-1k22wp0-1"})(["position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;"]),TempPointer=(0,styled_components_browser_esm.Ay)(pointer).attrs((({x})=>({style:{left:`${x}px`},offsetX:-6}))).withConfig({displayName:"gradientLine__TempPointer",componentId:"sc-1k22wp0-2"})(["height:","px;width:","px;opacity:0.6;top:1px;pointer-events:none;"],10,10);function GradientLine(t0){const $=(0,dist.c)(19),{stops,currentStopIndex,onSelect,onAdd,onDelete,onMove}=t0,line=(0,src.li)();colorPicker_useKeyMoveStop(line,onMove),colorPicker_useKeyAddStop(line,onAdd,stops,currentStopIndex),colorPicker_useKeyDeleteStop(line,onDelete);const stopsRef=colorPicker_useKeyFocus(line,stops,currentStopIndex);colorPicker_usePointerMoveStop(line,onMove);const tempPointerPosition=colorPicker_usePointerAddStop(line,onAdd);let t1,t2,t3,t4,t5;if($[0]===Symbol.for("react.memo_cache_sentinel")?(t1=(0,i18n.__)("Gradient line","web-stories"),$[0]=t1):t1=$[0],$[1]!==stops?(t2=react.createElement(gradientLine_Background,{stops}),$[1]=stops,$[2]=t2):t2=$[2],$[3]!==currentStopIndex||$[4]!==onSelect||$[5]!==stops||$[6]!==stopsRef){let t4;$[8]!==currentStopIndex||$[9]!==onSelect||$[10]!==stopsRef?(t4=(t5,index)=>{const{position,color}=t5;return react.createElement(gradientStop,{ref:ref=>stopsRef[index].current=ref,key:index,index,isSelected:index===currentStopIndex,position,onSelect,color:{color}},react.createElement(pointer,{offsetX:-6}))},$[8]=currentStopIndex,$[9]=onSelect,$[10]=stopsRef,$[11]=t4):t4=$[11],t3=stops.map(t4),$[3]=currentStopIndex,$[4]=onSelect,$[5]=stops,$[6]=stopsRef,$[7]=t3}else t3=$[7];return $[12]!==tempPointerPosition?(t4=tempPointerPosition&&react.createElement(TempPointer,{"aria-label":(0,sprintf.A)((0,i18n.__)("Temporary gradient stop at %d%%","web-stories"),Math.round(tempPointerPosition/112*100)),x:tempPointerPosition}),$[12]=tempPointerPosition,$[13]=t4):t4=$[13],$[14]!==line||$[15]!==t2||$[16]!==t3||$[17]!==t4?(t5=react.createElement(Line,{ref:line,"aria-label":t1,tabIndex:"-1"},t2,t3,t4),$[14]=line,$[15]=t2,$[16]=t3,$[17]=t4,$[18]=t5):t5=$[18],t5}const gradientLine=GradientLine;GradientLine.__docgenInfo={description:"",methods:[],displayName:"GradientLine",props:{stops:{description:"",type:{name:"arrayOf",value:{name:"custom",raw:"ColorStopPropType"}},required:!1},currentStopIndex:{description:"",type:{name:"number"},required:!0},onSelect:{description:"",type:{name:"func"},required:!0},onAdd:{description:"",type:{name:"func"},required:!0},onDelete:{description:"",type:{name:"func"},required:!0},onMove:{description:"",type:{name:"func"},required:!0}}};const gradientPicker_Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientPicker__Wrapper",componentId:"sc-a6h8ls-0"})(["display:flex;justify-content:space-between;align-items:center;padding:16px 16px 0;height:60px;"]),Buttons=styled_components_browser_esm.Ay.div.withConfig({displayName:"gradientPicker__Buttons",componentId:"sc-a6h8ls-1"})(["display:flex;gap:8px;"]),SmallButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"gradientPicker__SmallButton",componentId:"sc-a6h8ls-2"})(["width:24px;height:24px;padding:0;svg{width:24px;height:24px;}"]);function GradientPicker(t0){const $=(0,dist.c)(21),{stops,currentStopIndex,type,onSelect,onAdd,onDelete,onMove,onRotate,onReverse}=t0;let t1;$[0]===Symbol.for("react.memo_cache_sentinel")?(t1=(0,i18n.__)("Reverse gradient stops","web-stories"),$[0]=t1):t1=$[0];const reverseLabel=t1;let t2;$[1]===Symbol.for("react.memo_cache_sentinel")?(t2=(0,i18n.__)("Rotate gradient","web-stories"),$[1]=t2):t2=$[1];const rotateLabel=t2,canRotate="radial"!==type;let t3,t4,t5,t6,t7,t8;return $[2]!==currentStopIndex||$[3]!==onAdd||$[4]!==onDelete||$[5]!==onMove||$[6]!==onSelect||$[7]!==stops?(t3=react.createElement(gradientLine,{stops,currentStopIndex,onSelect,onAdd,onDelete,onMove}),$[2]=currentStopIndex,$[3]=onAdd,$[4]=onDelete,$[5]=onMove,$[6]=onSelect,$[7]=stops,$[8]=t3):t3=$[8],$[9]===Symbol.for("react.memo_cache_sentinel")?(t4=react.createElement(arrows_leftright.A,null),$[9]=t4):t4=$[9],$[10]!==onReverse?(t5=react.createElement(components_tooltip.A,{hasTail:!0,title:reverseLabel},react.createElement(SmallButton,{"aria-label":reverseLabel,onClick:onReverse,type:constants.VQ.Quaternary,size:constants.Mp.Small,variant:constants.Ak.Square},t4)),$[10]=onReverse,$[11]=t5):t5=$[11],$[12]!==canRotate||$[13]!==onRotate?(t6=canRotate&&react.createElement(components_tooltip.A,{hasTail:!0,title:rotateLabel},react.createElement(SmallButton,{onClick:onRotate,"aria-label":rotateLabel,type:constants.VQ.Quaternary,size:constants.Mp.Small,variant:constants.Ak.Square},react.createElement(arrow_right_curved.A,{id:"gradient-rotator"}))),$[12]=canRotate,$[13]=onRotate,$[14]=t6):t6=$[14],$[15]!==t5||$[16]!==t6?(t7=react.createElement(Buttons,null,t5,t6),$[15]=t5,$[16]=t6,$[17]=t7):t7=$[17],$[18]!==t3||$[19]!==t7?(t8=react.createElement(gradientPicker_Wrapper,null,t3,t7),$[18]=t3,$[19]=t7,$[20]=t8):t8=$[20],t8}GradientPicker.propTypes={stops:prop_types_default().arrayOf(types.vj),currentStopIndex:prop_types_default().number.isRequired,type:prop_types_default().string.isRequired,onSelect:prop_types_default().func.isRequired,onAdd:prop_types_default().func.isRequired,onDelete:prop_types_default().func.isRequired,onMove:prop_types_default().func.isRequired,onReverse:prop_types_default().func.isRequired,onRotate:prop_types_default().func.isRequired};const gradientPicker=GradientPicker;GradientPicker.__docgenInfo={description:"",methods:[],displayName:"GradientPicker",props:{stops:{description:"",type:{name:"arrayOf",value:{name:"custom",raw:"ColorStopPropType"}},required:!1},currentStopIndex:{description:"",type:{name:"number"},required:!0},type:{description:"",type:{name:"string"},required:!0},onSelect:{description:"",type:{name:"func"},required:!0},onAdd:{description:"",type:{name:"func"},required:!0},onDelete:{description:"",type:{name:"func"},required:!0},onMove:{description:"",type:{name:"func"},required:!0},onReverse:{description:"",type:{name:"func"},required:!0},onRotate:{description:"",type:{name:"func"},required:!0}}};var pencil=__webpack_require__("./packages/design-system/src/icons/pencil.svg"),cross=__webpack_require__("./packages/design-system/src/icons/cross.svg");function header_extends(){return header_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},header_extends.apply(null,arguments)}const header_Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"header__Wrapper",componentId:"sc-3jvjbz-0"})(["display:flex;justify-content:space-between;align-items:center;height:","px;padding:4px 8px 4px 8px;position:relative;border-bottom:1px solid ",";"],44,(({theme})=>theme.colors.divider.tertiary)),Actions=styled_components_browser_esm.Ay.div.withConfig({displayName:"header__Actions",componentId:"sc-3jvjbz-1"})(["display:flex;margin-left:auto;"]),StyledButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"header__StyledButton",componentId:"sc-3jvjbz-2"})(["margin-left:8px;",";"],styles.Y);function Header(t0){const $=(0,dist.c)(24),{children,handleClose,isEditMode:t1,setIsEditMode:t2,hasPresets:t3}=t0,isEditMode=void 0!==t1&&t1,setIsEditMode=void 0===t2?noop.l:t2,hasPresets=void 0!==t3&&t3,ref=(0,src.li)();let t4,t5,t6,t7;$[0]!==ref?(t4=()=>{ref.current?.focus()},$[0]=ref,$[1]=t4):t4=$[1],$[2]===Symbol.for("react.memo_cache_sentinel")?(t5=[],$[2]=t5):t5=$[2],(0,src.vJ)(t4,t5),$[3]!==isEditMode||$[4]!==setIsEditMode?(t6=evt=>{evt.stopPropagation(),setIsEditMode(!isEditMode)},$[3]=isEditMode,$[4]=setIsEditMode,$[5]=t6):t6=$[5],$[6]!==isEditMode||$[7]!==t6?(t7={type:constants.VQ.Tertiary,size:constants.Mp.Small,variant:constants.Ak.Square,onClick:t6,isEditMode},$[6]=isEditMode,$[7]=t6,$[8]=t7):t7=$[8];const buttonProps=t7;let t8,t9,t10,t11,t12,t13;return $[9]!==buttonProps||$[10]!==hasPresets||$[11]!==isEditMode?(t8=hasPresets?isEditMode?react.createElement(StyledButton,header_extends({},buttonProps,{variant:constants.Ak.Rectangle,"aria-label":(0,i18n.__)("Exit edit mode","web-stories")}),(0,i18n.__)("Done","web-stories")):react.createElement(StyledButton,header_extends({},buttonProps,{variant:constants.Ak.Square,"aria-label":(0,i18n.__)("Edit colors","web-stories")}),react.createElement(pencil.A,null)):null,$[9]=buttonProps,$[10]=hasPresets,$[11]=isEditMode,$[12]=t8):t8=$[12],$[13]===Symbol.for("react.memo_cache_sentinel")?(t9=(0,i18n.__)("Close","web-stories"),$[13]=t9):t9=$[13],$[14]===Symbol.for("react.memo_cache_sentinel")?(t10=react.createElement(cross.A,null),$[14]=t10):t10=$[14],$[15]!==handleClose||$[16]!==ref?(t11=react.createElement(StyledButton,{"aria-label":t9,onClick:handleClose,type:constants.VQ.Tertiary,size:constants.Mp.Small,variant:constants.Ak.Square,ref},t10),$[15]=handleClose,$[16]=ref,$[17]=t11):t11=$[17],$[18]!==t11||$[19]!==t8?(t12=react.createElement(Actions,null,t8,t11),$[18]=t11,$[19]=t8,$[20]=t12):t12=$[20],$[21]!==children||$[22]!==t12?(t13=react.createElement(header_Wrapper,null,children,t12),$[21]=children,$[22]=t12,$[23]=t13):t13=$[23],t13}Header.propTypes={children:prop_types_default().node,handleClose:prop_types_default().func.isRequired,isEditMode:prop_types_default().bool,setIsEditMode:prop_types_default().func,hasPresets:prop_types_default().bool};const header=Header;Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{isEditMode:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},setIsEditMode:{defaultValue:{value:"function noop() {\n  return undefined;\n}",computed:!1},description:"",type:{name:"func"},required:!1},hasPresets:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},children:{description:"",type:{name:"node"},required:!1},handleClose:{description:"",type:{name:"func"},required:!0}}};var pattern_solid=__webpack_require__("./packages/design-system/src/icons/pattern_solid.svg"),toggleButton=__webpack_require__("./packages/design-system/src/components/button/toggleButton.tsx"),pattern_linear=__webpack_require__("./packages/design-system/src/icons/pattern_linear.svg"),pattern_radial=__webpack_require__("./packages/design-system/src/icons/pattern_radial.svg");const patternTypePicker_Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"patternTypePicker__Wrapper",componentId:"sc-1mq6bg0-0"})(["display:flex;justify-content:flex-start;align-items:center;height:","px;padding:0 16px;position:relative;gap:8px;"],52);function PatternTypePicker(t0){const $=(0,dist.c)(25),{type,setToGradient,setToSolid}=t0;let t1,t2;$[0]!==setToGradient?(t1=()=>setToGradient("linear"),t2=[setToGradient],$[0]=setToGradient,$[1]=t1,$[2]=t2):(t1=$[1],t2=$[2]);const setToLinear=(0,src.hb)(t1,t2);let t3,t4;$[3]!==setToGradient?(t3=()=>setToGradient("radial"),t4=[setToGradient],$[3]=setToGradient,$[4]=t3,$[5]=t4):(t3=$[4],t4=$[5]);const setToRadial=(0,src.hb)(t3,t4);let t5;$[6]===Symbol.for("react.memo_cache_sentinel")?(t5=(0,i18n.__)("Solid pattern type","web-stories"),$[6]=t5):t5=$[6];const t6="solid"===type;let t7,t8,t9;$[7]===Symbol.for("react.memo_cache_sentinel")?(t7=react.createElement(pattern_solid.A,null),$[7]=t7):t7=$[7],$[8]!==setToSolid||$[9]!==t6?(t8=react.createElement(toggleButton.f,{"aria-label":t5,onClick:setToSolid,type:constants.VQ.Quaternary,size:constants.Mp.Small,variant:constants.Ak.Square,isToggled:t6},t7),$[8]=setToSolid,$[9]=t6,$[10]=t8):t8=$[10],$[11]===Symbol.for("react.memo_cache_sentinel")?(t9=(0,i18n.__)("Linear gradient pattern type","web-stories"),$[11]=t9):t9=$[11];const t10="linear"===type;let t11,t12,t13;$[12]===Symbol.for("react.memo_cache_sentinel")?(t11=react.createElement(pattern_linear.A,null),$[12]=t11):t11=$[12],$[13]!==setToLinear||$[14]!==t10?(t12=react.createElement(toggleButton.f,{"aria-label":t9,onClick:setToLinear,type:constants.VQ.Quaternary,size:constants.Mp.Small,variant:constants.Ak.Square,isToggled:t10},t11),$[13]=setToLinear,$[14]=t10,$[15]=t12):t12=$[15],$[16]===Symbol.for("react.memo_cache_sentinel")?(t13=(0,i18n.__)("Radial gradient pattern type","web-stories"),$[16]=t13):t13=$[16];const t14="radial"===type;let t15,t16,t17;return $[17]===Symbol.for("react.memo_cache_sentinel")?(t15=react.createElement(pattern_radial.A,null),$[17]=t15):t15=$[17],$[18]!==setToRadial||$[19]!==t14?(t16=react.createElement(toggleButton.f,{"aria-label":t13,onClick:setToRadial,type:constants.VQ.Quaternary,size:constants.Mp.Small,variant:constants.Ak.Square,isToggled:t14},t15),$[18]=setToRadial,$[19]=t14,$[20]=t16):t16=$[20],$[21]!==t12||$[22]!==t16||$[23]!==t8?(t17=react.createElement(patternTypePicker_Wrapper,null,t8,t12,t16),$[21]=t12,$[22]=t16,$[23]=t8,$[24]=t17):t17=$[24],t17}PatternTypePicker.propTypes={type:prop_types_default().string.isRequired,setToGradient:prop_types_default().func.isRequired,setToSolid:prop_types_default().func.isRequired};const patternTypePicker=PatternTypePicker;PatternTypePicker.__docgenInfo={description:"",methods:[],displayName:"PatternTypePicker",props:{type:{description:"",type:{name:"string"},required:!0},setToGradient:{description:"",type:{name:"func"},required:!0},setToSolid:{description:"",type:{name:"func"},required:!0}}};const colorPicker_insertStop=function insertStop(stops,newPosition){const followingIndex=stops.findIndex((({position})=>position>newPosition));if(-1===followingIndex)return{index:stops.length,color:stops[stops.length-1].color};if(0===followingIndex)return{index:0,color:stops[0].color};const preceding=stops[followingIndex-1],following=stops[followingIndex],ratio=(newPosition-preceding.position)/(following.position-preceding.position),{color:{r:pr,g:pg,b:pb,a:pa=1}}=preceding,{color:{r:fr,g:fg,b:fb,a:fa=1}}=following,mix=(p,f)=>p+(f-p)*ratio,fullColor={r:Math.round(mix(pr,fr)),g:Math.round(mix(pg,fg)),b:Math.round(mix(pb,fb)),a:mix(pa,fa)};return{index:followingIndex,color:1===fullColor.a?{r:fullColor.r,g:fullColor.g,b:fullColor.b}:fullColor}};function regenerateStops(stops){return stops.map((({color:{r,g,b,a},position})=>({color:(0,createSolid.A)(r,g,b,a).color,position})))}const colorPicker_regenerateColor=function regenerateColor(pattern){const{regenerate,type}=pattern;if(!regenerate)return null;switch(type){case"solid":return function regenerateSolid({currentColor:{r,g,b,a}}){return(0,createSolid.A)(r,g,b,a)}(pattern);case"linear":return function regenerateLinear({stops,rotation,alpha}){const minimal={type:"linear",stops:regenerateStops(stops)};return 0!==rotation&&(minimal.rotation=rotation),1!==alpha&&void 0!==alpha&&(minimal.alpha=alpha),minimal}(pattern);case"radial":return function regenerateRadial({stops,center,size,alpha}){const minimal={type:"radial",stops:regenerateStops(stops)};return!center||.5===center.x&&.5===center.y||(minimal.center=center),!size||1===size.w&&1===size.h||(minimal.size=size),1!==alpha&&void 0!==alpha&&(minimal.alpha=alpha),minimal}(pattern);default:return null}},initialState={type:"solid",regenerate:!1,stops:[],currentColor:{r:0,g:0,b:0,a:0},currentStopIndex:0,rotation:.5,alpha:1,center:{x:.5,y:.5},size:{w:1,h:1}},reducer={load:(state,{payload})=>{const{type,color,stops,rotation,center,size,alpha}=payload,maybeReset=type&&"solid"!==type&&(state.type!==type||stops?.length!==state.stops?.length)?{currentColor:stops[0].color,currentStopIndex:0}:{};switch(type){case"linear":return{...state,...maybeReset,type,regenerate:!1,stops,alpha:isNaN(alpha)?state.alpha:alpha,rotation:isNaN(rotation)?0:rotation};case"radial":return{...state,...maybeReset,type,regenerate:!1,stops,center:void 0!==center?center:state.center,size:void 0!==size?size:state.size,alpha:isNaN(alpha)?state.alpha:alpha};default:return{...state,type:"solid",regenerate:!1,currentColor:color}}},setToSolid:state=>({...state,type:"solid",regenerate:!0}),setToGradient:(state,{payload})=>{const stops=state.stops&&state.stops.length>=2?state.stops:[{color:state.currentColor,position:0},{color:state.currentColor,position:1}];return{...state,regenerate:!0,type:payload,stops}},addStopAt:(state,{payload:newPosition})=>{if(newPosition=Number(newPosition.toFixed(2)),state.stops.some((({position})=>position===newPosition)))return state;const{index,color}=colorPicker_insertStop(state.stops,newPosition),stops=[...state.stops.slice(0,index),{color,position:newPosition},...state.stops.slice(index)];return{...state,regenerate:!0,currentColor:color,currentStopIndex:index,stops}},moveCurrentStopBy:(state,{payload:deltaPosition})=>{const index=state.currentStopIndex,currentPosition=state.stops[index].position,desiredPosition=Math.max(0,Math.min(1,Number((currentPosition+deltaPosition).toFixed(2))));if(desiredPosition===currentPosition)return state;const stops=[...state.stops.slice(0,index),{...state.stops[index],position:desiredPosition},...state.stops.slice(index+1)];stops.sort(((a,b)=>a.position-b.position));const currentStopIndex=stops.findIndex((({position})=>position===desiredPosition));return{...state,regenerate:!0,stops,currentStopIndex}},removeCurrentStop:state=>{if(2===state.stops.length)return state;const index=state.currentStopIndex,stops=[...state.stops];stops.splice(index,1);const currentStopIndex=index===stops.length?index-1:index;return{...state,regenerate:!0,stops,currentColor:stops[currentStopIndex].color,currentStopIndex}},updateCurrentColor:(state,{payload:{rgb}})=>{const currentColor={...rgb},newState={...state,regenerate:!0,currentColor};return"solid"!==state.type&&(newState.stops=[...state.stops.slice(0,state.currentStopIndex),{...state.stops[state.currentStopIndex],color:currentColor},...state.stops.slice(state.currentStopIndex+1)]),newState},rotateClockwise:state=>({...state,rotation:(state.rotation+.25)%1,regenerate:!0}),selectStop:(state,{payload:newIndex})=>{const currentStopIndex=Math.max(0,Math.min(state.stops.length-1,newIndex)),currentColor=state.stops[currentStopIndex].color;return{...state,currentStopIndex,currentColor}},reverseStops:state=>{const stops=state.stops.map((({color,position})=>({color,position:1-position}))).reverse(),currentStopIndex=stops.length-state.currentStopIndex-1;return{...state,stops,currentStopIndex,regenerate:!0}}};const colorPicker_useColor=function useColor(){const $=(0,dist.c)(8),[state,actions]=(0,src.Fm)(initialState,reducer);let t0;$[0]!==state?(t0=colorPicker_regenerateColor(state),$[0]=state,$[1]=t0):t0=$[1];const generatedColor=t0;let t1,t2;return $[2]!==generatedColor||$[3]!==state?(t1={...state,generatedColor},$[2]=generatedColor,$[3]=state,$[4]=t1):t1=$[4],$[5]!==actions||$[6]!==t1?(t2={state:t1,actions},$[5]=actions,$[6]=t1,$[7]=t2):t2=$[7],t2};var getUniquePresets=__webpack_require__("./packages/story-editor/src/utils/getUniquePresets.ts");const addCustomColor_StyledButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"addCustomColor__StyledButton",componentId:"sc-4t2ps2-0"})(["flex:0 0 32px;margin:0 16px 16px;"]);function AddCustomColor(t0){const $=(0,dist.c)(9),{color,onSave}=t0,{updateStory:updateStory_0,globalStoryStyles:globalStoryStyles_0}=(0,useStory.A)(addCustomColor_temp);let t1,t2;$[0]!==color||$[1]!==globalStoryStyles_0||$[2]!==onSave||$[3]!==updateStory_0?(t1=()=>{updateStory_0({properties:{globalStoryStyles:{...globalStoryStyles_0,colors:(0,getUniquePresets.A)([...globalStoryStyles_0.colors,color].filter(Boolean))}}}),onSave()},t2=[onSave,color,globalStoryStyles_0,updateStory_0],$[0]=color,$[1]=globalStoryStyles_0,$[2]=onSave,$[3]=updateStory_0,$[4]=t1,$[5]=t2):(t1=$[4],t2=$[5]);const handleAddSavedColor=(0,src.hb)(t1,t2);let t3,t4;return $[6]===Symbol.for("react.memo_cache_sentinel")?(t3=(0,i18n.__)("Add to Saved Colors","web-stories"),$[6]=t3):t3=$[6],$[7]!==handleAddSavedColor?(t4=react.createElement(addCustomColor_StyledButton,{onClick:handleAddSavedColor,type:constants.VQ.Secondary,size:constants.Mp.Small,variant:constants.Ak.Rectangle},t3),$[7]=handleAddSavedColor,$[8]=t4):t4=$[8],t4}function addCustomColor_temp(t0){const{state:t1,actions:t2}=t0,{story:t3}=t1,{globalStoryStyles}=t3,{updateStory}=t2;return{globalStoryStyles,updateStory}}AddCustomColor.propTypes={onSave:prop_types_default().func,color:types.Gw};const addCustomColor=AddCustomColor;function CustomColorPicker(t0){const $=(0,dist.c)(56),{color,allowsGradient,allowsOpacity,handleColorChange,handleClose,hideCustomPicker,allowsSavedColors,hasEyedropper}=t0,{state:t1,actions:t2}=colorPicker_useColor(),{type,stops,currentStopIndex,currentColor,generatedColor}=t1,{load,updateCurrentColor,reverseStops,selectStop,addStopAt,removeCurrentStop,rotateClockwise,moveCurrentStopBy,setToSolid,setToGradient}=t2,isMountedRef=(0,src.li)(!0);let t3,t4,t5,t6,t7,t8,t9,t10;$[0]!==isMountedRef?(t3=()=>()=>{isMountedRef.current=!1},$[0]=isMountedRef,$[1]=t3):t3=$[1],$[2]===Symbol.for("react.memo_cache_sentinel")?(t4=[],$[2]=t4):t4=$[2],(0,src.vJ)(t3,t4),$[3]!==generatedColor||$[4]!==handleColorChange?(t5=()=>{generatedColor&&handleColorChange(generatedColor)},t6=[handleColorChange,generatedColor],$[3]=generatedColor,$[4]=handleColorChange,$[5]=t5,$[6]=t6):(t5=$[5],t6=$[6]),(0,src.vJ)(t5,t6),$[7]!==color||$[8]!==load?(t7=()=>{load(color||(0,createSolid.A)(0,0,0))},t8=[color,load],$[7]=color,$[8]=load,$[9]=t7,$[10]=t8):(t7=$[9],t8=$[10]),(0,src.vJ)(t7,t8),$[11]!==handleColorChange||$[12]!==isMountedRef||$[13]!==updateCurrentColor?(t9=e=>{updateCurrentColor(e),!isMountedRef.current&&e?.rgb&&handleColorChange({color:e.rgb})},$[11]=handleColorChange,$[12]=isMountedRef,$[13]=updateCurrentColor,$[14]=t9):t9=$[14],$[15]!==handleColorChange||$[16]!==updateCurrentColor?(t10=[updateCurrentColor,handleColorChange],$[15]=handleColorChange,$[16]=updateCurrentColor,$[17]=t10):t10=$[17];const handleColorPickerChange=(0,src.hb)(t9,t10);let t11,t12,t13,t14,t15,t16,t17,t18,t19;return $[18]===Symbol.for("react.memo_cache_sentinel")?(t11=(0,i18n.__)("Go back","web-stories"),$[18]=t11):t11=$[18],$[19]===Symbol.for("react.memo_cache_sentinel")?(t12=react.createElement(arrow_left.A,null),$[19]=t12):t12=$[19],$[20]!==hideCustomPicker?(t13=react.createElement(button_button.$,{"aria-label":t11,onClick:hideCustomPicker,type:constants.VQ.Tertiary,size:constants.Mp.Small,variant:constants.Ak.Square},t12),$[20]=hideCustomPicker,$[21]=t13):t13=$[21],$[22]!==handleClose||$[23]!==t13?(t14=react.createElement(header,{handleClose},t13),$[22]=handleClose,$[23]=t13,$[24]=t14):t14=$[24],$[25]!==allowsGradient||$[26]!==setToGradient||$[27]!==setToSolid||$[28]!==type?(t15=allowsGradient&&react.createElement(patternTypePicker,{type,setToGradient,setToSolid}),$[25]=allowsGradient,$[26]=setToGradient,$[27]=setToSolid,$[28]=type,$[29]=t15):t15=$[29],$[30]!==addStopAt||$[31]!==currentStopIndex||$[32]!==moveCurrentStopBy||$[33]!==removeCurrentStop||$[34]!==reverseStops||$[35]!==rotateClockwise||$[36]!==selectStop||$[37]!==stops||$[38]!==type?(t16="solid"!==type&&react.createElement(gradientPicker,{stops,currentStopIndex,onSelect:selectStop,onReverse:reverseStops,onAdd:addStopAt,onDelete:removeCurrentStop,onRotate:rotateClockwise,onMove:moveCurrentStopBy,type}),$[30]=addStopAt,$[31]=currentStopIndex,$[32]=moveCurrentStopBy,$[33]=removeCurrentStop,$[34]=reverseStops,$[35]=rotateClockwise,$[36]=selectStop,$[37]=stops,$[38]=type,$[39]=t16):t16=$[39],$[40]!==allowsOpacity||$[41]!==currentColor||$[42]!==handleColorPickerChange||$[43]!==hasEyedropper?(t17=react.createElement(currentColorPicker,{color:currentColor,onChange:handleColorPickerChange,showOpacity:allowsOpacity,hasEyedropper}),$[40]=allowsOpacity,$[41]=currentColor,$[42]=handleColorPickerChange,$[43]=hasEyedropper,$[44]=t17):t17=$[44],$[45]!==allowsSavedColors||$[46]!==color||$[47]!==generatedColor||$[48]!==hideCustomPicker?(t18=allowsSavedColors&&react.createElement(addCustomColor,{color:generatedColor||color,onSave:hideCustomPicker}),$[45]=allowsSavedColors,$[46]=color,$[47]=generatedColor,$[48]=hideCustomPicker,$[49]=t18):t18=$[49],$[50]!==t14||$[51]!==t15||$[52]!==t16||$[53]!==t17||$[54]!==t18?(t19=react.createElement(react.Fragment,null,t14,t15,t16,t17,t18),$[50]=t14,$[51]=t15,$[52]=t16,$[53]=t17,$[54]=t18,$[55]=t19):t19=$[55],t19}AddCustomColor.__docgenInfo={description:"",methods:[],displayName:"AddCustomColor",props:{onSave:{description:"",type:{name:"func"},required:!1},color:{description:"",type:{name:"custom",raw:"PatternPropType"},required:!1}}},CustomColorPicker.propTypes={handleColorChange:prop_types_default().func.isRequired,handleClose:prop_types_default().func,hideCustomPicker:prop_types_default().func.isRequired,allowsGradient:prop_types_default().bool,allowsOpacity:prop_types_default().bool,allowsSavedColors:prop_types_default().bool,color:types.Gw,hasEyedropper:prop_types_default().bool};const customColorPicker=CustomColorPicker;CustomColorPicker.__docgenInfo={description:"",methods:[],displayName:"CustomColorPicker",props:{handleColorChange:{description:"",type:{name:"func"},required:!0},handleClose:{description:"",type:{name:"func"},required:!1},hideCustomPicker:{description:"",type:{name:"func"},required:!0},allowsGradient:{description:"",type:{name:"bool"},required:!1},allowsOpacity:{description:"",type:{name:"bool"},required:!1},allowsSavedColors:{description:"",type:{name:"bool"},required:!1},color:{description:"",type:{name:"custom",raw:"PatternPropType"},required:!1},hasEyedropper:{description:"",type:{name:"bool"},required:!1}}};var scrollbar=__webpack_require__("./packages/design-system/src/theme/helpers/scrollbar.ts"),plus_outline=__webpack_require__("./packages/design-system/src/icons/plus_outline.svg"),localStore=__webpack_require__("./packages/design-system/src/utils/localStore.ts"),hasOpacity=__webpack_require__("./packages/patterns/src/hasOpacity.ts"),outline=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),useRovingTabIndex=__webpack_require__("./packages/story-editor/src/utils/useRovingTabIndex/index.js"),plus=__webpack_require__("./packages/design-system/src/icons/plus.svg"),useAddPreset=__webpack_require__("./packages/story-editor/src/utils/useAddPreset.js");function colorAdd_extends(){return colorAdd_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},colorAdd_extends.apply(null,arguments)}const AddColorAction=styled_components_browser_esm.Ay.button.withConfig({displayName:"colorAdd__AddColorAction",componentId:"sc-1s3q8di-0"})(["cursor:pointer;background-color:transparent;color:",";border-color:",";border-width:1px;border-style:dashed;border-radius:50%;height:","px;width:","px;padding:0;svg{height:100%;width:100%;}:hover{border-color:",";}",";"],(({theme})=>theme.colors.fg.primary),(({theme})=>theme.colors.border.defaultNormal),24,24,(({theme})=>theme.colors.border.defaultHover),styles.Y);function ColorAdd(t0){const $=(0,dist.c)(14);let props,t1,t2,t3;$[0]!==t0?(({isLocal:t1,isGlobal:t2,isBackground:t3,...props}=t0),$[0]=t0,$[1]=props,$[2]=t1,$[3]=t2,$[4]=t3):(props=$[1],t1=$[2],t2=$[3],t3=$[4]);const isLocal=void 0!==t1&&t1,isGlobal=void 0!==t2&&t2,isBackground=void 0!==t3&&t3;let t4;$[5]!==isBackground?(t4={presetType:src_constants.aS.COLOR,isBackgroundColor:isBackground},$[5]=isBackground,$[6]=t4):t4=$[6];const{addGlobalPreset,addLocalPreset}=(0,useAddPreset.A)(t4);if(!isLocal&&!isGlobal)return null;let t5;$[7]!==isLocal?(t5=isLocal?(0,i18n.__)("Add local color","web-stories"):(0,i18n.__)("Add global color","web-stories"),$[7]=isLocal,$[8]=t5):t5=$[8];const label=t5,t6=isLocal?addLocalPreset:addGlobalPreset;let t7,t8;return $[9]===Symbol.for("react.memo_cache_sentinel")?(t7=react.createElement(plus.A,null),$[9]=t7):t7=$[9],$[10]!==label||$[11]!==props||$[12]!==t6?(t8=react.createElement(AddColorAction,colorAdd_extends({tabIndex:"0",onClick:t6,"aria-label":label},props),t7),$[10]=label,$[11]=props,$[12]=t6,$[13]=t8):t8=$[13],t8}ColorAdd.propTypes={isLocal:prop_types_default().bool,isGlobal:prop_types_default().bool,isBackground:prop_types_default().bool};const colorAdd=ColorAdd;function basicColorList_extends(){return basicColorList_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},basicColorList_extends.apply(null,arguments)}ColorAdd.__docgenInfo={description:"",methods:[],displayName:"ColorAdd",props:{isLocal:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isGlobal:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isBackground:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1}}};const focusStyle=(0,styled_components_browser_esm.AH)(["",";"],(({theme})=>outline.Q(theme.colors.border.focus,theme.colors.bg.secondary))),SwatchList=styled_components_browser_esm.Ay.div.attrs({role:"listbox"}).withConfig({displayName:"basicColorList__SwatchList",componentId:"sc-10h6tzp-0"})(["display:flex;max-width:100%;flex-wrap:wrap;gap:6px;"]),StyledSwatch=(0,styled_components_browser_esm.Ay)(swatch.A).attrs((({isSelected})=>({role:"option","aria-selected":isSelected}))).withConfig({displayName:"basicColorList__StyledSwatch",componentId:"sc-10h6tzp-1"})(["",";",""],focusStyle,(({isSelected,theme})=>isSelected&&(0,styled_components_browser_esm.AH)(["border:2px solid ",";"],theme.colors.border.defaultActive)));function getPatternAsString(pattern){if(!pattern)return"";const styles=(0,generatePatternStyles.A)(pattern);return styles.backgroundColor||styles.backgroundImage}function ConditionalTooltip(t0){const $=(0,dist.c)(3),{tooltip,children}=t0;if(!tooltip)return children;let t1;return $[0]!==children||$[1]!==tooltip?(t1=react.createElement(components_tooltip.A,{title:tooltip},children),$[0]=children,$[1]=tooltip,$[2]=t1):t1=$[2],t1}function BasicColorList({color,colors,handleClick,allowsOpacity,allowsGradient,isLocal=!1,isGlobal=!1,isEditMode,changedStyle,...rest}){const colorAsBackground=getPatternAsString(color),listRef=(0,src.li)(null);(0,useRovingTabIndex.A)({ref:listRef});const selectedSwatchIndex=colors.map(getPatternAsString).findIndex((c=>colorAsBackground===c));let firstIndex=0;const colorType=isLocal?(0,i18n.__)("local","web-stories"):(0,i18n.__)("global","web-stories"),isBackground="background"===changedStyle;return react.createElement(react.Fragment,null,colors.length>0&&react.createElement(SwatchList,basicColorList_extends({ref:listRef},rest),colors.map(((pattern,i)=>{const isTransparentAndInvalid=!allowsOpacity&&(0,hasOpacity.A)(pattern),isGradientAndInvalid=!allowsGradient&&(0,hasGradient.A)(pattern),isDisabled=(isTransparentAndInvalid||isGradientAndInvalid)&&!isEditMode;let tooltip=null;isDisabled&&!isEditMode&&(tooltip=isTransparentAndInvalid?(0,i18n.__)("Page background colors cannot have an opacity.","web-stories"):(0,i18n.__)("Gradient not allowed for Text","web-stories"));const patternAsBackground=getPatternAsString(pattern),title=isEditMode?(0,sprintf.A)((0,i18n.__)("Delete %1$s color: %2$s","web-stories"),colorType,patternAsBackground):patternAsBackground,isSelected=colorAsBackground===patternAsBackground;let tabIndex=i===firstIndex?0:-1;return selectedSwatchIndex>=0?tabIndex=isSelected?0:-1:isDisabled&&i===firstIndex&&(firstIndex++,tabIndex=-1),react.createElement(ConditionalTooltip,{key:patternAsBackground,tooltip},react.createElement(StyledSwatch,{onClick:()=>handleClick(pattern,isLocal),pattern,isSelected,isDisabled,tabIndex,title},isEditMode&&react.createElement(cross.A,null)))})),(isLocal||isGlobal)&&react.createElement(colorAdd,{isLocal,isGlobal,isBackground})),!colors.length&&(isLocal||isGlobal)&&react.createElement(colorAdd,{isLocal,isGlobal,isBackground}))}ConditionalTooltip.propTypes={tooltip:prop_types_default().string,children:prop_types_default().node.isRequired};const basicColorList=BasicColorList;BasicColorList.__docgenInfo={description:"",methods:[],displayName:"BasicColorList",props:{isLocal:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isGlobal:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},handleClick:{description:"",type:{name:"func"},required:!0},allowsOpacity:{description:"",type:{name:"bool"},required:!1},allowsGradient:{description:"",type:{name:"bool"},required:!1},color:{description:"",type:{name:"custom",raw:"PatternPropType"},required:!1},colors:{description:"",type:{name:"arrayOf",value:{name:"custom",raw:"PatternPropType"}},required:!1},isEditMode:{description:"",type:{name:"bool"},required:!0},changedStyle:{description:"",type:{name:"string"},required:!1}}};var checkbox_checkbox=__webpack_require__("./packages/design-system/src/components/checkbox/checkbox.tsx"),dialog=__webpack_require__("./packages/story-editor/src/components/dialog/index.js");const Label=styled_components_browser_esm.Ay.label.withConfig({displayName:"confirmationDialog__Label",componentId:"sc-bvt4vo-0"})(["margin-left:12px;"]),CheckboxWrapper=styled_components_browser_esm.Ay.footer.withConfig({displayName:"confirmationDialog__CheckboxWrapper",componentId:"sc-bvt4vo-1"})(["display:flex;margin-top:12px;padding:14px 0 0 9px;border-top:1px solid ",";"],(({theme})=>theme.colors.divider.primary));function ConfirmationDialog(t0){const $=(0,dist.c)(17),{onClose,onPrimary}=t0;let t1;$[0]===Symbol.for("react.memo_cache_sentinel")?(t1=localStore.x.getItemByKey(localStore.$.DELETE_COLOR_PRESET_DIALOG_DISMISSED),$[0]=t1):t1=$[0];const[isDialogDismissed,setIsDialogDismissed]=(0,src.J0)(t1),cbId=`cb-${(0,v4.A)()}`;let t2,t3,t4,t5,t6,t7,t8,t9;return $[1]===Symbol.for("react.memo_cache_sentinel")?(t2=(0,i18n.__)("Cancel","web-stories"),$[1]=t2):t2=$[1],$[2]===Symbol.for("react.memo_cache_sentinel")?(t3=(0,i18n.__)("Delete","web-stories"),$[2]=t3):t3=$[2],$[3]===Symbol.for("react.memo_cache_sentinel")?(t4=react.createElement(typography_text.E.Paragraph,{size:theme_types.$.Small},(0,i18n.__)("This is a global color. Deleting this color will remove it from the Saved Colors across all stories and the color will no longer be available to any other users on the site.","web-stories")),$[3]=t4):t4=$[3],$[4]!==isDialogDismissed||$[5]!==setIsDialogDismissed?(t5=()=>{localStore.x.setItemByKey(localStore.$.DELETE_COLOR_PRESET_DIALOG_DISMISSED,!isDialogDismissed),setIsDialogDismissed(!isDialogDismissed)},$[4]=isDialogDismissed,$[5]=setIsDialogDismissed,$[6]=t5):t5=$[6],$[7]!==isDialogDismissed||$[8]!==t5?(t6=react.createElement(checkbox_checkbox.A,{id:cbId,checked:isDialogDismissed,onChange:t5}),$[7]=isDialogDismissed,$[8]=t5,$[9]=t6):t6=$[9],$[10]===Symbol.for("react.memo_cache_sentinel")?(t7=react.createElement(Label,{htmlFor:cbId},react.createElement(typography_text.E.Span,{size:theme_types.$.Small},(0,i18n.__)("Don't ask for confirmation again.","web-stories"))),$[10]=t7):t7=$[10],$[11]!==t6?(t8=react.createElement(CheckboxWrapper,null,t6,t7),$[11]=t6,$[12]=t8):t8=$[12],$[13]!==onClose||$[14]!==onPrimary||$[15]!==t8?(t9=react.createElement(dialog.A,{isOpen:!0,onClose,secondaryText:t2,onPrimary,primaryText:t3},t4,t8),$[13]=onClose,$[14]=onPrimary,$[15]=t8,$[16]=t9):t9=$[16],t9}ConfirmationDialog.propTypes={onClose:prop_types_default().func.isRequired,onPrimary:prop_types_default().func.isRequired};const confirmationDialog=ConfirmationDialog;ConfirmationDialog.__docgenInfo={description:"",methods:[],displayName:"ConfirmationDialog",props:{onClose:{description:"",type:{name:"func"},required:!0},onPrimary:{description:"",type:{name:"func"},required:!0}}};var useDeleteColor=__webpack_require__("./packages/story-editor/src/components/colorPicker/useDeleteColor.js");const Body=styled_components_browser_esm.Ay.div.withConfig({displayName:"basicColorPicker__Body",componentId:"sc-c2cm2c-0"})(["display:flex;flex-direction:column;padding:8px 16px 0;overflow:auto;",";"],scrollbar.W),basicColorPicker_Footer=styled_components_browser_esm.Ay.div.withConfig({displayName:"basicColorPicker__Footer",componentId:"sc-c2cm2c-1"})(["padding:8px 16px 16px;display:flex;flex-direction:column;"]),SavedColors=styled_components_browser_esm.Ay.div.withConfig({displayName:"basicColorPicker__SavedColors",componentId:"sc-c2cm2c-2"})(["border-bottom:1px solid ",";padding-bottom:16px;"],(({theme})=>theme.colors.border.defaultNormal)),DefaultColors=styled_components_browser_esm.Ay.div.withConfig({displayName:"basicColorPicker__DefaultColors",componentId:"sc-c2cm2c-3"})([""]),basicColorPicker_Label=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).attrs({size:theme_types.$.Small}).withConfig({displayName:"basicColorPicker__Label",componentId:"sc-c2cm2c-4"})(["color:",";margin:12px 0 10px;"],(({theme})=>theme.colors.fg.secondary)),DefaultText=(0,styled_components_browser_esm.Ay)(basicColorPicker_Label).withConfig({displayName:"basicColorPicker__DefaultText",componentId:"sc-c2cm2c-5"})(["margin:0 0 0 8px;color:",";"],(({theme})=>theme.colors.fg.primary)),basicColorPicker_StyledButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"basicColorPicker__StyledButton",componentId:"sc-c2cm2c-6"})(["display:flex;justify-content:center;align-items:center;gap:4px;flex-basis:100%;"]),StyledText=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).withConfig({displayName:"basicColorPicker__StyledText",componentId:"sc-c2cm2c-7"})(["padding:5px 10px;"]),StyledPlus=(0,styled_components_browser_esm.Ay)(plus_outline.A).withConfig({displayName:"basicColorPicker__StyledPlus",componentId:"sc-c2cm2c-8"})(["width:32px;margin:-8px 0;"]),EyedropperWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"basicColorPicker__EyedropperWrapper",componentId:"sc-c2cm2c-9"})(["display:flex;"]);function BasicColorPicker(t0){const $=(0,dist.c)(66),{color,handleColorChange,allowsOpacity,allowsGradient,allowsSavedColors,showCustomPicker,handleClose,showDialog,setShowDialog,changedStyle,hasEyedropper,allowsSavedColorDeletion,shouldCloseOnSelection}=t0,{savedColors,storyColors}=(0,useStory.A)(basicColorPicker_temp),[isEditMode,setIsEditMode]=(0,src.J0)(!1),[toDelete,setToDelete]=(0,src.J0)(null),hasPresets=storyColors.length>0||savedColors.length>0;let t1,t2;$[0]!==handleColorChange?(t1=newColor=>handleColorChange({color:newColor}),t2=[handleColorChange],$[0]=handleColorChange,$[1]=t1,$[2]=t2):(t1=$[1],t2=$[2]);const t3=(0,src.hb)(t1,t2);let t4;$[3]!==t3?(t4={onChange:t3},$[3]=t3,$[4]=t4):t4=$[4];const{initEyedropper}=eyedropper(t4);let t5;$[5]!==setIsEditMode?(t5={onEmpty:()=>setIsEditMode(!1)},$[5]=setIsEditMode,$[6]=t5):t5=$[6];const{deleteLocalColor,deleteGlobalColor}=(0,useDeleteColor.A)(t5);let t6;$[7]!==handleClose||$[8]!==handleColorChange||$[9]!==shouldCloseOnSelection?(t6=pattern=>{handleColorChange(pattern),shouldCloseOnSelection&&handleClose()},$[7]=handleClose,$[8]=handleColorChange,$[9]=shouldCloseOnSelection,$[10]=t6):t6=$[10];const handleSelect=t6;let t7;$[11]!==deleteGlobalColor||$[12]!==deleteLocalColor||$[13]!==handleSelect||$[14]!==isEditMode||$[15]!==setShowDialog||$[16]!==setToDelete?(t7=(preset,t8)=>{const isLocal=void 0!==t8&&t8;if(!isEditMode)return void handleSelect(preset);if(isLocal)return void deleteLocalColor(preset);localStore.x.getItemByKey(localStore.$.DELETE_COLOR_PRESET_DIALOG_DISMISSED)?deleteGlobalColor(preset):(setShowDialog(!0),setToDelete(preset))},$[11]=deleteGlobalColor,$[12]=deleteLocalColor,$[13]=handleSelect,$[14]=isEditMode,$[15]=setShowDialog,$[16]=setToDelete,$[17]=t7):t7=$[17];const handleClick=t7,hasHeader=!shouldCloseOnSelection||allowsSavedColorDeletion;let t8,t9,t10,t11,t12,t13,t14,t15,t16,t17,t18,t19;return $[18]!==allowsSavedColors||$[19]!==handleClose||$[20]!==hasHeader||$[21]!==hasPresets||$[22]!==isEditMode||$[23]!==setIsEditMode?(t8=hasHeader&&react.createElement(header,{handleClose,isEditMode,setIsEditMode,hasPresets:hasPresets&&allowsSavedColors},react.createElement(DefaultText,null,(0,i18n.__)("Color","web-stories"))),$[18]=allowsSavedColors,$[19]=handleClose,$[20]=hasHeader,$[21]=hasPresets,$[22]=isEditMode,$[23]=setIsEditMode,$[24]=t8):t8=$[24],$[25]!==hasEyedropper||$[26]!==initEyedropper?(t9=hasEyedropper&&react.createElement(EyedropperWrapper,null,react.createElement(button_button.$,{variant:constants.Ak.Square,type:constants.VQ.Quaternary,size:constants.Mp.Small,"aria-label":(0,i18n.__)("Pick a color from canvas","web-stories"),onClick:initEyedropper(),onPointerEnter:initEyedropper(!1)},react.createElement(pipette.A,null)),react.createElement(StyledText,{size:theme_types.$.Small},(0,i18n.__)("Sample color","web-stories"))),$[25]=hasEyedropper,$[26]=initEyedropper,$[27]=t9):t9=$[27],$[28]!==allowsGradient||$[29]!==allowsOpacity||$[30]!==allowsSavedColors||$[31]!==changedStyle||$[32]!==color||$[33]!==handleClick||$[34]!==isEditMode||$[35]!==savedColors||$[36]!==storyColors?(t10=allowsSavedColors&&react.createElement(SavedColors,null,react.createElement(basicColorPicker_Label,{id:"colorpicker-story-colors-title"},(0,i18n.__)("Current story","web-stories")),react.createElement(basicColorList,{color,colors:storyColors,handleClick,isLocal:!0,allowsOpacity,allowsGradient,"aria-labelledby":"colorpicker-story-colors-title",isEditMode,"data-testid":"saved-story-colors",changedStyle}),react.createElement(basicColorPicker_Label,{id:"colorpicker-saved-colors-title"},(0,i18n.__)("Saved colors","web-stories")),react.createElement(basicColorList,{color,colors:savedColors,isGlobal:!0,handleClick,allowsOpacity,allowsGradient,"aria-labelledby":"colorpicker-saved-colors-title",isEditMode,changedStyle})),$[28]=allowsGradient,$[29]=allowsOpacity,$[30]=allowsSavedColors,$[31]=changedStyle,$[32]=color,$[33]=handleClick,$[34]=isEditMode,$[35]=savedColors,$[36]=storyColors,$[37]=t10):t10=$[37],$[38]===Symbol.for("react.memo_cache_sentinel")?(t11=react.createElement(basicColorPicker_Label,{id:"colorpicker-default-colors-title"},(0,i18n.__)("Default","web-stories")),$[38]=t11):t11=$[38],$[39]!==handleSelect||$[40]!==setIsEditMode?(t12=pattern_0=>{handleSelect(pattern_0),setIsEditMode(!1)},$[39]=handleSelect,$[40]=setIsEditMode,$[41]=t12):t12=$[41],$[42]!==allowsGradient||$[43]!==allowsOpacity||$[44]!==color||$[45]!==t12?(t13=react.createElement(DefaultColors,null,t11,react.createElement(basicColorList,{color,colors:BASIC_COLORS,handleClick:t12,allowsOpacity,allowsGradient,"aria-labelledby":"colorpicker-default-colors-title",isEditMode:!1})),$[42]=allowsGradient,$[43]=allowsOpacity,$[44]=color,$[45]=t12,$[46]=t13):t13=$[46],$[47]!==t10||$[48]!==t13||$[49]!==t9?(t14=react.createElement(Body,null,t9,t10,t13),$[47]=t10,$[48]=t13,$[49]=t9,$[50]=t14):t14=$[50],$[51]===Symbol.for("react.memo_cache_sentinel")?(t15=(0,i18n.__)("Custom","web-stories"),t16=react.createElement(StyledPlus,null),$[51]=t15,$[52]=t16):(t15=$[51],t16=$[52]),$[53]!==showCustomPicker?(t17=react.createElement(basicColorPicker_Footer,null,react.createElement(basicColorPicker_StyledButton,{onClick:showCustomPicker,type:constants.VQ.Secondary,size:constants.Mp.Small,variant:constants.Ak.Rectangle},t15,t16)),$[53]=showCustomPicker,$[54]=t17):t17=$[54],$[55]!==deleteGlobalColor||$[56]!==setShowDialog||$[57]!==setToDelete||$[58]!==showDialog||$[59]!==toDelete?(t18=showDialog&&react.createElement(confirmationDialog,{onClose:()=>setShowDialog(!1),onPrimary:()=>{deleteGlobalColor(toDelete),setToDelete(null),setShowDialog(!1)}}),$[55]=deleteGlobalColor,$[56]=setShowDialog,$[57]=setToDelete,$[58]=showDialog,$[59]=toDelete,$[60]=t18):t18=$[60],$[61]!==t14||$[62]!==t17||$[63]!==t18||$[64]!==t8?(t19=react.createElement(react.Fragment,null,t8,t14,t17,t18),$[61]=t14,$[62]=t17,$[63]=t18,$[64]=t8,$[65]=t19):t19=$[65],t19}function basicColorPicker_temp(state){return{savedColors:state.state.story?.globalStoryStyles?.colors||[],storyColors:state.state.story?.currentStoryStyles?.colors||[]}}BasicColorPicker.propTypes={handleColorChange:prop_types_default().func.isRequired,showCustomPicker:prop_types_default().func.isRequired,handleClose:prop_types_default().func,allowsOpacity:prop_types_default().bool,allowsGradient:prop_types_default().bool,allowsSavedColors:prop_types_default().bool,color:types.Gw,showDialog:prop_types_default().bool,setShowDialog:prop_types_default().func,changedStyle:prop_types_default().string,hasEyedropper:prop_types_default().bool,allowsSavedColorDeletion:prop_types_default().bool,shouldCloseOnSelection:prop_types_default().bool};const basicColorPicker=BasicColorPicker;BasicColorPicker.__docgenInfo={description:"",methods:[],displayName:"BasicColorPicker",props:{handleColorChange:{description:"",type:{name:"func"},required:!0},showCustomPicker:{description:"",type:{name:"func"},required:!0},handleClose:{description:"",type:{name:"func"},required:!1},allowsOpacity:{description:"",type:{name:"bool"},required:!1},allowsGradient:{description:"",type:{name:"bool"},required:!1},allowsSavedColors:{description:"",type:{name:"bool"},required:!1},color:{description:"",type:{name:"custom",raw:"PatternPropType"},required:!1},showDialog:{description:"",type:{name:"bool"},required:!1},setShowDialog:{description:"",type:{name:"func"},required:!1},changedStyle:{description:"",type:{name:"string"},required:!1},hasEyedropper:{description:"",type:{name:"bool"},required:!1},allowsSavedColorDeletion:{description:"",type:{name:"bool"},required:!1},shouldCloseOnSelection:{description:"",type:{name:"bool"},required:!1}}};const Container=styled_components_browser_esm.Ay.div.withConfig({displayName:"colorPicker__Container",componentId:"sc-1xsejx6-0"})(["border-radius:8px;background:",";user-select:none;display:flex;flex-direction:column;gap:12px;align-items:stretch;",";overflow:hidden;&.picker-appear{opacity:0.01;margin-top:-10px;&.picker-appear-active{opacity:1;margin-top:0;transition:300ms ease-out;transition-property:opacity,margin-top;}}"],(({theme})=>theme.colors.bg.secondary),(({maxHeight})=>maxHeight?`\n          height: ${maxHeight}px;\n          width: ${208+theme_constants.i.SCROLLBAR_WIDTH}px;\n        `:"\n          width: 208px;\n        "));function ColorPicker(t0){const $=(0,dist.c)(69),{onChange,isEyedropperActive:t1,color:t2,allowsGradient:t3,allowsOpacity:t4,allowsSavedColors:t5,hasEyedropper:t6,maxHeight:t7,onClose:t8,changedStyle:t9,onDimensionChange:t10,allowsSavedColorDeletion:t11,shouldCloseOnSelection:t12}=t0,isEyedropperActive=void 0!==t1&&t1,color=void 0===t2?null:t2,allowsGradient=void 0!==t3&&t3,allowsOpacity=void 0===t4||t4,allowsSavedColors=void 0!==t5&&t5,hasEyedropper=void 0===t6||t6,maxHeight=void 0===t7?null:t7,onClose=void 0===t8?noop.l:t8,changedStyle=void 0===t9?"background":t9,onDimensionChange=void 0===t10?noop.l:t10,allowsSavedColorDeletion=void 0===t11||t11,shouldCloseOnSelection=void 0!==t12&&t12,[showDialog,setShowDialog]=(0,src.J0)(!1);let t13;$[0]!==color?(t13=(0,hasGradient.A)(color),$[0]=color,$[1]=t13):t13=$[1];const[isCustomPicker,setCustomPicker]=(0,src.J0)(t13);let t14,t15;$[2]!==onDimensionChange||$[3]!==setCustomPicker?(t14=()=>{setCustomPicker(!0),onDimensionChange()},$[2]=onDimensionChange,$[3]=setCustomPicker,$[4]=t14):t14=$[4],$[5]!==onDimensionChange?(t15=[onDimensionChange],$[5]=onDimensionChange,$[6]=t15):t15=$[6];const showCustomPicker=(0,src.hb)(t14,t15);let t16,t17;$[7]!==onDimensionChange||$[8]!==setCustomPicker?(t16=()=>{setCustomPicker(!1),onDimensionChange()},$[7]=onDimensionChange,$[8]=setCustomPicker,$[9]=t16):t16=$[9],$[10]!==onDimensionChange?(t17=[onDimensionChange],$[10]=onDimensionChange,$[11]=t17):t17=$[11];const hideCustomPicker=(0,src.hb)(t16,t17),{actions:t18}=(0,transform_src.Gy)(),{pushTransform}=t18,{selectedElementIds:t19}=(0,useStory.A)(colorPicker_temp);let t20;$[12]!==t19?(t20=void 0===t19?[]:t19,$[12]=t19,$[13]=t20):t20=$[13];const selectedElementIds_0=t20;let t21;$[14]===Symbol.for("react.memo_cache_sentinel")?(t21={leading:!0},$[14]=t21):t21=$[14];const onDebouncedChange=(0,src.YQ)(onChange,100,t21),isMountedRef=(0,src.li)(!0);let t22,t23,t24,t25;$[15]!==isMountedRef?(t22=()=>()=>{isMountedRef.current=!1},$[15]=isMountedRef,$[16]=t22):t22=$[16],$[17]===Symbol.for("react.memo_cache_sentinel")?(t23=[],$[17]=t23):t23=$[17],(0,src.vJ)(t22,t23),$[18]!==changedStyle||$[19]!==isMountedRef||$[20]!==onChange||$[21]!==onDebouncedChange||$[22]!==pushTransform||$[23]!==selectedElementIds_0?(t24=newColor=>{isMountedRef.current?onDebouncedChange(newColor):onChange(newColor),selectedElementIds_0.forEach((id=>{pushTransform(id,{color:newColor,style:changedStyle,staticTransformation:!0})}))},$[18]=changedStyle,$[19]=isMountedRef,$[20]=onChange,$[21]=onDebouncedChange,$[22]=pushTransform,$[23]=selectedElementIds_0,$[24]=t24):t24=$[24],$[25]!==changedStyle||$[26]!==onChange||$[27]!==onDebouncedChange||$[28]!==pushTransform||$[29]!==selectedElementIds_0?(t25=[onChange,onDebouncedChange,selectedElementIds_0,changedStyle,pushTransform],$[25]=changedStyle,$[26]=onChange,$[27]=onDebouncedChange,$[28]=pushTransform,$[29]=selectedElementIds_0,$[30]=t25):t25=$[30];const handleColorChange=(0,src.hb)(t24,t25);let t26;$[31]!==isEyedropperActive||$[32]!==onClose||$[33]!==showDialog?(t26=()=>{isEyedropperActive||showDialog||onClose()},$[31]=isEyedropperActive,$[32]=onClose,$[33]=showDialog,$[34]=t26):t26=$[34];const maybeClose=t26,containerRef=(0,src.li)();let t27;$[35]!==isEyedropperActive||$[36]!==showDialog?(t27=[isEyedropperActive,showDialog],$[35]=isEyedropperActive,$[36]=showDialog,$[37]=t27):t27=$[37],(0,src.g$)(containerRef,maybeClose,t27);const previousFocus=(0,src.li)(document.activeElement);let t28,t29;$[38]!==onClose||$[39]!==previousFocus.current?(t28=evt=>{previousFocus.current&&previousFocus.current.focus(),onClose(evt)},$[38]=onClose,$[39]=previousFocus.current,$[40]=t28):t28=$[40],$[41]!==onClose?(t29=[onClose],$[41]=onClose,$[42]=t29):t29=$[42];const handleCloseAndRefocus=(0,src.hb)(t28,t29);let t30;(0,keyboard._h)(containerRef,"esc",handleCloseAndRefocus),$[43]!==containerRef?(t30={ref:containerRef},$[43]=containerRef,$[44]=t30):t30=$[44],(0,useFocusTrapping.A)(t30);const ActualColorPicker=isCustomPicker?customColorPicker:basicColorPicker;let t31,t32,t33,t34;return $[45]===Symbol.for("react.memo_cache_sentinel")?(t31=(0,i18n.__)("Color and gradient picker","web-stories"),$[45]=t31):t31=$[45],$[46]!==ActualColorPicker||$[47]!==allowsGradient||$[48]!==allowsOpacity||$[49]!==allowsSavedColorDeletion||$[50]!==allowsSavedColors||$[51]!==changedStyle||$[52]!==color||$[53]!==handleCloseAndRefocus||$[54]!==handleColorChange||$[55]!==hasEyedropper||$[56]!==hideCustomPicker||$[57]!==setShowDialog||$[58]!==shouldCloseOnSelection||$[59]!==showCustomPicker||$[60]!==showDialog?(t32=react.createElement(ActualColorPicker,{color,allowsGradient,allowsOpacity,handleColorChange,showCustomPicker,hideCustomPicker,handleClose:handleCloseAndRefocus,hasEyedropper,allowsSavedColors,showDialog,setShowDialog,changedStyle,allowsSavedColorDeletion,shouldCloseOnSelection}),$[46]=ActualColorPicker,$[47]=allowsGradient,$[48]=allowsOpacity,$[49]=allowsSavedColorDeletion,$[50]=allowsSavedColors,$[51]=changedStyle,$[52]=color,$[53]=handleCloseAndRefocus,$[54]=handleColorChange,$[55]=hasEyedropper,$[56]=hideCustomPicker,$[57]=setShowDialog,$[58]=shouldCloseOnSelection,$[59]=showCustomPicker,$[60]=showDialog,$[61]=t32):t32=$[61],$[62]!==containerRef||$[63]!==maxHeight||$[64]!==t32?(t33=react.createElement(Container,{role:"dialog","aria-label":t31,ref:containerRef,maxHeight},t32),$[62]=containerRef,$[63]=maxHeight,$[64]=t32,$[65]=t33):t33=$[65],$[66]!==containerRef||$[67]!==t33?(t34=react.createElement(CSSTransition.A,{nodeRef:containerRef,in:!0,appear:!0,classNames:"picker",timeout:300},t33),$[66]=containerRef,$[67]=t33,$[68]=t34):t34=$[68],t34}function colorPicker_temp(t0){const{state:t1}=t0,{selectedElementIds}=t1;return{selectedElementIds}}ColorPicker.propTypes={onChange:prop_types_default().func.isRequired,onClose:prop_types_default().func,allowsGradient:prop_types_default().bool,allowsOpacity:prop_types_default().bool,allowsSavedColors:prop_types_default().bool,isEyedropperActive:prop_types_default().bool,maxHeight:prop_types_default().number,color:types.Gw,changedStyle:prop_types_default().string,onDimensionChange:prop_types_default().func,hasEyedropper:prop_types_default().bool,allowsSavedColorDeletion:prop_types_default().bool,shouldCloseOnSelection:prop_types_default().bool};const colorPicker=ColorPicker;ColorPicker.__docgenInfo={description:"",methods:[],displayName:"ColorPicker",props:{isEyedropperActive:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},color:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"PatternPropType"},required:!1},allowsGradient:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},allowsOpacity:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},allowsSavedColors:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},hasEyedropper:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},maxHeight:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},onClose:{defaultValue:{value:"function noop() {\n  return undefined;\n}",computed:!1},description:"",type:{name:"func"},required:!1},changedStyle:{defaultValue:{value:"'background'",computed:!1},description:"",type:{name:"string"},required:!1},onDimensionChange:{defaultValue:{value:"function noop() {\n  return undefined;\n}",computed:!1},description:"",type:{name:"func"},required:!1},allowsSavedColorDeletion:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},shouldCloseOnSelection:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onChange:{description:"",type:{name:"func"},required:!0}}};var useSidebar=__webpack_require__("./packages/story-editor/src/components/sidebar/useSidebar.js");function colorInput_extends(){return colorInput_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},colorInput_extends.apply(null,arguments)}const colorInput_Preview=styled_components_browser_esm.Ay.div.withConfig({displayName:"colorInput__Preview",componentId:"sc-1h4cp44-0"})(["height:36px;color:",";cursor:pointer;position:relative;width:100%;padding:0;"],(({theme})=>theme.colors.fg.primary)),Input=(0,styled_components_browser_esm.Ay)(hex.A).withConfig({displayName:"colorInput__Input",componentId:"sc-1h4cp44-1"})(["min-width:100px;div{background-color:transparent;}input{padding-left:26px;}"]),Tooltip=(0,styled_components_browser_esm.Ay)(components_tooltip.A).withConfig({displayName:"colorInput__Tooltip",componentId:"sc-1h4cp44-2"})(["width:100%;height:100%;"]),minimalInputContainerStyleOverride=(0,styled_components_browser_esm.AH)(["",";padding-right:6px;"],styles.t),ColorButton=(0,styled_components_browser_esm.Ay)(colorInput_Preview).attrs({as:"button",type:"button"}).withConfig({displayName:"colorInput__ColorButton",componentId:"sc-1h4cp44-3"})(["display:flex;overflow:hidden;border:1px solid ",";border-radius:4px;outline:none;background:transparent;&:focus{box-shadow:0 0 0 2px ",",0 0 0 4px ",";border-color:",";}"],(({theme})=>theme.colors.border.defaultNormal),(({theme})=>theme.colors.bg.primary),(({theme})=>theme.colors.border.focus),(({theme})=>theme.colors.border.defaultHover)),ColorPreview=styled_components_browser_esm.Ay.div.withConfig({displayName:"colorInput__ColorPreview",componentId:"sc-1h4cp44-4"})(["position:absolute;top:6px;left:6px;padding:0;width:24px;height:24px;background:transparent;border-radius:50px;cursor:pointer;"]),TextualPreview=styled_components_browser_esm.Ay.div.withConfig({displayName:"colorInput__TextualPreview",componentId:"sc-1h4cp44-5"})(["padding:6px 12px 6px 38px;text-align:left;flex-grow:1;height:32px;"]),MixedLabel=(0,styled_components_browser_esm.Ay)(TextualPreview).withConfig({displayName:"colorInput__MixedLabel",componentId:"sc-1h4cp44-6"})(["align-self:center;padding:6px 6px 6px 38px;"]),colorInput_StyledSwatch=(0,styled_components_browser_esm.Ay)(swatch.A).withConfig({displayName:"colorInput__StyledSwatch",componentId:"sc-1h4cp44-7"})(["",";"],styles.Y),DisclosureContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"colorInput__DisclosureContainer",componentId:"sc-1h4cp44-8"})(["width:",";padding-right:8px;display:flex;justify-content:",";align-items:center;align-self:center;"],(({isSmall})=>isSmall?"28px":"58px"),(({isSmall})=>isSmall?"center":"flex-end")),loadReactColor=()=>__webpack_require__.e(3774).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@hello-pangea/color-picker/dist/color-picker.esm.js")),ColorInput=(0,src.Rf)((function ColorInput(t0,ref){const $=(0,dist.c)(70);let changedStyle,onChange,pickerProps,props,spacing,t1,t2,t3,t4,t5,t6,tooltipPlacement;$[0]!==t0?(({onChange,value:t1,label:t2,changedStyle,pickerPlacement:t3,isInDesignMenu:t4,hasInputs:t5,pickerProps,spacing,tooltipPlacement,colorFocusTrap:t6,...props}=t0),$[0]=t0,$[1]=changedStyle,$[2]=onChange,$[3]=pickerProps,$[4]=props,$[5]=spacing,$[6]=t1,$[7]=t2,$[8]=t3,$[9]=t4,$[10]=t5,$[11]=t6,$[12]=tooltipPlacement):(changedStyle=$[1],onChange=$[2],pickerProps=$[3],props=$[4],spacing=$[5],t1=$[6],t2=$[7],t3=$[8],t4=$[9],t5=$[10],t6=$[11],tooltipPlacement=$[12]);let value=void 0===t1?null:t1;const label=void 0===t2?null:t2,pickerPlacement=void 0===t3?popup_constants.W.RightStart:t3,isInDesignMenu=void 0!==t4&&t4,hasInputs=void 0===t5||t5,colorFocusTrap=void 0!==t6&&t6,focusTrapInputRef=(0,src.li)(),colorFocusTrapButtonRef=(0,src.li)(),isMixed=value===src_constants.jW;value=isMixed?"":value;const previewPattern=value?(0,getOpaquePattern.A)(value):{color:{r:0,g:0,b:0,a:0}},previewText=(0,getPreviewText.A)(value),[pickerOpen,setPickerOpen]=(0,src.J0)(!1),previewRef=(0,src.li)(null),{isEyedropperActive:isEyedropperActive_0}=(0,app.yu)(colorInput_temp),[dynamicPlacement,setDynamicPlacement]=(0,src.J0)(pickerPlacement),{refs:t7}=(0,useSidebar.A)(),{sidebar}=t7,{styleConstants:t8}=(0,app.UK)();let t9;$[13]!==t8?(t9=void 0===t8?{}:t8,$[13]=t8,$[14]=t9):t9=$[14];const{topOffset}=t9;let t10,t11;$[15]!==pickerPlacement||$[16]!==setDynamicPlacement||$[17]!==topOffset?(t10=popupRef=>{if(pickerPlacement?.startsWith("top")){const{top}=popupRef.current?.getBoundingClientRect()||{};top<=topOffset&&setDynamicPlacement(pickerPlacement.replace("top","bottom"))}},$[15]=pickerPlacement,$[16]=setDynamicPlacement,$[17]=topOffset,$[18]=t10):t10=$[18],$[19]!==pickerPlacement||$[20]!==topOffset?(t11=[pickerPlacement,topOffset],$[19]=pickerPlacement,$[20]=topOffset,$[21]=t11):t11=$[21];const positionPlacement=(0,src.hb)(t10,t11),colorType=value?.type,isEditable=(!colorType||"solid"===colorType)&&hasInputs;let t12,t13;$[22]!==setPickerOpen?(t12=()=>setPickerOpen(!0),$[22]=setPickerOpen,$[23]=t12):t12=$[23],$[24]!==label||$[25]!==props.tabIndex||$[26]!==t12?(t13={onClick:t12,"aria-label":label,onPointerEnter:colorInput_temp2,onFocus:_temp3,tabIndex:props.tabIndex},$[24]=label,$[25]=props.tabIndex,$[26]=t12,$[27]=t13):t13=$[27];const buttonProps=t13;let t14,t15;$[28]!==setPickerOpen?(t14=()=>setPickerOpen(!1),$[28]=setPickerOpen,$[29]=t14):t14=$[29],$[30]===Symbol.for("react.memo_cache_sentinel")?(t15=[],$[30]=t15):t15=$[30];const onClose=(0,src.hb)(t14,t15);let t16;$[31]===Symbol.for("react.memo_cache_sentinel")?(t16=(0,i18n.__)("Open color picker","web-stories"),$[31]=t16):t16=$[31];const tooltip=t16,containerStyle=isInDesignMenu?minimalInputContainerStyleOverride:styles.t;let t17;$[32]!==buttonProps||$[33]!==colorFocusTrap||$[34]!==colorFocusTrapButtonRef||$[35]!==containerStyle||$[36]!==focusTrapInputRef||$[37]!==hasInputs||$[38]!==isEditable||$[39]!==isMixed||$[40]!==label||$[41]!==onChange||$[42]!==pickerOpen||$[43]!==previewPattern||$[44]!==previewRef||$[45]!==previewText||$[46]!==props||$[47]!==ref||$[48]!==tooltipPlacement||$[49]!==value?(t17=isEditable?react.createElement(colorInput_Preview,{ref:previewRef},colorFocusTrap?react.createElement(focusTrapButton.A,{ref:colorFocusTrapButtonRef,inputRef:focusTrapInputRef,inputLabel:label},react.createElement(Input,colorInput_extends({ref:focusTrapInputRef,"aria-label":label,value:isMixed?null:value,onChange,isIndeterminate:isMixed,placeholder:isMixed?src_constants.Q6:"",containerStyleOverride:containerStyle,id:(0,v4.A)(),onKeyDown:e=>(0,focusTrapButton.t)(e,colorFocusTrapButtonRef),inputClassName:contextMenu_constants.D},props))):react.createElement(Input,colorInput_extends({ref,"aria-label":label,value:isMixed?null:value,onChange,isIndeterminate:isMixed,placeholder:isMixed?src_constants.Q6:"",containerStyleOverride:containerStyle,id:(0,v4.A)()},props)),react.createElement(ColorPreview,null,react.createElement(Tooltip,{title:tooltip,hasTail:!0,placement:tooltipPlacement},react.createElement(colorInput_StyledSwatch,colorInput_extends({isSmall:!0,pattern:previewPattern,id:(0,v4.A)()},buttonProps))))):react.createElement(Tooltip,{title:tooltip,hasTail:!0,placement:tooltipPlacement},react.createElement(ColorButton,colorInput_extends({ref:previewRef,id:(0,v4.A)()},buttonProps),react.createElement(ColorPreview,null,react.createElement(swatch.A,{isPreview:!0,role:"status",tabIndex:"-1",pattern:previewPattern,isIndeterminate:isMixed})),hasInputs?react.createElement(TextualPreview,null,react.createElement(typography_text.E.Paragraph,{size:theme_types.$.Small},previewText)):react.createElement(react.Fragment,null,isMixed&&react.createElement(MixedLabel,null,react.createElement(typography_text.E.Span,{size:theme_types.$.Small},src_constants.Q6)),react.createElement(DisclosureContainer,{isSmall:isMixed},react.createElement(disclosure.A,{$isOpen:pickerOpen}))))),$[32]=buttonProps,$[33]=colorFocusTrap,$[34]=colorFocusTrapButtonRef,$[35]=containerStyle,$[36]=focusTrapInputRef,$[37]=hasInputs,$[38]=isEditable,$[39]=isMixed,$[40]=label,$[41]=onChange,$[42]=pickerOpen,$[43]=previewPattern,$[44]=previewRef,$[45]=previewText,$[46]=props,$[47]=ref,$[48]=tooltipPlacement,$[49]=value,$[50]=t17):t17=$[50];const t18=isInDesignMenu?null:sidebar,t19=pickerOpen&&!isEyedropperActive_0;let t20,t21,t22;return $[51]!==changedStyle||$[52]!==isEyedropperActive_0||$[53]!==isMixed||$[54]!==onChange||$[55]!==onClose||$[56]!==pickerProps||$[57]!==value?(t20=t21=>{const{propagateDimensionChange}=t21;return react.createElement(colorPicker,colorInput_extends({color:isMixed?null:value,isEyedropperActive:isEyedropperActive_0,onChange,onClose,changedStyle,onDimensionChange:propagateDimensionChange},pickerProps))},$[51]=changedStyle,$[52]=isEyedropperActive_0,$[53]=isMixed,$[54]=onChange,$[55]=onClose,$[56]=pickerProps,$[57]=value,$[58]=t20):t20=$[58],$[59]!==dynamicPlacement||$[60]!==positionPlacement||$[61]!==previewRef||$[62]!==spacing||$[63]!==t18||$[64]!==t19||$[65]!==t20?(t21=react.createElement(popup.A,{anchor:previewRef,dock:t18,isOpen:t19,placement:dynamicPlacement,spacing,refCallback:positionPlacement,renderContents:t20}),$[59]=dynamicPlacement,$[60]=positionPlacement,$[61]=previewRef,$[62]=spacing,$[63]=t18,$[64]=t19,$[65]=t20,$[66]=t21):t21=$[66],$[67]!==t17||$[68]!==t21?(t22=react.createElement(react.Fragment,null,t17,t21),$[67]=t17,$[68]=t21,$[69]=t22):t22=$[69],t22})),colorInput=ColorInput;function colorInput_temp(t0){const{state:t1}=t0,{isEyedropperActive}=t1;return{isEyedropperActive}}function colorInput_temp2(){return loadReactColor()}function _temp3(){return loadReactColor()}ColorInput.__docgenInfo={description:"",methods:[],displayName:"ColorInput",props:{value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"union",value:[{name:"custom",raw:"PatternPropType"},{name:"string"}]},required:!1},label:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},pickerPlacement:{defaultValue:{value:"Placement.RightStart",computed:!0},description:"",type:{name:"string"},required:!1},isInDesignMenu:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},hasInputs:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},colorFocusTrap:{defaultValue:{value:"false",computed:!1},required:!1},pickerProps:{description:"",type:{name:"object"},required:!1},onChange:{description:"",type:{name:"func"},required:!0},changedStyle:{description:"",type:{name:"string"},required:!1},spacing:{description:"",type:{name:"object"},required:!1},tooltipPlacement:{description:"",type:{name:"string"},required:!1}}};var numericInput=__webpack_require__("./packages/design-system/src/components/input/numericInput.tsx"),color_drop=__webpack_require__("./packages/design-system/src/icons/color_drop.svg");const color_getPreviewOpacity=function getPreviewOpacity(pattern){if(!pattern||pattern===src_constants.jW)return null;if(!("solid"===pattern.type||!pattern.type)){const{alpha=1}=pattern;return Math.round(100*alpha)}const{color:{a=1}}=pattern;return Math.round(100*a)};function opacityInput_extends(){return opacityInput_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},opacityInput_extends.apply(null,arguments)}const opacityInput_Input=(0,styled_components_browser_esm.Ay)(numericInput.A).withConfig({displayName:"opacityInput__Input",componentId:"sc-xy6710-0"})(["min-width:100px;div{background-color:transparent;}"]),opacityInput_minimalInputContainerStyleOverride=(0,styled_components_browser_esm.AH)(["",";width:76px;padding-right:6px;"],styles.t),OpacityInput=(0,src.Rf)((function OpacityInput(t0,ref){const $=(0,dist.c)(30);let isInDesignMenu,onChange,props,value;$[0]!==t0?(({value,onChange,isInDesignMenu,...props}=t0),$[0]=t0,$[1]=isInDesignMenu,$[2]=onChange,$[3]=props,$[4]=value):(isInDesignMenu=$[1],onChange=$[2],props=$[3],value=$[4]);const[inputValue,setInputValue]=(0,src.J0)("");let t1,t2;$[5]!==onChange||$[6]!==setInputValue?(t1=(evt,val)=>{setInputValue(val),isNaN(val)||onChange(val/100)},$[5]=onChange,$[6]=setInputValue,$[7]=t1):t1=$[7],$[8]!==onChange?(t2=[onChange],$[8]=onChange,$[9]=t2):t2=$[9];const handleChange=(0,src.hb)(t1,t2);let t3,t4;$[10]!==setInputValue||$[11]!==value?(t3=()=>setInputValue(color_getPreviewOpacity(value)),$[10]=setInputValue,$[11]=value,$[12]=t3):t3=$[12],$[13]!==value?(t4=[value],$[13]=value,$[14]=t4):t4=$[14];const updateFromValue=(0,src.hb)(t3,t4);let t5,t6;$[15]!==updateFromValue?(t5=()=>updateFromValue(),$[15]=updateFromValue,$[16]=t5):t5=$[16],$[17]!==updateFromValue||$[18]!==value?(t6=[updateFromValue,value],$[17]=updateFromValue,$[18]=value,$[19]=t6):t6=$[19],(0,src.vJ)(t5,t6);const containerStyle=isInDesignMenu?opacityInput_minimalInputContainerStyleOverride:styles.t;let t7,t8,t9,t10,t11;return $[20]===Symbol.for("react.memo_cache_sentinel")?(t7=(0,i18n.__)("Opacity","web-stories"),$[20]=t7):t7=$[20],$[21]===Symbol.for("react.memo_cache_sentinel")?(t8=(0,i18n._x)("%","Percentage","web-stories"),t9=react.createElement(color_drop.A,null),$[21]=t8,$[22]=t9):(t8=$[21],t9=$[22]),$[23]===Symbol.for("react.memo_cache_sentinel")?(t10=(0,v4.A)(),$[23]=t10):t10=$[23],$[24]!==containerStyle||$[25]!==handleChange||$[26]!==inputValue||$[27]!==props||$[28]!==ref?(t11=react.createElement(opacityInput_Input,opacityInput_extends({ref,"aria-label":t7,onChange:handleChange,value:inputValue,unit:t8,suffix:t9,min:0,max:100,allowEmpty:!1,isFloat:!1,containerStyleOverride:containerStyle,id:t10},props)),$[24]=containerStyle,$[25]=handleChange,$[26]=inputValue,$[27]=props,$[28]=ref,$[29]=t11):t11=$[29],t11}));OpacityInput.propTypes={value:prop_types_default().oneOfType([types.Gw,prop_types_default().string]),onChange:prop_types_default().func.isRequired,isInDesignMenu:prop_types_default().bool};const opacityInput=OpacityInput;OpacityInput.__docgenInfo={description:"",methods:[],displayName:"OpacityInput",props:{value:{description:"",type:{name:"union",value:[{name:"custom",raw:"PatternPropType"},{name:"string"}]},required:!1},onChange:{description:"",type:{name:"func"},required:!0},isInDesignMenu:{description:"",type:{name:"bool"},required:!1}}};const OpacityWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"activeOpacity__OpacityWrapper",componentId:"sc-9gk8t7-0"})(["width:",";"],(({isInDesignMenu})=>isInDesignMenu?"calc(39% - 10px)":"calc(47% - 10px)")),ActiveOpacity=({handleOpacityChange,isInDesignMenu,opacityFocusTrap,tabIndex,value})=>{const opacityFocusTrapButtonRef=(0,src.li)(),opacityFocusTrapRef=(0,src.li)();return opacityFocusTrap?react.createElement(focusTrapButton.A,{ref:opacityFocusTrapButtonRef,inputRef:opacityFocusTrapRef,inputLabel:(0,i18n.__)("Opacity","web-stories"),styleOverride:(0,styled_components_browser_esm.AH)(["width:",";"],isInDesignMenu?"calc(35%)":"calc(45%)")},react.createElement(OpacityWrapper,{isInDesignMenu},react.createElement(opacityInput,{ref:opacityFocusTrapRef,tabIndex,inputClassName:contextMenu_constants.D,value,onChange:handleOpacityChange,isInDesignMenu,onKeyDown:e=>(0,focusTrapButton.t)(e,opacityFocusTrapButtonRef)}))):react.createElement(OpacityWrapper,{isInDesignMenu},react.createElement(opacityInput,{tabIndex,value,onChange:handleOpacityChange,isInDesignMenu}))},activeOpacity=ActiveOpacity;ActiveOpacity.__docgenInfo={description:"",methods:[],displayName:"ActiveOpacity",props:{handleOpacityChange:{description:"",type:{name:"func"},required:!1},isInDesignMenu:{description:"",type:{name:"bool"},required:!1},opacityFocusTrap:{description:"",type:{name:"bool"},required:!1},tabIndex:{description:"",type:{name:"number"},required:!1},value:{description:"",type:{name:"union",value:[{name:"custom",raw:"PatternPropType"},{name:"string"}]},required:!1}}};const SPACING={FLOATING_MENU:{x:0,y:12},DEFAULT_SIDEBAR:{x:12,y:0}},containerCss=(0,styled_components_browser_esm.AH)(["display:flex;align-items:center;"]),color_Container=styled_components_browser_esm.Ay.section.withConfig({displayName:"color__Container",componentId:"sc-c7i660-0"})([""," gap:","px;width:",";"],containerCss,(({isInDesignMenu})=>isInDesignMenu?6:8),(({width})=>width?`${width}px`:"inherit"));color_Container.propTypes={isInDesignMenu:prop_types_default().bool,width:prop_types_default().number};const ColorInputsWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"color__ColorInputsWrapper",componentId:"sc-c7i660-1"})([""," gap:","px;"],containerCss,(({isInDesignMenu})=>isInDesignMenu?0:6)),Space=styled_components_browser_esm.Ay.div.withConfig({displayName:"color__Space",componentId:"sc-c7i660-2"})(["width:8px;height:1px;background-color:",";"],(({theme})=>theme.colors.divider.primary)),InputWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"color__InputWrapper",componentId:"sc-c7i660-3"})(["",""],(({hasInputs})=>hasInputs&&"width: calc(53% - 10px);")),EyeDropperButton=(0,styled_components_browser_esm.Ay)(button_button.$).attrs({variant:constants.Ak.Square,type:constants.VQ.Tertiary,size:constants.Mp.Small}).withConfig({displayName:"color__EyeDropperButton",componentId:"sc-c7i660-4"})(["",";"],styles.Y),DEFAULT_CONTAINER_LABEL_BASE=(0,i18n.__)("Color input","web-stories"),Color=(0,src.Rf)((function Color(t0,ref){const $=(0,dist.c)(64),{onChange,allowsGradient:t1,allowsOpacity:t2,allowsSavedColors:t3,value:t4,label:t5,containerLabelBase:t6,changedStyle:t7,hasEyedropper:t8,pickerHasEyedropper:t9,maxHeight:t10,shouldCloseOnSelection:t11,allowsSavedColorDeletion:t12,pickerPlacement:t13,isInDesignMenu:t14,hasInputs:t15,width,tabIndex,opacityFocusTrap,colorFocusTrap}=t0,allowsGradient=void 0!==t1&&t1,allowsOpacity=void 0===t2||t2,allowsSavedColors=void 0!==t3&&t3,value=void 0===t4?null:t4,label=void 0===t5?null:t5,containerLabelBase=void 0===t6?DEFAULT_CONTAINER_LABEL_BASE:t6,changedStyle=void 0===t7?null:t7,hasEyedropper=void 0!==t8&&t8,pickerHasEyedropper=void 0===t9||t9,maxHeight=void 0===t10?null:t10,shouldCloseOnSelection=void 0!==t11&&t11,allowsSavedColorDeletion=void 0===t12||t12,pickerPlacement=void 0===t13?popup_constants.W.RightStart:t13,isInDesignMenu=void 0!==t14&&t14,hasInputs=void 0===t15||t15;let t16,t17;$[0]!==onChange||$[1]!==value?(t16=newOpacity=>onChange(color_applyOpacityChange(value,newOpacity)),t17=[value,onChange],$[0]=onChange,$[1]=value,$[2]=t16,$[3]=t17):(t16=$[2],t17=$[3]);const handleOpacityChange=(0,src.hb)(t16,t17);let t18;$[4]!==containerLabelBase||$[5]!==label?(t18=(0,sprintf.A)((0,i18n.__)("%1$s: %2$s","web-stories"),containerLabelBase,label),$[4]=containerLabelBase,$[5]=label,$[6]=t18):t18=$[6];const containerLabel=t18;let t19;$[7]!==hasInputs||$[8]!==value?(t19=value!==src_constants.jW&&Boolean((0,getPreviewText.A)(value))&&hasInputs,$[7]=hasInputs,$[8]=value,$[9]=t19):t19=$[9];const displayOpacity=t19;let t20,t21;$[10]!==onChange?(t20=color=>onChange({color}),t21=[onChange],$[10]=onChange,$[11]=t20,$[12]=t21):(t20=$[11],t21=$[12]);const t22=(0,src.hb)(t20,t21);let t23;$[13]!==t22?(t23={onChange:t22},$[13]=t22,$[14]=t23):t23=$[14];const{initEyedropper}=eyedropper(t23);let t24;$[15]===Symbol.for("react.memo_cache_sentinel")?(t24=(0,i18n.__)("Pick a color from canvas","web-stories"),$[15]=t24):t24=$[15];const tooltip=t24,tooltipPlacement=isInDesignMenu||hasEyedropper?popup_constants.W.Bottom:popup_constants.W.BottomStart,t25=!(width&&value===src_constants.jW)&&width?width:null;let t26;$[16]!==hasEyedropper||$[17]!==initEyedropper||$[18]!==isInDesignMenu||$[19]!==tabIndex?(t26=hasEyedropper&&react.createElement(components_tooltip.A,{title:tooltip,hasTail:!0,placement:isInDesignMenu?popup_constants.W.Bottom:popup_constants.W.BottomStart},react.createElement(EyeDropperButton,{id:(0,v4.A)(),tabIndex,"aria-label":tooltip,onClick:initEyedropper(),onPointerEnter:initEyedropper(!1)},react.createElement(pipette.A,null))),$[16]=hasEyedropper,$[17]=initEyedropper,$[18]=isInDesignMenu,$[19]=tabIndex,$[20]=t26):t26=$[20];const t27=isInDesignMenu?SPACING.FLOATING_MENU:SPACING.DEFAULT_SIDEBAR;let t28,t29,t30,t31,t32,t33;return $[21]!==allowsGradient||$[22]!==allowsOpacity||$[23]!==allowsSavedColorDeletion||$[24]!==allowsSavedColors||$[25]!==maxHeight||$[26]!==pickerHasEyedropper||$[27]!==shouldCloseOnSelection?(t28={allowsGradient,allowsOpacity,allowsSavedColors,hasEyedropper:pickerHasEyedropper,allowsSavedColorDeletion,maxHeight,shouldCloseOnSelection},$[21]=allowsGradient,$[22]=allowsOpacity,$[23]=allowsSavedColorDeletion,$[24]=allowsSavedColors,$[25]=maxHeight,$[26]=pickerHasEyedropper,$[27]=shouldCloseOnSelection,$[28]=t28):t28=$[28],$[29]!==changedStyle||$[30]!==colorFocusTrap||$[31]!==hasInputs||$[32]!==isInDesignMenu||$[33]!==label||$[34]!==onChange||$[35]!==pickerPlacement||$[36]!==ref||$[37]!==t27||$[38]!==t28||$[39]!==tabIndex||$[40]!==tooltipPlacement||$[41]!==value?(t29=react.createElement(colorInput,{ref,tabIndex,onChange,value,label,changedStyle,pickerPlacement,hasInputs,isInDesignMenu,spacing:t27,tooltipPlacement,colorFocusTrap,pickerProps:t28}),$[29]=changedStyle,$[30]=colorFocusTrap,$[31]=hasInputs,$[32]=isInDesignMenu,$[33]=label,$[34]=onChange,$[35]=pickerPlacement,$[36]=ref,$[37]=t27,$[38]=t28,$[39]=tabIndex,$[40]=tooltipPlacement,$[41]=value,$[42]=t29):t29=$[42],$[43]!==hasInputs||$[44]!==t29?(t30=react.createElement(InputWrapper,{hasInputs},t29),$[43]=hasInputs,$[44]=t29,$[45]=t30):t30=$[45],$[46]!==allowsOpacity||$[47]!==displayOpacity||$[48]!==handleOpacityChange||$[49]!==isInDesignMenu||$[50]!==opacityFocusTrap||$[51]!==tabIndex||$[52]!==value?(t31=allowsOpacity&&displayOpacity&&react.createElement(react.Fragment,null,react.createElement(Space,null),react.createElement(activeOpacity,{handleOpacityChange,isInDesignMenu,opacityFocusTrap,tabIndex,value})),$[46]=allowsOpacity,$[47]=displayOpacity,$[48]=handleOpacityChange,$[49]=isInDesignMenu,$[50]=opacityFocusTrap,$[51]=tabIndex,$[52]=value,$[53]=t31):t31=$[53],$[54]!==isInDesignMenu||$[55]!==t30||$[56]!==t31?(t32=react.createElement(ColorInputsWrapper,{isInDesignMenu},t30,t31),$[54]=isInDesignMenu,$[55]=t30,$[56]=t31,$[57]=t32):t32=$[57],$[58]!==containerLabel||$[59]!==isInDesignMenu||$[60]!==t25||$[61]!==t26||$[62]!==t32?(t33=react.createElement(color_Container,{"aria-label":containerLabel,isInDesignMenu,width:t25},t26,t32),$[58]=containerLabel,$[59]=isInDesignMenu,$[60]=t25,$[61]=t26,$[62]=t32,$[63]=t33):t33=$[63],t33}));Color.propTypes={value:prop_types_default().oneOfType([types.Gw,prop_types_default().string]),allowsGradient:prop_types_default().bool,allowsOpacity:prop_types_default().bool,allowsSavedColors:prop_types_default().bool,containerLabelBase:prop_types_default().string,onChange:prop_types_default().func.isRequired,label:prop_types_default().string.isRequired,changedStyle:prop_types_default().string,hasEyedropper:prop_types_default().bool,pickerHasEyedropper:prop_types_default().bool,maxHeight:prop_types_default().number,shouldCloseOnSelection:prop_types_default().bool,allowsSavedColorDeletion:prop_types_default().bool,pickerPlacement:prop_types_default().string,isInDesignMenu:prop_types_default().bool,hasInputs:prop_types_default().bool};const color=Color;Color.__docgenInfo={description:"",methods:[],displayName:"Color",props:{allowsGradient:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},allowsOpacity:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},allowsSavedColors:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"union",value:[{name:"custom",raw:"PatternPropType"},{name:"string"}]},required:!1},label:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},containerLabelBase:{defaultValue:{value:"__('Color input', 'web-stories')",computed:!0},description:"",type:{name:"string"},required:!1},changedStyle:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},hasEyedropper:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},pickerHasEyedropper:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},maxHeight:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},shouldCloseOnSelection:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},allowsSavedColorDeletion:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},pickerPlacement:{defaultValue:{value:"Placement.RightStart",computed:!0},description:"",type:{name:"string"},required:!1},isInDesignMenu:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},hasInputs:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},onChange:{description:"",type:{name:"func"},required:!0}}}},"./packages/story-editor/src/components/form/row.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").Ay.div.withConfig({displayName:"row__Row",componentId:"sc-1olml0k-0"})(["display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin-bottom:16px;"," ",""],(({spaceBetween=!0})=>spaceBetween&&"justify-content: space-between;"),(({expand=!0})=>expand&&"flex: 1;"))},"./packages/story-editor/src/components/sidebar/context.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./packages/react/src/index.ts").q6)({state:{},actions:{},tabs:{},refs:{}})},"./packages/story-editor/src/components/sidebar/useSidebar.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/story-editor/src/components/sidebar/context.js");const __WEBPACK_DEFAULT_EXPORT__=function useSidebar(selector){return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.i7)(_context__WEBPACK_IMPORTED_MODULE_1__.A,selector??_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.D_)}},"./packages/story-editor/src/components/tooltip/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Tooltip});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),constants=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),tooltip=__webpack_require__("./packages/design-system/src/components/tooltip/tooltip.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function Tooltip(t0){const $=(0,dist.c)(8);let props,t1,t2;$[0]!==t0?(({hasTail:t1,placement:t2,...props}=t0),$[0]=t0,$[1]=props,$[2]=t1,$[3]=t2):(props=$[1],t1=$[2],t2=$[3]);const hasTail=void 0===t1||t1,placement=void 0===t2?constants.W.Bottom:t2;let t3;return $[4]!==hasTail||$[5]!==placement||$[6]!==props?(t3=react.createElement(tooltip.A,_extends({placement,hasTail},props)),$[4]=hasTail,$[5]=placement,$[6]=props,$[7]=t3):t3=$[7],t3}Tooltip.propTypes={children:prop_types_default().node.isRequired,hasTail:prop_types_default().bool,placement:prop_types_default().oneOf(Object.values(constants.W)),onBlur:prop_types_default().func,onFocus:prop_types_default().func,shortcut:prop_types_default().string,title:prop_types_default().oneOfType([prop_types_default().node,prop_types_default().string]),forceAnchorRef:prop_types_default().object,styleOverride:prop_types_default().object,className:prop_types_default().string,isDelayed:prop_types_default().bool,popupZIndexOverride:prop_types_default().number},Tooltip.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{hasTail:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},placement:{defaultValue:{value:"Placement.Bottom",computed:!0},description:"",type:{name:"enum",computed:!0,value:"Object.values(Placement)"},required:!1},children:{description:"",type:{name:"node"},required:!0},onBlur:{description:"",type:{name:"func"},required:!1},onFocus:{description:"",type:{name:"func"},required:!1},shortcut:{description:"",type:{name:"string"},required:!1},title:{description:"",type:{name:"union",value:[{name:"node"},{name:"string"}]},required:!1},forceAnchorRef:{description:"",type:{name:"object"},required:!1},styleOverride:{description:"",type:{name:"object"},required:!1},className:{description:"",type:{name:"string"},required:!1},isDelayed:{description:"",type:{name:"bool"},required:!1},popupZIndexOverride:{description:"",type:{name:"number"},required:!1}}}},"./packages/story-editor/src/utils/presetUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ow:()=>getShapePresets,ac:()=>areAllType,bo:()=>getTextInlineStyles,mi:()=>getTextPresets,uV:()=>generatePresetStyle,vU:()=>getPagePreset});var _googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/patterns/src/isPatternEqual.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/patterns/src/convertToCSS.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/patterns/src/generatePatternStyles.ts"),_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/patterns/src/createSolid.ts"),_googleforcreators_rich_text__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/rich-text/src/index.ts"),_googleforcreators_element_library__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/element-library/src/index.ts"),_googleforcreators_elements__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/elements/src/index.ts"),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/constants/index.ts"),_objectPick__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/story-editor/src/utils/objectPick.ts");const TEXT_PRESET_STYLES=["backgroundColor","backgroundTextMode","font","fontSize","lineHeight","padding","textAlign"];function findMatchingColor(color,storyStyles,isText){const colorsToMatch=storyStyles.colors,patternType=isText?"color":"background";return colorsToMatch.find((value=>{try{return(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_4__.A)(value,color,patternType)}catch{return!1}}))}function generatePresetStyle(preset,prepareForCSS){const{color,backgroundColor,font,fontWeight,backgroundTextMode,textAlign,letterSpacing,lineHeight,isItalic,isUnderline,padding,fontSize}=preset;let style={textAlign,letterSpacing:letterSpacing/100+"em",fontWeight,textDecoration:isUnderline?"underline":null,fontStyle:isItalic?"italic":null,fontFamily:(0,_googleforcreators_element_library__WEBPACK_IMPORTED_MODULE_1__.x7)(font),...(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_6__.A)(color,"color")};return prepareForCSS||(style={...style,fontSize,lineHeight,padding,backgroundTextMode}),backgroundTextMode===_googleforcreators_elements__WEBPACK_IMPORTED_MODULE_2__.xu.NONE||prepareForCSS&&backgroundTextMode===_googleforcreators_elements__WEBPACK_IMPORTED_MODULE_2__.xu.HIGHLIGHT||(style={...style,...(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_6__.A)(backgroundColor,"background")}),style}function getExtractedInlineValue(value){return value!==_constants__WEBPACK_IMPORTED_MODULE_3__.jW?value:null}function getTextInlineStyles(content){const{color,fontWeight,isItalic,isUnderline,letterSpacing}=(0,_googleforcreators_rich_text__WEBPACK_IMPORTED_MODULE_0__.cM)(content);return{color:color!==_constants__WEBPACK_IMPORTED_MODULE_3__.jW?color:(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_7__.A)(0,0,0),fontWeight:getExtractedInlineValue(fontWeight),isItalic:getExtractedInlineValue(isItalic),isUnderline:getExtractedInlineValue(isUnderline),letterSpacing:getExtractedInlineValue(letterSpacing)}}function getTextPresets(elements,storyStyles,type,isBackgroundColor){const colors=_constants__WEBPACK_IMPORTED_MODULE_3__.aS.STYLE===type?[]:elements.map((({content,backgroundColor})=>isBackgroundColor?backgroundColor:(0,_googleforcreators_rich_text__WEBPACK_IMPORTED_MODULE_0__.cM)(content).color)).filter((color=>color!==_constants__WEBPACK_IMPORTED_MODULE_3__.jW)).filter((color=>color&&!findMatchingColor(color,storyStyles,!0))),textStyles=_constants__WEBPACK_IMPORTED_MODULE_3__.aS.COLOR===type?[]:elements.map((text=>({...(0,_objectPick__WEBPACK_IMPORTED_MODULE_8__.A)(text,TEXT_PRESET_STYLES),...getTextInlineStyles(text.content)}))).filter((preset=>!function findMatchingStylePreset(preset,storyStyles){const stylesToMatch=storyStyles.textStyles,toAdd=(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_5__.A)(generatePresetStyle(preset));return stylesToMatch.find((value=>toAdd===(0,_googleforcreators_patterns__WEBPACK_IMPORTED_MODULE_5__.A)(generatePresetStyle(value))))}(preset,storyStyles)));return{colors,textStyles}}function getShapePresets(elements,storyStyles){return{colors:elements.map((({backgroundColor})=>backgroundColor||null)).filter((color=>color&&!findMatchingColor(color,storyStyles,!1)))}}function getPagePreset(page,storyStyles){return{colors:[page.backgroundColor].filter((color=>color&&!findMatchingColor(color,storyStyles,!1)))}}function areAllType(elType,selectedElements){return selectedElements.length>0&&selectedElements.every((({type})=>elType===type))}},"./packages/story-editor/src/utils/useAddPreset.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_app__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/story-editor/src/app/index.js"),_getUniquePresets__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/utils/getUniquePresets.ts"),_presetUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/utils/presetUtils.js");function _temp(t0){const{state:t1,actions:t2}=t0,{currentPage,selectedElements,story:t3}=t1,{globalStoryStyles,currentStoryStyles}=t3,{updateStory}=t2;return{currentPage,currentStoryStyles,selectedElements,globalStoryStyles,updateStory}}const __WEBPACK_DEFAULT_EXPORT__=function useAddPreset(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(37),{presetType,isBackgroundColor}=t0,{currentPage:currentPage_0,currentStoryStyles:t1,selectedElements:selectedElements_0,globalStoryStyles:t2,updateStory:updateStory_0}=(0,_app__WEBPACK_IMPORTED_MODULE_2__.P3)(_temp);let t3;$[0]!==t1?(t3=void 0===t1?{colors:[]}:t1,$[0]=t1,$[1]=t3):t3=$[1];const currentStoryStyles_0=t3;let t4;$[2]!==t2?(t4=void 0===t2?{colors:[],textStyles:[]}:t2,$[2]=t2,$[3]=t4):t4=$[3];const globalStoryStyles_0=t4,{colors,textStyles}=globalStoryStyles_0,{colors:localColors}=currentStoryStyles_0;let t5;$[4]!==selectedElements_0?(t5=(0,_presetUtils__WEBPACK_IMPORTED_MODULE_3__.ac)("text",selectedElements_0),$[4]=selectedElements_0,$[5]=t5):t5=$[5];const isText=t5,isBackground=selectedElements_0?.[0]?.id===currentPage_0?.elements?.[0]?.id;let t6,t7;$[6]!==currentPage_0||$[7]!==isBackground||$[8]!==isBackgroundColor||$[9]!==isText||$[10]!==presetType||$[11]!==selectedElements_0?(t6=(addedPresets,currentPresets)=>isText?{...addedPresets,...(0,_presetUtils__WEBPACK_IMPORTED_MODULE_3__.mi)(selectedElements_0,currentPresets,presetType,isBackgroundColor)}:isBackground?{...addedPresets,...(0,_presetUtils__WEBPACK_IMPORTED_MODULE_3__.vU)(currentPage_0,currentPresets)}:{...addedPresets,...(0,_presetUtils__WEBPACK_IMPORTED_MODULE_3__.Ow)(selectedElements_0,currentPresets)},t7=[currentPage_0,isBackground,isText,presetType,selectedElements_0,isBackgroundColor],$[6]=currentPage_0,$[7]=isBackground,$[8]=isBackgroundColor,$[9]=isText,$[10]=presetType,$[11]=selectedElements_0,$[12]=t6,$[13]=t7):(t6=$[12],t7=$[13]);const getPresets=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)(t6,t7);let t8,t9;$[14]!==localColors||$[15]!==updateStory_0?(t8=addedPresets_0=>{updateStory_0({properties:{currentStoryStyles:{colors:(0,_getUniquePresets__WEBPACK_IMPORTED_MODULE_4__.A)([...localColors,...addedPresets_0.colors])}}})},t9=[localColors,updateStory_0],$[14]=localColors,$[15]=updateStory_0,$[16]=t8,$[17]=t9):(t8=$[16],t9=$[17]);const updateLocalPresets=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)(t8,t9);let t10,t11;$[18]!==colors||$[19]!==textStyles||$[20]!==updateStory_0?(t10=addedPresets_1=>{updateStory_0({properties:{globalStoryStyles:{textStyles:(0,_getUniquePresets__WEBPACK_IMPORTED_MODULE_4__.A)([...textStyles,...addedPresets_1.textStyles]),colors:(0,_getUniquePresets__WEBPACK_IMPORTED_MODULE_4__.A)([...colors,...addedPresets_1.colors])}}})},t11=[colors,textStyles,updateStory_0],$[18]=colors,$[19]=textStyles,$[20]=updateStory_0,$[21]=t10,$[22]=t11):(t10=$[21],t11=$[22]);const updateGlobalPresets=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)(t10,t11);let t12,t13;$[23]!==currentStoryStyles_0||$[24]!==getPresets||$[25]!==globalStoryStyles_0||$[26]!==updateGlobalPresets||$[27]!==updateLocalPresets?(t12=(addedPresets_2,t14)=>{const isLocal=void 0!==t14&&t14,currentPresets_0=isLocal?currentStoryStyles_0:globalStoryStyles_0;if(addedPresets_2=getPresets(addedPresets_2,currentPresets_0),addedPresets_2.colors?.length>0||addedPresets_2.textStyles?.length>0)return isLocal?updateLocalPresets(addedPresets_2,currentPresets_0):updateGlobalPresets(addedPresets_2,currentPresets_0),addedPresets_2},t13=[getPresets,currentStoryStyles_0,globalStoryStyles_0,updateGlobalPresets,updateLocalPresets],$[23]=currentStoryStyles_0,$[24]=getPresets,$[25]=globalStoryStyles_0,$[26]=updateGlobalPresets,$[27]=updateLocalPresets,$[28]=t12,$[29]=t13):(t12=$[28],t13=$[29]);const handleAddPreset=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.hb)(t12,t13);let t14;$[30]!==handleAddPreset?(t14=evt=>(evt.stopPropagation(),handleAddPreset({textStyles:[],colors:[]})),$[30]=handleAddPreset,$[31]=t14):t14=$[31];const addGlobalPreset=t14;let t15;$[32]!==handleAddPreset?(t15=evt_0=>(evt_0.stopPropagation(),handleAddPreset({colors:[]},!0)),$[32]=handleAddPreset,$[33]=t15):t15=$[33];const addLocalPreset=t15;let t16;return $[34]!==addGlobalPreset||$[35]!==addLocalPreset?(t16={addGlobalPreset,addLocalPreset},$[34]=addGlobalPreset,$[35]=addLocalPreset,$[36]=t16):t16=$[36],t16}},"./packages/story-editor/src/utils/useFocusTrapping.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx");const __WEBPACK_DEFAULT_EXPORT__=function useFocusTrapping(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(4),{ref}=t0;let t1;$[0]!==ref?(t1=e=>{const focusableElements=(node=ref.current)?[...node.querySelectorAll('a[href], button, textarea, input[type]:not([type="hidden"]), select')].filter((el=>!el.hasAttribute("disabled")&&"-1"!==el.getAttribute("tabindex"))):[];var node;const firstEl=focusableElements[0],lastEl=focusableElements[focusableElements.length-1];e.shiftKey||document.activeElement!==lastEl?e.shiftKey&&document.activeElement===firstEl&&(lastEl.focus(),e.preventDefault()):(firstEl.focus(),e.preventDefault())},$[0]=ref,$[1]=t1):t1=$[1];const handleTab=t1;let t2,t3;$[2]===Symbol.for("react.memo_cache_sentinel")?(t2={key:["tab"],allowDefault:!0,editable:!0,shift:!0},$[2]=t2):t2=$[2],(0,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__._h)(ref,t2,handleTab),$[3]===Symbol.for("react.memo_cache_sentinel")?(t3={key:["tab"],allowDefault:!0,editable:!0},$[3]=t3):t3=$[3],(0,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_1__._h)(ref,t3,handleTab)}},"./packages/story-editor/src/utils/useRovingTabIndex/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>useRovingTabIndex});var src=__webpack_require__("./packages/react/src/index.ts"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),config=__webpack_require__("./packages/story-editor/src/app/config/index.ts");const SELECTOR='[tabIndex="-1"]:not(:disabled)';function getAncestorByDepth(e,depth){let parentElement,counter=depth;for(;counter>0;)parentElement=parentElement?parentElement?.parentElement:e.parentElement,counter--;return parentElement}function getFocusableChild(element,depth,childToGet="firstChild"){return getAncestorByDepth(element,depth).parentNode[childToGet].querySelector(SELECTOR)}function getCenter(e){const rect=e.getBoundingClientRect();return{x:rect.left+rect.width/2,y:rect.top+rect.height/2}}function getNextElement(e,direction,depth){return depth>0?function getNextEnabledElement(e,direction,depth){const parentElement=getAncestorByDepth(e,depth);if(parentElement){const nextElementParent=parentElement[direction];return nextElementParent?nextElementParent.querySelector(SELECTOR):null}return null}(e,direction,depth):function getNextEnabledSibling(e,siblingDirection){let sibling=e[siblingDirection];for(;sibling&&sibling.disabled;)sibling=sibling[siblingDirection];return sibling}(e,direction)}function useRovingTabIndex({ref},keyEventDeps=[],depth=0){const{isRTL}=(0,config.UK)(),onKeyDown=(0,src.hb)((({key,target})=>{const element=target,elementDirection=function getFocusableElementDirection(isRTL,key){return(isRTL?"ArrowRight"===key||"ArrowUp"===key||"PageUp"===key:"ArrowLeft"===key||"ArrowUp"===key||"PageUp"===key)?"previousSibling":"nextSibling"}(isRTL,key),switchFocusToElement=e=>{if(e){const elToScroll=depth>0?getAncestorByDepth(e,depth):e;element.tabIndex=-1,e.tabIndex=0,e.focus(),elToScroll.scrollIntoView("previousSibling"===elementDirection)}};if("ArrowLeft"===key||"ArrowRight"===key){const nextElement=getNextElement(element,elementDirection,depth);nextElement&&switchFocusToElement(nextElement)}else if("ArrowUp"===key||"ArrowDown"===key){const closestValidElement=function getClosestValidElement(element,direction,depth){const elementCenter=getCenter(element);let closestValidElement=null,closestValidElementCenter=null,closestValidElementDistanceSq=null;for(let nextElement=getNextElement(element,direction,depth);nextElement;nextElement=getNextElement(nextElement,direction,depth)){const nextElementCenter=getCenter(nextElement);if(Math.floor(nextElementCenter.y)===Math.floor(elementCenter.y))continue;if(closestValidElement&&Math.floor(nextElementCenter.y)>Math.floor(closestValidElementCenter.y))break;const distanceSq=(p1=elementCenter,p2=nextElementCenter,Math.pow(p1.x-p2.x,2)+Math.pow(p1.y-p2.y,2));(!closestValidElementDistanceSq||distanceSq<closestValidElementDistanceSq)&&(closestValidElementDistanceSq=distanceSq,closestValidElementCenter=nextElementCenter,closestValidElement=nextElement)}var p1,p2;return closestValidElement}(element,elementDirection,depth);if(closestValidElement)element.tabIndex=-1,closestValidElement.tabIndex=0,closestValidElement.focus();else if("ArrowUp"===key){switchFocusToElement(depth>0?getFocusableChild(element,depth):element.parentNode.firstChild)}else{switchFocusToElement(depth>0?getFocusableChild(element,depth,"lastChild"):element.parentNode.lastChild)}}else if("Home"===key){switchFocusToElement(depth>0?getFocusableChild(element,depth):element.parentNode.firstChild)}else if("End"===key){switchFocusToElement(depth>0?getFocusableChild(element,depth,"lastChild"):element.parentNode.lastChild)}else if("PageDown"===key||"PageUp"===key){let sibling=element;for(let i=0;getNextElement(sibling,elementDirection,depth)&&i<5;sibling=getNextElement(sibling,elementDirection,depth))i++;switchFocusToElement(sibling)}}),[isRTL,depth]);(0,keyboard._h)(ref,{key:["up","down","left","right","pageup","pagedown","home","end"]},onKeyDown,[ref,onKeyDown,...keyEventDeps])}}}]);