"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[3032],{"./packages/design-system/src/components/notificationBubble/notificationBubble.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/fullSize.ts"),_theme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/helpers/centerContent.ts"),_theme__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/notificationBubble/types.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function getBubbleWidth(numDigits){return 9*(numDigits-1)}const Bubble=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"notificationBubble__Bubble",componentId:"sc-1o8hryh-0"})([""," position:relative;height:","px;width:","px;",";"],(({theme,variant})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["color:",";background-color:",";border-radius:",";"],theme.colors.fg.primary,theme.colors.bg[variant],theme.borders.radius.round)),24,(({digitLen})=>24+getBubbleWidth(digitLen)),(({digitLen,$isSmall})=>$isSmall&&(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["height:","px;width:","px;"],20,20+getBubbleWidth(digitLen)))),Inner=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.span.withConfig({displayName:"notificationBubble__Inner",componentId:"sc-1o8hryh-1"})([""," "," ",";font-weight:",";color:",";user-select:none;"],_theme__WEBPACK_IMPORTED_MODULE_3__.O,_theme__WEBPACK_IMPORTED_MODULE_4__.F,(({$isSmall,theme})=>_theme__WEBPACK_IMPORTED_MODULE_5__.x((({paragraph},sizes)=>paragraph[$isSmall?sizes.XSmall:sizes.Small]))({theme})),(({theme})=>theme.typography.weight.bold),(({$invertColor,theme})=>$invertColor?theme.colors.inverted.fg.primary:theme.colors.fg.primary));function NotificationBubble(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(18);let invertTextColor,isSmall,notificationCount,props,t1;$[0]!==t0?(({notificationCount,isSmall,variant:t1,invertTextColor,...props}=t0),$[0]=t0,$[1]=invertTextColor,$[2]=isSmall,$[3]=notificationCount,$[4]=props,$[5]=t1):(invertTextColor=$[1],isSmall=$[2],notificationCount=$[3],props=$[4],t1=$[5]);const variant=void 0===t1?_types__WEBPACK_IMPORTED_MODULE_6__.I.Accent:t1;let t2,t3,t4;return $[6]!==notificationCount?(t2=notificationCount?.toString().length||1,$[6]=notificationCount,$[7]=t2):t2=$[7],$[8]!==invertTextColor||$[9]!==isSmall||$[10]!==notificationCount?(t3=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Inner,{$invertColor:invertTextColor,$isSmall:isSmall},notificationCount),$[8]=invertTextColor,$[9]=isSmall,$[10]=notificationCount,$[11]=t3):t3=$[11],$[12]!==isSmall||$[13]!==props||$[14]!==t2||$[15]!==t3||$[16]!==variant?(t4=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Bubble,_extends({variant,$isSmall:isSmall,digitLen:t2},props),t3),$[12]=isSmall,$[13]=props,$[14]=t2,$[15]=t3,$[16]=variant,$[17]=t4):t4=$[17],t4}const __WEBPACK_DEFAULT_EXPORT__=NotificationBubble;NotificationBubble.__docgenInfo={description:"",methods:[],displayName:"NotificationBubble",props:{notificationCount:{required:!0,tsType:{name:"number"},description:""},isSmall:{required:!1,tsType:{name:"boolean"},description:""},variant:{required:!1,tsType:{name:"BubbleVariant"},description:"",defaultValue:{value:"BubbleVariant.Accent",computed:!0}},invertTextColor:{required:!1,tsType:{name:"boolean"},description:""}},composes:["ComponentPropsWithoutRef"]}},"./packages/design-system/src/components/notificationBubble/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>BubbleVariant});let BubbleVariant=function(BubbleVariant){return BubbleVariant.Primary="primary",BubbleVariant.Secondary="secondary",BubbleVariant.Tertiary="tertiary",BubbleVariant.Quaternary="quaternary",BubbleVariant.Positive="positive",BubbleVariant.Negative="negative",BubbleVariant.Accent="accent",BubbleVariant}({})},"./packages/design-system/src/theme/helpers/centerContent.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>centerContent});const centerContent=(0,__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").AH)(["display:flex;align-items:center;justify-content:center;"])},"./packages/design-system/src/theme/helpers/fullSize.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>fullSizeRelative,O:()=>fullSizeAbsolute});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const fullSizeAbsolute=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.AH)(["position:absolute;top:0;right:0;bottom:0;left:0;"]),fullSizeRelative=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.AH)(["position:relative;top:0;left:0;height:100%;width:100%;"])},"./packages/wp-dashboard/src/components/editorSettings/components.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$D:()=>Error,$j:()=>MenuContainer,BO:()=>SettingForm,Cw:()=>UploadedContainer,IT:()=>VisuallyHiddenLabel,J2:()=>TestConnectionButton,Q2:()=>ConnectionHelperText,Qe:()=>MultilineForm,Rw:()=>TextInputHelperText,Sb:()=>CheckboxLabel,Zs:()=>CheckboxLabelText,gH:()=>InlineLink,gq:()=>GridItemButton,gu:()=>Logo,hi:()=>SettingsTextInput,kQ:()=>InlineForm,nq:()=>SettingHeading,o5:()=>CenterMutedText,rF:()=>LogoMenuButton,rW:()=>SettingSubheading,xE:()=>GridItemContainer,yY:()=>SaveButton});var styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/typography/headline/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/typography/link/index.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/design-system/src/theme/helpers/visuallyHidden.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/design-system/src/components/input/input.tsx"),_googleforcreators_dashboard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/dashboard/src/index.js");styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"editorSettings__Wrapper",componentId:"sc-1y9ilpk-0"})([""]),(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_dashboard__WEBPACK_IMPORTED_MODULE_0__.Zo).withConfig({displayName:"editorSettings__Main",componentId:"sc-1y9ilpk-1"})(["display:flex;flex-direction:column;padding-top:36px;margin-top:20px;margin-bottom:56px;max-width:945px;"]);const SettingForm=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.form.withConfig({displayName:"editorSettings__SettingForm",componentId:"sc-1y9ilpk-2"})(["display:grid;grid-template-columns:27% minmax(400px,1fr);column-gap:6.56%;padding-bottom:52px;@media ","{grid-template-columns:100%;row-gap:20px;}"],(({theme})=>theme.breakpoint.mobile)),SettingHeading=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__.$).attrs({as:"h3"}).withConfig({displayName:"editorSettings__SettingHeading",componentId:"sc-1y9ilpk-3"})(["",";margin:8px 0;"],(({theme})=>_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__.s({preset:{...theme.typography.presets.label[_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.$.Large]},theme}))),InlineLink=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.N).withConfig({displayName:"editorSettings__InlineLink",componentId:"sc-1y9ilpk-4"})(["display:inline-block;"]),HelperText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.E.Paragraph).withConfig({displayName:"editorSettings__HelperText",componentId:"sc-1y9ilpk-5"})(["color:",";"],(({theme})=>theme.colors.fg.tertiary)),ConnectionHelperText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.E.Paragraph).withConfig({displayName:"editorSettings__ConnectionHelperText",componentId:"sc-1y9ilpk-6"})(["padding-top:12px;color:",";"],(({hasError,theme})=>hasError?theme.colors.fg.negative:theme.colors.fg.tertiary)),CenterMutedText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.E.Paragraph).withConfig({displayName:"editorSettings__CenterMutedText",componentId:"sc-1y9ilpk-7"})(["color:",";text-align:center;"],(({theme})=>theme.colors.fg.tertiary)),SettingSubheading=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(HelperText).withConfig({displayName:"editorSettings__SettingSubheading",componentId:"sc-1y9ilpk-8"})(["padding:8px 0;"]),TextInputHelperText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(HelperText).withConfig({displayName:"editorSettings__TextInputHelperText",componentId:"sc-1y9ilpk-9"})(["padding-top:12px;"]),CheckboxLabel=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.E.Label).withConfig({displayName:"editorSettings__CheckboxLabel",componentId:"sc-1y9ilpk-10"})(["display:flex;justify-content:flex-start;margin-top:8px;cursor:pointer;"]),CheckboxLabelText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(HelperText).withConfig({displayName:"editorSettings__CheckboxLabelText",componentId:"sc-1y9ilpk-11"})(["margin-left:8px;"]),Error=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(CenterMutedText).withConfig({displayName:"editorSettings__Error",componentId:"sc-1y9ilpk-12"})(["padding-bottom:10px;color:",";"],(({theme})=>theme.colors.fg.negative)),UploadedContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"editorSettings__UploadedContainer",componentId:"sc-1y9ilpk-13"})(["display:grid;grid-template-columns:repeat(auto-fill,102px);grid-auto-rows:102px;grid-column-gap:12px;grid-row-gap:20px;padding-bottom:20px;margin-bottom:4px;border:1px solid transparent;",";"],_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.Q),GridItemContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"editorSettings__GridItemContainer",componentId:"sc-1y9ilpk-14"})(["position:relative;",";&:hover,&:focus-within{button{opacity:1 !important;}}"],(({active,theme})=>active&&(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.AH)(["border:1px solid ",";border-radius:",";"],theme.colors.border.defaultActive,theme.borders.radius.small))),GridItemButton=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.button.withConfig({displayName:"editorSettings__GridItemButton",componentId:"sc-1y9ilpk-15"})(["display:block;background-color:transparent;border:2px solid transparent;width:100%;height:100%;border-radius:4px;padding:0;",";"],_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.Q),Logo=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.img.withConfig({displayName:"editorSettings__Logo",componentId:"sc-1y9ilpk-16"})(["object-fit:cover;width:100%;height:100%;border-radius:4px;"]),MenuContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"editorSettings__MenuContainer",componentId:"sc-1y9ilpk-17"})(["position:absolute;top:0;width:100%;height:100%;"]),LogoMenuButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.$).attrs({size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.Mp.Small,type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.VQ.Secondary,variant:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.Ak.Circle}).withConfig({displayName:"editorSettings__LogoMenuButton",componentId:"sc-1y9ilpk-18"})(["opacity:",";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],(({isActive,menuOpen})=>menuOpen||isActive?1:0)),SaveButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.$).withConfig({displayName:"editorSettings__SaveButton",componentId:"sc-1y9ilpk-19"})(["height:36px;"]),TestConnectionButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.$).withConfig({displayName:"editorSettings__TestConnectionButton",componentId:"sc-1y9ilpk-20"})(["height:36px;margin-top:12px;"]),InlineForm=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div.withConfig({displayName:"editorSettings__InlineForm",componentId:"sc-1y9ilpk-21"})(["display:flex;align-items:flex-start;"]),VisuallyHiddenLabel=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.label.withConfig({displayName:"editorSettings__VisuallyHiddenLabel",componentId:"sc-1y9ilpk-22"})(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.Q),SettingsTextInput=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__.A).withConfig({displayName:"editorSettings__SettingsTextInput",componentId:"sc-1y9ilpk-23"})(["margin-right:8px;"]),MultilineForm=(styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.span.withConfig({displayName:"editorSettings__VisuallyHiddenDescription",componentId:"sc-1y9ilpk-24"})(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.Q),(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(SettingForm).withConfig({displayName:"editorSettings__MultilineForm",componentId:"sc-1y9ilpk-25"})(["margin-bottom:28px;","{margin-top:20px;}"],InlineForm))},"./packages/wp-dashboard/src/components/editorSettings/googleAnalytics/stories/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_default:()=>_default,default:()=>stories});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),src=__webpack_require__("./packages/react/src/index.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),translateWithMarkup=__webpack_require__("./packages/i18n/src/translateWithMarkup.tsx"),tracking_src=__webpack_require__("./packages/tracking/src/index.ts"),notificationBubble=__webpack_require__("./packages/design-system/src/components/notificationBubble/notificationBubble.tsx"),exclamation_outline=__webpack_require__("./packages/design-system/src/icons/exclamation_outline.svg"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),dropdown=__webpack_require__("./packages/design-system/src/components/dropDown/dropdown.tsx"),typography_link=__webpack_require__("./packages/design-system/src/components/typography/link/index.tsx"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const idFormatRegex=/^ua-\d+-\d+|g-\w+$/;var components=__webpack_require__("./packages/wp-dashboard/src/components/editorSettings/components.js"),settings=__webpack_require__("./packages/wp-dashboard/src/constants/settings.js");const StyledNotificationBubble=(0,styled_components_browser_esm.Ay)(notificationBubble.A).withConfig({displayName:"googleAnalytics__StyledNotificationBubble",componentId:"sc-svg62t-0"})(["display:inline-block;margin-left:10px;"]),TEXT={CONTEXT:(0,i18n.__)("The story editor will append a default, configurable AMP analytics configuration to your story. If you’re interested in going beyond what the default configuration, read this <a>article</a>.","web-stories"),CONTEXT_LINK:"https://blog.amp.dev/2019/08/28/analytics-for-your-amp-stories/",SECTION_HEADING:(0,i18n.__)("Google Analytics","web-stories"),PLACEHOLDER:(0,i18n.__)("Enter your Google Analytics Measurement ID","web-stories"),ARIA_LABEL:(0,i18n.__)("Enter your Google Analytics Measurement ID","web-stories"),INPUT_ERROR:(0,i18n.__)("Invalid ID format","web-stories"),SUBMIT_BUTTON:(0,i18n.__)("Save","web-stories"),SITE_KIT_NOT_INSTALLED:(0,i18n.__)("Install <a>Site Kit by Google</a> to easily enable Google Analytics for Web Stories.","web-stories"),SITE_KIT_INSTALLED:(0,i18n.__)("Use Site Kit by Google to easily<a>activate Google Analytics</a> for Web Stories.","web-stories"),SITE_KIT_IN_USE:(0,i18n.__)("<b>Note: </b>If Site Kit is active, it will be used to set up Google Analytics by default. However, you can customize the behavior in case you need more flexibility.","web-stories"),ANALYTICS_DROPDOWN_LABEL:(0,i18n.__)("Analytics Type","web-stories"),ANALYTICS_DROPDOWN_PLACEHOLDER:(0,i18n.__)("Select Analytics Type","web-stories")},ANALYTICS_DROPDOWN_OPTIONS=[{value:settings.Vr.SITE_KIT,label:(0,i18n.__)("Use Site Kit for analytics (default)","web-stories")},{value:settings.Vr.WEB_STORIES,label:(0,i18n.__)("Use only Web Stories for analytics","web-stories")},{value:settings.Vr.BOTH,label:(0,i18n.__)("Use both","web-stories")}],DropdownContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"googleAnalytics__DropdownContainer",componentId:"sc-svg62t-1"})(["padding-top:12px;"]),WarningContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"googleAnalytics__WarningContainer",componentId:"sc-svg62t-2"})(["display:flex;gap:8px;margin:14px auto;border:1px solid ",";border-radius:",";padding:8px;"],(({theme})=>theme.colors.border.defaultNormal),(({theme})=>theme.borders.radius.small)),WarningIcon=(0,styled_components_browser_esm.Ay)(exclamation_outline.A).withConfig({displayName:"googleAnalytics__WarningIcon",componentId:"sc-svg62t-3"})(["width:32px;height:100%;color:",";"],(({theme})=>theme.colors.status.warning)),Message=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).attrs({size:types.$.Small}).withConfig({displayName:"googleAnalytics__Message",componentId:"sc-svg62t-4"})(["max-width:calc(100% - 40px);"]);function GoogleAnalyticsSettings(t0){const $=(0,dist.c)(84),{googleAnalyticsId,handleUpdateAnalyticsId,usingLegacyAnalytics,handleMigrateLegacyAnalytics,siteKitStatus:t1,googleAnalyticsHandler,handleUpdateGoogleAnalyticsHandler}=t0;let t2;$[0]!==t1?(t2=void 0===t1?{}:t1,$[0]=t1,$[1]=t2):t2=$[1];const siteKitStatus=t2,[analyticsId,setAnalyticsId]=(0,src.J0)(googleAnalyticsId),[analyticsHandler,setAnalyticsHandler]=(0,src.J0)(googleAnalyticsHandler),[inputError,setInputError]=(0,src.J0)(""),canSave=analyticsId!==googleAnalyticsId&&!inputError,disableSaveButton=!canSave,{analyticsActive,installed,analyticsLink}=siteKitStatus;let t3,t4,t5,t6,t7,t8;$[2]!==googleAnalyticsId||$[3]!==setAnalyticsId?(t3=()=>{setAnalyticsId(googleAnalyticsId)},$[2]=googleAnalyticsId,$[3]=setAnalyticsId,$[4]=t3):t3=$[4],$[5]!==googleAnalyticsId?(t4=[googleAnalyticsId],$[5]=googleAnalyticsId,$[6]=t4):t4=$[6],(0,src.vJ)(t3,t4),$[7]!==googleAnalyticsHandler||$[8]!==setAnalyticsHandler?(t5=()=>{setAnalyticsHandler(googleAnalyticsHandler)},$[7]=googleAnalyticsHandler,$[8]=setAnalyticsHandler,$[9]=t5):t5=$[9],$[10]!==googleAnalyticsHandler?(t6=[googleAnalyticsHandler],$[10]=googleAnalyticsHandler,$[11]=t6):t6=$[11],(0,src.vJ)(t5,t6),$[12]!==setAnalyticsId||$[13]!==setInputError?(t7=event=>{const{value}=event.target;setAnalyticsId(value),0===value.length||function validateGoogleAnalyticsIdFormat(value=""){return Boolean(value.toLowerCase().match(idFormatRegex))}(value)?setInputError(""):setInputError(TEXT.INPUT_ERROR)},$[12]=setAnalyticsId,$[13]=setInputError,$[14]=t7):t7=$[14],$[15]===Symbol.for("react.memo_cache_sentinel")?(t8=[],$[15]=t8):t8=$[15];const onUpdateAnalyticsId=(0,src.hb)(t7,t8);let t9,t10;$[16]!==handleUpdateGoogleAnalyticsHandler||$[17]!==setAnalyticsHandler?(t9=value_0=>{setAnalyticsHandler(value_0),handleUpdateGoogleAnalyticsHandler(value_0)},$[16]=handleUpdateGoogleAnalyticsHandler,$[17]=setAnalyticsHandler,$[18]=t9):t9=$[18],$[19]!==handleUpdateGoogleAnalyticsHandler?(t10=[handleUpdateGoogleAnalyticsHandler],$[19]=handleUpdateGoogleAnalyticsHandler,$[20]=t10):t10=$[20];const onUpdateAnalyticsHandler=(0,src.hb)(t9,t10);let t11,t12;$[21]!==analyticsId||$[22]!==canSave||$[23]!==handleUpdateAnalyticsId?(t11=()=>{canSave&&handleUpdateAnalyticsId(analyticsId)},t12=[canSave,analyticsId,handleUpdateAnalyticsId],$[21]=analyticsId,$[22]=canSave,$[23]=handleUpdateAnalyticsId,$[24]=t11,$[25]=t12):(t11=$[24],t12=$[25]);const handleOnSave=(0,src.hb)(t11,t12);let t13,t14;$[26]!==handleOnSave?(t13=e=>{"Enter"===e.key&&(e.preventDefault(),handleOnSave())},t14=[handleOnSave],$[26]=handleOnSave,$[27]=t13,$[28]=t14):(t13=$[27],t14=$[28]);const handleOnKeyDown=(0,src.hb)(t13,t14);let t15,t16;$[29]!==handleMigrateLegacyAnalytics?(t15=evt=>{evt.preventDefault(),handleMigrateLegacyAnalytics(),(0,tracking_src.sx)("migrate_story_auto_analytics")},t16=[handleMigrateLegacyAnalytics],$[29]=handleMigrateLegacyAnalytics,$[30]=t15,$[31]=t16):(t15=$[30],t16=$[31]);const handleAnalyticsMigration=(0,src.hb)(t15,t16);let t17;$[32]===Symbol.for("react.memo_cache_sentinel")?(t17=[],$[32]=t17):t17=$[32];const onAutoAnalyticsClick=(0,src.hb)(_temp,t17);let t18;$[33]===Symbol.for("react.memo_cache_sentinel")?(t18=[],$[33]=t18):t18=$[33];const onSiteKitClick=(0,src.hb)(_temp2,t18);let t19;$[34]===Symbol.for("react.memo_cache_sentinel")?(t19=[],$[34]=t19):t19=$[34];const onContextClick=(0,src.hb)(_temp3,t19);let t20,t21;$[35]!==analyticsActive||$[36]!==analyticsLink||$[37]!==installed||$[38]!==onSiteKitClick?(t20=()=>analyticsActive?null:react.createElement(translateWithMarkup.A,{mapping:{a:react.createElement(components.gH,{href:analyticsLink,rel:"noreferrer",target:"_blank",size:types.$.Small,onClick:onSiteKitClick})}},installed?TEXT.SITE_KIT_INSTALLED:TEXT.SITE_KIT_NOT_INSTALLED),t21=[analyticsActive,installed,analyticsLink,onSiteKitClick],$[35]=analyticsActive,$[36]=analyticsLink,$[37]=installed,$[38]=onSiteKitClick,$[39]=t20,$[40]=t21):(t20=$[39],t21=$[40]);const siteKitDisplayText=(0,src.Kr)(t20,t21);let t22,t23,t24,t25,t26,t27;$[41]!==usingLegacyAnalytics?(t22=usingLegacyAnalytics&&react.createElement(StyledNotificationBubble,{notificationCount:1,isSmall:!0}),$[41]=usingLegacyAnalytics,$[42]=t22):t22=$[42],$[43]!==t22?(t23=react.createElement(components.nq,{htmlFor:"gaTrackingID",as:"h3"},TEXT.SECTION_HEADING,t22),$[43]=t22,$[44]=t23):t23=$[44],$[45]!==siteKitDisplayText?(t24=react.createElement(components.rW,{size:types.$.Small},siteKitDisplayText),$[45]=siteKitDisplayText,$[46]=t24):t24=$[46],$[47]!==handleAnalyticsMigration||$[48]!==onAutoAnalyticsClick||$[49]!==usingLegacyAnalytics?(t25=usingLegacyAnalytics&&react.createElement(react.Fragment,null,react.createElement(components.rW,{size:types.$.Small},react.createElement(translateWithMarkup.A,{mapping:{a:react.createElement(components.gH,{href:"https://wp.stories.google/docs/seo/",rel:"noreferrer",target:"_blank",size:types.$.Small,onClick:onAutoAnalyticsClick})}},(0,i18n.__)("An improved analytics configuration is now available. <a>Learn more</a>.","web-stories"))),react.createElement(components.rW,{size:types.$.Small},react.createElement(components.yY,{type:constants.VQ.Secondary,size:constants.Mp.Small,onClick:handleAnalyticsMigration},(0,i18n.__)("Migrate","web-stories")))),$[47]=handleAnalyticsMigration,$[48]=onAutoAnalyticsClick,$[49]=usingLegacyAnalytics,$[50]=t25):t25=$[50],$[51]!==t23||$[52]!==t24||$[53]!==t25?(t26=react.createElement("div",null,t23,t24,t25),$[51]=t23,$[52]=t24,$[53]=t25,$[54]=t26):t26=$[54],$[55]===Symbol.for("react.memo_cache_sentinel")?(t27=react.createElement(components.IT,{htmlFor:"gaTrackingId"},TEXT.ARIA_LABEL),$[55]=t27):t27=$[55];const t28=Boolean(inputError);let t29,t30,t31,t32,t33,t34,t35,t36;return $[56]!==analyticsId||$[57]!==handleOnKeyDown||$[58]!==inputError||$[59]!==onUpdateAnalyticsId||$[60]!==t28?(t29=react.createElement(components.hi,{"aria-label":TEXT.ARIA_LABEL,id:"gaTrackingId",value:analyticsId,onChange:onUpdateAnalyticsId,onKeyDown:handleOnKeyDown,placeholder:TEXT.PLACEHOLDER,hasError:t28,hint:inputError}),$[56]=analyticsId,$[57]=handleOnKeyDown,$[58]=inputError,$[59]=onUpdateAnalyticsId,$[60]=t28,$[61]=t29):t29=$[61],$[62]!==disableSaveButton||$[63]!==handleOnSave?(t30=react.createElement(components.yY,{type:constants.VQ.Secondary,size:constants.Mp.Small,disabled:disableSaveButton,onClick:handleOnSave},TEXT.SUBMIT_BUTTON),$[62]=disableSaveButton,$[63]=handleOnSave,$[64]=t30):t30=$[64],$[65]!==t29||$[66]!==t30?(t31=react.createElement(components.kQ,null,t27,t29,t30),$[65]=t29,$[66]=t30,$[67]=t31):t31=$[67],$[68]!==onContextClick?(t32=react.createElement(components.Rw,{size:types.$.Small},react.createElement(translateWithMarkup.A,{mapping:{a:react.createElement(components.gH,{href:TEXT.CONTEXT_LINK,rel:"noreferrer",target:"_blank",size:types.$.Small,onClick:onContextClick})}},TEXT.CONTEXT)),$[68]=onContextClick,$[69]=t32):t32=$[69],$[70]!==analyticsActive||$[71]!==analyticsHandler||$[72]!==onUpdateAnalyticsHandler?(t33=analyticsActive&&react.createElement(react.Fragment,null,react.createElement(components.Rw,{size:types.$.Small},react.createElement(translateWithMarkup.A,null,TEXT.SITE_KIT_IN_USE)),react.createElement(DropdownContainer,null,react.createElement(dropdown.A,{id:"analyticsType",ariaLabel:TEXT.ANALYTICS_DROPDOWN_LABEL,placeholder:TEXT.ANALYTICS_DROPDOWN_PLACEHOLDER,options:ANALYTICS_DROPDOWN_OPTIONS,onMenuItemClick:(_,newValue)=>{onUpdateAnalyticsHandler(newValue)},selectedValue:analyticsHandler}))),$[70]=analyticsActive,$[71]=analyticsHandler,$[72]=onUpdateAnalyticsHandler,$[73]=t33):t33=$[73],$[74]!==googleAnalyticsId?(t34=googleAnalyticsId.startsWith("UA-")?react.createElement(WarningContainer,null,react.createElement(WarningIcon,{"aria-hidden":!0}),react.createElement(Message,null,react.createElement(translateWithMarkup.A,{mapping:{a:react.createElement(typography_link.N,{href:(0,i18n.__)("https://support.google.com/analytics/answer/11583528?hl=en","web-stories"),rel:"noreferrer",target:"_blank",size:types.$.Small,onClick:_temp5}),a2:react.createElement(typography_link.N,{href:(0,i18n.__)("https://support.google.com/analytics/answer/10089681?hl=en","web-stories"),rel:"noreferrer",target:"_blank",size:types.$.Small,onClick:_temp6})}},(0,i18n.__)("Universal Analytics <a>stopped processing new visits</a> starting <b>July 1, 2023</b>. We recommend switching to <a2>Google Analytics 4</a2> (GA4).","web-stories")))):null,$[74]=googleAnalyticsId,$[75]=t34):t34=$[75],$[76]!==t31||$[77]!==t32||$[78]!==t33||$[79]!==t34?(t35=react.createElement("div",null,t31,t32,t33,t34),$[76]=t31,$[77]=t32,$[78]=t33,$[79]=t34,$[80]=t35):t35=$[80],$[81]!==t26||$[82]!==t35?(t36=react.createElement(components.BO,{onSubmit:_temp4},t26,t35),$[81]=t26,$[82]=t35,$[83]=t36):t36=$[83],t36}function _temp6(evt_4){return(0,tracking_src.MP)(evt_4,"click_ga4_docs")}function _temp5(evt_3){return(0,tracking_src.MP)(evt_3,"click_ua_deprecation_docs")}function _temp4(e_0){return e_0.preventDefault()}function _temp3(evt_2){return(0,tracking_src.MP)(evt_2,"click_analytics_docs")}function _temp2(evt_1){return(0,tracking_src.MP)(evt_1,"click_site_kit_link")}function _temp(evt_0){return(0,tracking_src.MP)(evt_0,"click_auto_analytics_link")}const googleAnalytics=GoogleAnalyticsSettings;function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}GoogleAnalyticsSettings.__docgenInfo={description:"",methods:[],displayName:"GoogleAnalyticsSettings",props:{siteKitStatus:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"shape",value:{installed:{name:"bool",required:!1},active:{name:"bool",required:!1},adsenseActive:{name:"bool",required:!1},analyticsActive:{name:"bool",required:!1},analyticsLink:{name:"string",required:!1}}},required:!1},googleAnalyticsId:{description:"",type:{name:"string"},required:!1},handleUpdateAnalyticsId:{description:"",type:{name:"func"},required:!1},usingLegacyAnalytics:{description:"",type:{name:"bool"},required:!1},handleMigrateLegacyAnalytics:{description:"",type:{name:"func"},required:!1},googleAnalyticsHandler:{description:"",type:{name:"string"},required:!1},handleUpdateGoogleAnalyticsHandler:{description:"",type:{name:"func"},required:!1}}};const stories={title:"Dashboard/Views/EditorSettings/GoogleAnalytics",component:googleAnalytics,args:{googleAnalyticsId:"UA-000000-98",installed:!1,active:!1,analyticsActive:!1,analyticsLink:""},argTypes:{onUpdateGoogleAnalyticsId:{action:"update google analytics id submitted"},handleUpdateAnalyticsId:{action:"handleUpdateAnalyticsId"}},parameters:{controls:{exclude:["siteKitStatus","usingLegacyAnalytics","handleMigrateLegacyAnalytics"]}}},_default={render:function Render(args){return react.createElement(googleAnalytics,_extends({siteKitStatus:{installed:args.installed,active:args.active,analyticsActive:args.analyticsActive,analyticsLink:args.analyticsLink}},args))}}},"./packages/wp-dashboard/src/constants/settings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M_:()=>AD_NETWORK_TYPE,Vr:()=>GOOGLE_ANALYTICS_HANDLER_TYPE,eq:()=>SHOPPING_PROVIDER_TYPE,qp:()=>ARCHIVE_TYPE});var _googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/i18n/src/i18n.ts");(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Settings","web-stories"),(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("https://wordpress.org/support/plugin/web-stories/","web-stories"),(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Support","web-stories");const AD_NETWORK_TYPE={NONE:"none",ADSENSE:"adsense",ADMANAGER:"admanager",MGID:"mgid"},ARCHIVE_TYPE={DEFAULT:"default",DISABLED:"disabled",CUSTOM:"custom"},SHOPPING_PROVIDER_TYPE={NONE:"none",WOOCOMMERCE:"woocommerce",SHOPIFY:"shopify"},GOOGLE_ANALYTICS_HANDLER_TYPE={SITE_KIT:"site-kit",WEB_STORIES:"web-stories",BOTH:"both"}}}]);