"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[8798],{"./packages/design-system/src/icons/cross.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const SvgCross=({title,titleId,...props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.854 9.146a.5.5 0 1 0-.708.708L15.293 16l-6.147 6.146a.5.5 0 0 0 .708.708L16 16.707l6.146 6.147a.5.5 0 0 0 .708-.708L16.707 16l6.147-6.146a.5.5 0 0 0-.708-.708L16 15.293z",clipRule:"evenodd"}))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgCross)},"./packages/design-system/src/components/button/button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>ButtonAsLink,z:()=>Button});__webpack_require__("./node_modules/react/index.js");var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_theme__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_theme__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_theme__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/theme/constants/index.ts"),_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const base=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["display:flex;align-items:center;justify-content:space-around;padding:0;margin:0;background:transparent;border:none;cursor:pointer;color:",";",";",";&:active{background-color:",";color:",";}&:disabled,&[aria-disabled='true']{pointer-events:none;background-color:",";color:",";}transition:background-color ",",color ",";"],(({theme})=>theme.colors.fg.primary),(({theme})=>_theme__WEBPACK_IMPORTED_MODULE_4__.L(theme.colors.border.focus)),(({theme,size})=>_theme__WEBPACK_IMPORTED_MODULE_5__._({preset:{...theme.typography.presets.label[size===_constants__WEBPACK_IMPORTED_MODULE_6__.qE.Small?_theme__WEBPACK_IMPORTED_MODULE_7__.TextSize.Small:_theme__WEBPACK_IMPORTED_MODULE_7__.TextSize.Medium]},theme})),(({theme})=>theme.colors.interactiveBg.active),(({theme})=>theme.colors.interactiveFg.active),(({theme})=>theme.colors.interactiveBg.disable),(({theme})=>theme.colors.fg.disable),_constants__WEBPACK_IMPORTED_MODULE_6__.ok,_constants__WEBPACK_IMPORTED_MODULE_6__.ok),anchorBase=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["&:hover,&:focus{color:",";}"],(({theme})=>theme.colors.interactiveFg.active)),buttonColors={[_constants__WEBPACK_IMPORTED_MODULE_6__.L$.Primary]:({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["background-color:",";color:",";&:active{background-color:",";color:",";}&:hover,&:focus{background-color:",";color:"," !important;}"],theme.colors.interactiveBg.brandNormal,theme.colors.interactiveFg.brandNormal,theme.colors.interactiveBg.active,theme.colors.interactiveFg.active,theme.colors.interactiveBg.brandHover,theme.colors.interactiveFg.brandHover),[_constants__WEBPACK_IMPORTED_MODULE_6__.L$.Secondary]:({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["background-color:",";&:hover,&:focus{background-color:",";}&:disabled{&:hover,&:focus{background-color:",";}}"],theme.colors.interactiveBg.secondaryNormal,theme.colors.interactiveBg.secondaryHover,theme.colors.interactiveBg.disable),[_constants__WEBPACK_IMPORTED_MODULE_6__.L$.Tertiary]:({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["background-color:",";&:hover,&:focus{background-color:",";}&:disabled,&[aria-disabled='true']{background-color:",";&:hover,&:focus{background-color:",";}}"],theme.colors.interactiveBg.tertiaryNormal,theme.colors.interactiveBg.tertiaryHover,theme.colors.interactiveBg.tertiaryNormal,theme.colors.interactiveBg.tertiaryNormal),[_constants__WEBPACK_IMPORTED_MODULE_6__.L$.Quaternary]:({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["background-color:",";border:1px solid ",";&:hover{border-color:",";}&:focus{box-shadow:none;border-color:",";}&:active{border-color:",";background-color:",";}",";"," &:disabled,&[aria-disabled='true']{border-color:",";background-color:",";}"],theme.colors.interactiveBg.quaternaryNormal,theme.colors.border.defaultNormal,theme.colors.border.quaternaryHover,theme.colors.border.quaternaryHover,theme.colors.border.quaternaryActive,theme.colors.interactiveBg.quaternaryNormal,_theme__WEBPACK_IMPORTED_MODULE_4__.L,(({isToggled})=>isToggled&&(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["border-color:",";"],theme.colors.border.defaultPress)),theme.colors.border.disable,theme.colors.interactiveBg.quaternaryNormal),[_constants__WEBPACK_IMPORTED_MODULE_6__.L$.Plain]:(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)([""])},rectangle=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["",";min-width:1px;min-height:1em;border-radius:",";padding:",";"],(({$type})=>$type&&buttonColors[$type]),(({theme})=>theme.borders.radius.small),(({size})=>size===_constants__WEBPACK_IMPORTED_MODULE_6__.qE.Small?"8px 16px":"18px 32px")),square=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["",";border-radius:",";"," svg{width:","px;height:","px;}"],(({$type})=>$type&&buttonColors[$type]),(({theme})=>theme.borders.radius.small),(({size})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["width:","px;height:","px;"],size===_constants__WEBPACK_IMPORTED_MODULE_6__.qE.Small?_theme__WEBPACK_IMPORTED_MODULE_8__.Z.ICON_SIZE:_theme__WEBPACK_IMPORTED_MODULE_8__.Z.LARGE_BUTTON_SIZE,size===_constants__WEBPACK_IMPORTED_MODULE_6__.qE.Small?_theme__WEBPACK_IMPORTED_MODULE_8__.Z.ICON_SIZE:_theme__WEBPACK_IMPORTED_MODULE_8__.Z.LARGE_BUTTON_SIZE)),_theme__WEBPACK_IMPORTED_MODULE_8__.Z.ICON_SIZE,_theme__WEBPACK_IMPORTED_MODULE_8__.Z.ICON_SIZE),circle=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["border-radius:",";"],(({theme})=>theme.borders.radius.round)),icon=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["",";width:","px;height:","px;svg{width:100%;height:100%;}"],(({$type})=>$type&&buttonColors[$type]),_theme__WEBPACK_IMPORTED_MODULE_8__.Z.ICON_SIZE,_theme__WEBPACK_IMPORTED_MODULE_8__.Z.ICON_SIZE);function getTextSize(size){switch(size){case _constants__WEBPACK_IMPORTED_MODULE_6__.qE.Small:return _theme__WEBPACK_IMPORTED_MODULE_7__.TextSize.Small;case _constants__WEBPACK_IMPORTED_MODULE_6__.qE.Medium:default:return _theme__WEBPACK_IMPORTED_MODULE_7__.TextSize.Medium}}const link=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["",""],(({theme,size})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(["",";color:",";border-radius:0;:hover{color:",";}&:active,&:disabled,&[aria-disabled='true']{background-color:",";}"],_theme__WEBPACK_IMPORTED_MODULE_5__._({preset:theme.typography.presets.link[getTextSize(size)],theme}),theme.colors.fg.linkNormal,theme.colors.fg.linkHover,theme.colors.opacity.footprint))),ButtonRectangle=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.button.withConfig({displayName:"button__ButtonRectangle",componentId:"sc-1wfpfsz-0"})([""," ",""],base,rectangle),AnchorRectangle=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.a.withConfig({displayName:"button__AnchorRectangle",componentId:"sc-1wfpfsz-1"})([""," "," ",""],base,anchorBase,rectangle),ButtonSquare=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.button.withConfig({displayName:"button__ButtonSquare",componentId:"sc-1wfpfsz-2"})([""," ",""],base,square),AnchorSquare=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.a.withConfig({displayName:"button__AnchorSquare",componentId:"sc-1wfpfsz-3"})([""," "," ",""],base,anchorBase,square),ButtonCircle=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.button.withConfig({displayName:"button__ButtonCircle",componentId:"sc-1wfpfsz-4"})([""," "," ",""],base,square,circle),AnchorCircle=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.a.withConfig({displayName:"button__AnchorCircle",componentId:"sc-1wfpfsz-5"})([""," "," "," ",""],base,anchorBase,square,circle),ButtonIcon=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.button.withConfig({displayName:"button__ButtonIcon",componentId:"sc-1wfpfsz-6"})([""," ",""],base,icon),AnchorIcon=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.a.withConfig({displayName:"button__AnchorIcon",componentId:"sc-1wfpfsz-7"})([""," "," ",""],base,anchorBase,icon),ButtonLink=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.button.withConfig({displayName:"button__ButtonLink",componentId:"sc-1wfpfsz-8"})([""," ",""],base,link),AnchorLink=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.a.withConfig({displayName:"button__AnchorLink",componentId:"sc-1wfpfsz-9"})([""," "," ",""],base,anchorBase,link),Button=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Gp)((function Button({size=_constants__WEBPACK_IMPORTED_MODULE_6__.qE.Medium,type=_constants__WEBPACK_IMPORTED_MODULE_6__.L$.Plain,variant=_constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Rectangle,children,...rest},ref){const elementProps={ref,size,$type:type,...rest};switch(variant){case _constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Rectangle:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ButtonRectangle,{...elementProps,children});case _constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Circle:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ButtonCircle,{...elementProps,children});case _constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Square:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ButtonSquare,{...elementProps,children});case _constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Icon:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ButtonIcon,{...elementProps,children});case _constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Link:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ButtonLink,{...elementProps,children});default:return null}})),ButtonAsLink=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Gp)((function ButtonAsLink({size=_constants__WEBPACK_IMPORTED_MODULE_6__.qE.Medium,type=_constants__WEBPACK_IMPORTED_MODULE_6__.L$.Plain,variant=_constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Rectangle,children,...rest},ref){const elementProps={ref,size,$type:type,...rest};switch(variant){case _constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Rectangle:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AnchorRectangle,{...elementProps,children});case _constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Circle:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AnchorCircle,{...elementProps,children});case _constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Square:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AnchorSquare,{...elementProps,children});case _constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Icon:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AnchorIcon,{...elementProps,children});case _constants__WEBPACK_IMPORTED_MODULE_6__.Wu.Link:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AnchorLink,{...elementProps,children});default:return null}}))},"./packages/design-system/src/components/button/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L$:()=>ButtonType,Wu:()=>ButtonVariant,ok:()=>BUTTON_TRANSITION_TIMING,qE:()=>ButtonSize});let ButtonType=function(ButtonType){return ButtonType.Primary="primary",ButtonType.Secondary="secondary",ButtonType.Tertiary="tertiary",ButtonType.Quaternary="quaternary",ButtonType.Plain="plain",ButtonType}({}),ButtonSize=function(ButtonSize){return ButtonSize.Small="small",ButtonSize.Medium="medium",ButtonSize}({}),ButtonVariant=function(ButtonVariant){return ButtonVariant.Circle="circle",ButtonVariant.Rectangle="rectangle",ButtonVariant.Square="square",ButtonVariant.Icon="icon",ButtonVariant.Link="link",ButtonVariant}({});const BUTTON_TRANSITION_TIMING="0.3s ease 0s"},"./packages/design-system/src/components/keyboard/keyboard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z9:()=>Shortcut,Xl:()=>useEscapeToBlurEffect,yg:()=>useGlobalIsKeyPressed,xb:()=>useGlobalKeyDownEffect,Ew:()=>useKeyDownEffect,LP:()=>useKeyEffect});__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js");var src=__webpack_require__("./packages/react/src/index.ts");const keyboard_keys={undo:"mod+z",redo:"shift+mod+z",delete:["del","backspace"],clone:"mod+d"},context=(0,src.kr)({keys:keyboard_keys});var utils=__webpack_require__("./packages/design-system/src/components/keyboard/utils.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const globalRef={current:null};function setGlobalRef(){globalRef.current||(globalRef.current=document.documentElement)}function useKeyEffectInternal(refOrNode,keyNameOrSpec,type,callback,deps){const{keys}=(0,src.qp)(context),batchingCallback=(0,src.iS)(callback,deps||[]);(0,src.d4)((()=>{const nodeEl=(0,utils.Lc)(refOrNode);if(!nodeEl)return;if(nodeEl.nodeType!==Node.ELEMENT_NODE&&nodeEl.nodeType!==Node.DOCUMENT_NODE)throw new Error("only an element or a document node can be used");const keySpec=(0,utils.zO)(keys,keyNameOrSpec);if(1===keySpec.key.length&&""===keySpec.key[0])return;const mousetrap=(0,utils.x0)(nodeEl),handler=(0,utils.qs)(nodeEl,keySpec,batchingCallback);return mousetrap.bind(keySpec.key,handler,type),()=>{mousetrap.unbind(keySpec.key,type)}}),[batchingCallback,keys])}function useKeyEffect(refOrNode,keyNameOrSpec,callback,deps){useKeyEffectInternal(refOrNode,keyNameOrSpec,void 0,callback,deps)}function useKeyDownEffect(refOrNode,keyNameOrSpec,callback,deps){useKeyEffectInternal(refOrNode,keyNameOrSpec,"keydown",callback,deps)}function useKeyUpEffect(refOrNode,keyNameOrSpec,callback,deps){useKeyEffectInternal(refOrNode,keyNameOrSpec,"keyup",callback,deps)}function useGlobalKeyDownEffect(keyNameOrSpec,callback,deps){setGlobalRef(),useKeyDownEffect(globalRef,keyNameOrSpec,callback,deps)}function useGlobalIsKeyPressed(keyNameOrSpec,deps){return setGlobalRef(),function useIsKeyPressed(refOrNode,keyNameOrSpec,deps){const[isKeyPressed,setIsKeyPressed]=(0,src.eJ)(!1),handleBlur=(0,src.I4)((()=>{setIsKeyPressed(!1)}),[]);return(0,src.d4)((()=>(window.addEventListener("blur",handleBlur),()=>{window.removeEventListener("blur",handleBlur)})),[handleBlur]),useKeyDownEffect(refOrNode,keyNameOrSpec,(()=>setIsKeyPressed(!0)),deps),useKeyUpEffect(refOrNode,keyNameOrSpec,(()=>setIsKeyPressed(!1)),deps),isKeyPressed}(globalRef,keyNameOrSpec,deps)}function useEscapeToBlurEffect(refOrNode,deps){useKeyDownEffect(refOrNode,{key:"esc",editable:!0},(()=>{const nodeEl=(0,utils.Lc)(refOrNode),{activeElement}=document;nodeEl&&activeElement&&nodeEl.contains(activeElement)&&activeElement.blur()}),deps)}function Shortcut({component:Component,shortcut=""}){const chars=shortcut.split(" ");return(0,jsx_runtime.jsx)(Component,{"aria-label":(0,utils.k$)(shortcut),children:chars.map(((char,index)=>(0,jsx_runtime.jsx)(Component,{children:(0,utils.U2)(char)},`${index}-${char}`)))})}Shortcut.displayName="Shortcut"},"./packages/design-system/src/components/keyboard/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Lc:()=>getNodeFromRefOrNode,U2:()=>prettifyShortcut,k$:()=>createShortcutAriaLabel,qs:()=>createKeyHandler,vx:()=>isPlatformMacOS,x0:()=>getOrCreateMousetrap,zO:()=>resolveKeySpec});__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.flat-map.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js");var _googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/i18n/src/i18n.ts"),mousetrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mousetrap/mousetrap.js"),mousetrap__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(mousetrap__WEBPACK_IMPORTED_MODULE_3__);const PROP="__WEB_STORIES_MT__",NON_EDITABLE_INPUT_TYPES=["submit","button","checkbox","radio","image","file","range","reset","hidden"],CLICKABLE_INPUT_TYPES=["submit","button","checkbox","radio","image","file","reset"];function getOrCreateMousetrap(node){return node[PROP]||(node[PROP]=new(mousetrap__WEBPACK_IMPORTED_MODULE_3___default())(node))}function getNodeFromRefOrNode(refOrNode){return refOrNode&&"current"in refOrNode?refOrNode.current:refOrNode}function resolveKeySpec(keyDict,keyNameOrSpec){const keySpec="string"==typeof keyNameOrSpec||Array.isArray(keyNameOrSpec)?{key:keyNameOrSpec}:keyNameOrSpec,{key:keyOrArray,shift=!1,repeat=!0,clickable=!0,editable=!1,dialog=!1,allowDefault=!1}=keySpec,allKeys=function addMods(keys,shift){if(!shift)return keys;return keys.concat(keys.map((key=>`shift+${key}`)))}((new Array).concat(keyOrArray).flatMap((key=>keyDict[key]||key)),shift);return{key:allKeys,shift,clickable,repeat,editable,dialog,allowDefault}}function createKeyHandler(keyTarget,{repeat:repeatAllowed,editable:editableAllowed,clickable:clickableAllowed,dialog:dialogAllowed,allowDefault=!1},callback){return evt=>{const{repeat,target}=evt;if((repeatAllowed||!repeat)&&(editableAllowed||!function isEditableTarget({tagName,isContentEditable,type,...rest}){if("readOnly"in rest&&!0===rest.readOnly)return!1;if(isContentEditable||"TEXTAREA"===tagName)return!0;if("INPUT"===tagName)return!NON_EDITABLE_INPUT_TYPES.includes(type);return!1}(target))&&(clickableAllowed||!function isClickableTarget({tagName,type}){if(["BUTTON","A"].includes(tagName))return!0;if("INPUT"===tagName)return CLICKABLE_INPUT_TYPES.includes(type);return!1}(target))&&(dialogAllowed||!function crossesDialogBoundary(target,keyTarget){if(1!==target.nodeType)return!1;const dialog=target.closest('dialog,[role="dialog"]');return dialog&&keyTarget!==dialog&&keyTarget.contains(dialog)}(target,keyTarget)))return callback(evt),allowDefault}}function isPlatformMacOS(){const{platform}=window.navigator;return platform.includes("Mac")||["iPad","iPhone"].includes(platform)}function getKeyForOS(key){const isMacOS=isPlatformMacOS();return{alt:isMacOS?"⌥":"Alt",ctrl:isMacOS?"^":"Ctrl",mod:isMacOS?"⌘":"Ctrl",cmd:"⌘",shift:isMacOS?"⇧":"Shift"}[key]||key}function createShortcutAriaLabel(shortcut){const isMacOS=isPlatformMacOS(),command=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Command","web-stories"),control=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Control","web-stories"),option=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Option","web-stories"),alt=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Alt","web-stories"),replacementKeyMap={alt:isMacOS?option:alt,mod:isMacOS?command:control,ctrl:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Control","web-stories"),shift:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Shift","web-stories"),delete:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Delete","web-stories"),cmd:command,",":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Comma","web-stories"),".":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Period","web-stories"),"`":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Backtick","web-stories")},delimiter=isMacOS?" ":"+";return shortcut.toLowerCase().replace("alt",replacementKeyMap.alt).replace("ctrl",replacementKeyMap.ctrl).replace("mod",replacementKeyMap.mod).replace("cmd",replacementKeyMap.cmd).replace("shift",replacementKeyMap.shift).replace("delete",replacementKeyMap.delete).replace(",",replacementKeyMap[","]).replace(".",replacementKeyMap["."]).replace("`",replacementKeyMap["`"]).split(/[\s+]/).map((s=>s.charAt(0).toUpperCase()+s.slice(1))).join(delimiter)}function prettifyShortcut(shortcut){const delimiter=isPlatformMacOS()?"":"+";return shortcut.toLowerCase().replace("alt",getKeyForOS("alt")).replace("ctrl",getKeyForOS("ctrl")).replace("mod",getKeyForOS("mod")).replace("cmd",getKeyForOS("cmd")).replace("shift",getKeyForOS("shift")).replace("left","←").replace("up","↑").replace("right","→").replace("down","↓").replace("delete","⌫").replace("enter","⏎").split("+").map((s=>s.charAt(0).toUpperCase()+s.slice(1))).join(delimiter)}},"./packages/design-system/src/components/typography/headline/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>Headline});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_theme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_styles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/components/typography/styles.ts");const Headline=styled_components__WEBPACK_IMPORTED_MODULE_0__.ZP.h1.withConfig({displayName:"headline__Headline",componentId:"sc-yhwct1-0"})(["",";"," ",""],_styles__WEBPACK_IMPORTED_MODULE_1__.y,(({theme,size=_theme__WEBPACK_IMPORTED_MODULE_2__.TextSize.Medium})=>_theme__WEBPACK_IMPORTED_MODULE_3__._({preset:theme.typography.presets.headline[size],theme})),(({as,theme})=>"a"===as&&(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.iv)([":hover{color:",";}",""],theme.colors.fg.linkHover,_theme__WEBPACK_IMPORTED_MODULE_4__.L(theme.colors.border.focus))))},"./packages/design-system/src/components/typography/styles.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>defaultTypographyStyle});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const defaultTypographyStyle=({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.iv)(["font-family:",";color:",";margin:0;padding:0;&:focus{box-shadow:none;}"],theme.typography.family.primary,theme.colors.fg.primary)},"./packages/design-system/src/components/typography/text/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>Text});var styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/typography/styles.ts");const textCss=({isBold=!1,size=_theme__WEBPACK_IMPORTED_MODULE_0__.TextSize.Medium,theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.iv)(["",";",";font-weight:",";"],_styles__WEBPACK_IMPORTED_MODULE_2__.y,_theme__WEBPACK_IMPORTED_MODULE_3__._({preset:theme.typography.presets.paragraph[size],theme}),isBold?theme.typography.weight.bold:theme.typography.presets.paragraph[size].weight),Paragraph=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.p.withConfig({displayName:"text__Paragraph",componentId:"sc-1kd0vh8-0"})(["",";"],textCss),Span=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.span.withConfig({displayName:"text__Span",componentId:"sc-1kd0vh8-1"})(["",";"],textCss),Kbd=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.kbd.withConfig({displayName:"text__Kbd",componentId:"sc-1kd0vh8-2"})(["",";background-color:transparent;white-space:nowrap;"],textCss),Text={Label:styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.label.withConfig({displayName:"text__Label",componentId:"sc-1kd0vh8-3"})(["",";color:",";"],(({isBold=!1,size=_theme__WEBPACK_IMPORTED_MODULE_0__.TextSize.Medium,theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.iv)(["",";",";font-weight:",";"],_styles__WEBPACK_IMPORTED_MODULE_2__.y,_theme__WEBPACK_IMPORTED_MODULE_3__._({preset:theme.typography.presets.label[size],theme}),isBold?theme.typography.weight.bold:theme.typography.presets.label[size].weight)),(({disabled,theme})=>disabled?theme.colors.fg.disable:"auto")),Span,Kbd,Paragraph}},"./packages/design-system/src/theme/helpers/expandPresetStyles.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>expandTextPreset,_:()=>expandPresetStyles});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/theme/types.ts");const expandPresetStyles=({preset,theme})=>preset?(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.iv)(["font-family:",";font-size:","px;font-weight:",";letter-spacing:","px;line-height:","px;text-decoration:none;"],theme.typography.family.primary,preset.size,preset.weight,preset.letterSpacing,preset.lineHeight):(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.iv)([""]),expandTextPreset=presetSelector=>({theme})=>expandPresetStyles({preset:presetSelector(theme.typography.presets,_types__WEBPACK_IMPORTED_MODULE_1__.TextSize),theme})},"./packages/design-system/src/theme/helpers/outline.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>focusableOutlineCSS,R:()=>focusCSS});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const focusCSS=(accent,background)=>(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.iv)(["outline:none;box-shadow:",";"],(({theme})=>`0px 0px 0 2px ${background||theme.colors.bg.primary}, 0px 0px 0 4px ${"string"==typeof accent?accent:theme.colors.border.focus}`)),focusableOutlineCSS=(colorOrProps,background)=>{const accent="string"==typeof colorOrProps?colorOrProps:colorOrProps?.theme?.colors?.border?.focus;return(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.iv)(["&:focus-visible{",";}"],focusCSS(accent,background))}},"./packages/i18n/src/translateWithMarkup.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>translateWithMarkup});__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js");var src=__webpack_require__("./packages/react/src/index.ts");function transform(node,mapping={}){const result=[];do{result.push(transformNode(node,mapping)),node=node.nextSibling}while(null!==node);return result}function transformNode(node,mapping={}){const{childNodes,nodeType,textContent}=node;if(Node.TEXT_NODE===nodeType)return textContent;const children=node.hasChildNodes()?Array.from(childNodes).map((child=>transform(child,mapping))):null,{localName}=node;return localName in mapping?(0,src.Tm)(mapping[localName],{},children):(0,src.az)(localName,null,children)}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function TranslateWithMarkup({mapping={},children}){mapping=Object.fromEntries(Object.entries(mapping).map((([k,v])=>[k.toLowerCase(),v])));const foundVoidElements=Object.keys(mapping).filter((tag=>VOID_ELEMENTS.includes(tag))).join(" ");if(foundVoidElements.length>0)throw new Error(`Found disallowed void elements in TranslateWithMarkup map: ${foundVoidElements}`);const node=(new DOMParser).parseFromString(children,"text/html").body.firstChild;return node?(0,jsx_runtime.jsx)(src.HY,{children:transform(node,mapping).map(((element,index)=>(0,jsx_runtime.jsx)(src.HY,{children:element},index)))}):null}TranslateWithMarkup.displayName="TranslateWithMarkup";const translateWithMarkup=TranslateWithMarkup},"./packages/story-editor/src/components/keyboardShortcutsMenu/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>TOGGLE_SHORTCUTS_MENU,I:()=>TOP_MARGIN});const TOP_MARGIN=16,TOGGLE_SHORTCUTS_MENU="mod+/"},"./packages/story-editor/src/components/keyboardShortcutsMenu/keyboardShortcutsMenuContext/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>provider,A:()=>useKeyboardShortcutsMenu});__webpack_require__("./node_modules/react/index.js");var src=__webpack_require__("./packages/react/src/index.ts"),tracking_src=__webpack_require__("./packages/tracking/src/index.ts"),noop=__webpack_require__("./packages/story-editor/src/utils/noop.ts");const context=(0,src.kr)({state:{isOpen:!1},actions:{toggle:noop.Z,close:noop.Z}});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function KeyboardShortcutsMenuProvider({children}){const[isOpen,setIsOpen]=(0,src.eJ)(!1),toggle=(0,src.I4)((e=>{e.preventDefault(),(0,tracking_src.L9)("shortcuts_menu_toggled",{status:isOpen?"closed":"open"}),setIsOpen((prevIsOpen=>!prevIsOpen))}),[isOpen]),close=(0,src.I4)((()=>{isOpen&&((0,tracking_src.L9)("shortcuts_menu_toggled",{status:"closed"}),setIsOpen(!1))}),[isOpen]),contextValue=(0,src.Ye)((()=>({state:{isOpen},actions:{toggle,close}})),[close,isOpen,toggle]);return(0,jsx_runtime.jsx)(context.Provider,{value:contextValue,children})}KeyboardShortcutsMenuProvider.displayName="KeyboardShortcutsMenuProvider";const provider=KeyboardShortcutsMenuProvider;function useKeyboardShortcutsMenu(selector=src.yR){return(0,src.Sz)(context,selector)}},"./packages/story-editor/src/components/keyboardShortcutsMenu/shortcutMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>shortcutMenu});__webpack_require__("./node_modules/react/index.js");var styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),v4=__webpack_require__("./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js"),src=__webpack_require__("./packages/react/src/index.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),outline=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),keyboard=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),button_button=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),cross=__webpack_require__("./packages/design-system/src/icons/cross.svg"),src_constants=__webpack_require__("./packages/story-editor/src/constants/index.ts"),headline=__webpack_require__("./packages/design-system/src/components/typography/headline/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),translateWithMarkup=(__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js"),__webpack_require__("./packages/i18n/src/translateWithMarkup.tsx")),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),utils=__webpack_require__("./packages/design-system/src/components/keyboard/utils.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const isMacOS=(0,utils.vx)(),LargeKey=props=>(0,jsx_runtime.jsx)("kbd",{className:"large-key",...props});LargeKey.displayName="LargeKey";const ShiftKeyWrapper=props=>isMacOS?(0,jsx_runtime.jsx)("kbd",{...props}):(0,jsx_runtime.jsx)(LargeKey,{...props}),shortcuts={header:{label:(0,i18n.__)("Keyboard Shortcuts","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"/"})]})},landmarks:[{label:(0,i18n.__)("Element","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:(0,utils.U2)("alt")}),(0,jsx_runtime.jsx)("kbd",{children:"1"})]})},{label:(0,i18n.__)("Workspace","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:(0,utils.U2)("alt")}),(0,jsx_runtime.jsx)("kbd",{children:"2"})]})},{label:(0,i18n.__)("Design panels","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:(0,utils.U2)("alt")}),(0,jsx_runtime.jsx)("kbd",{children:"3"})]})}],sections:[{title:(0,i18n.__)("Basics","web-stories"),commands:[{label:(0,i18n.__)("Undo","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"Z"})]})},{label:(0,i18n.__)("Redo","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)(ShiftKeyWrapper,{children:(0,utils.U2)("shift")}),(0,jsx_runtime.jsx)("kbd",{children:"Z"})]})},{label:(0,i18n.__)("Save","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"S"})]})},{label:(0,i18n.__)("Play / Stop","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:(0,utils.U2)("enter")})]})}]},{title:(0,i18n.__)("Text","web-stories"),commands:[{label:(0,i18n.__)("Insert/edit link","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"K"})]})},{label:(0,i18n.__)("Bold","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"B"})]})},{label:(0,i18n.__)("Italic","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"I"})]})},{label:(0,i18n.__)("Underline","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"U"})]})}]},{title:(0,i18n.__)("Element","web-stories"),commands:[{label:(0,i18n.__)("Copy","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"C"})]})},{label:(0,i18n.__)("Cut","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"X"})]})},{label:(0,i18n.__)("Duplicate","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"D"})]})},{label:(0,i18n.__)("Paste","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"V"})]})},{label:(0,i18n.__)("Copy Styles","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:(0,utils.U2)("alt")}),(0,jsx_runtime.jsx)("kbd",{children:"O"})]})},{label:(0,i18n.__)("Paste Styles","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:(0,utils.U2)("alt")}),(0,jsx_runtime.jsx)("kbd",{children:"P"})]})},{label:(0,i18n.__)("Select all","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"A"})]})},{label:(0,i18n.__)("Select multiple","web-stories"),shortcut:(0,jsx_runtime.jsx)("kbd",{children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{lkbd:(0,jsx_runtime.jsx)(LargeKey,{}),shortcut:(0,jsx_runtime.jsx)(keyboard.z9,{shortcut:"shift"})},children:(0,sprintf.Z)((0,i18n.__)("<lkbd>%s</lkbd> <span>+ click</span>","web-stories"),(0,utils.U2)("shift"))})})},{label:(0,i18n.__)("Move forward or back","web-stories"),shortcut:(0,jsx_runtime.jsx)("kbd",{children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{kbd:(0,jsx_runtime.jsx)("kbd",{}),lkbd:(0,jsx_runtime.jsx)(LargeKey,{})},children:(0,sprintf.Z)((0,i18n.__)("<lkbd>%1$s</lkbd> <kbd>%2$s</kbd> <span>or</span> <kbd>%3$s</kbd>","web-stories"),(0,utils.U2)("mod"),(0,utils.U2)("up"),(0,utils.U2)("down"))})})},{label:(0,i18n.__)("Move to front or back","web-stories"),shortcut:(0,jsx_runtime.jsx)("kbd",{children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{kbd:(0,jsx_runtime.jsx)("kbd",{}),lkbd:(0,jsx_runtime.jsx)(LargeKey,{})},children:(0,sprintf.Z)((0,i18n.__)("<lkbd>%1$s</lkbd> <lkbd>%2$s</lkbd> <kbd>%3$s</kbd> <span>or</span> <kbd>%4$s</kbd>","web-stories"),(0,utils.U2)("mod"),(0,utils.U2)("shift"),(0,utils.U2)("up"),(0,utils.U2)("down"))})})},{label:(0,i18n.__)("Enter crop/edit mode","web-stories"),shortcut:(0,jsx_runtime.jsx)("kbd",{children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{kbd:(0,jsx_runtime.jsx)("kbd",{})},children:(0,sprintf.Z)((0,i18n.__)("<kbd>%s</kbd> <span>or double-click</span>","web-stories"),(0,utils.U2)("enter"))})})},{label:(0,i18n.__)("Delete","web-stories"),shortcut:(0,jsx_runtime.jsx)("kbd",{children:(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("delete")})})},{disabled:!0,label:(0,i18n.__)("Insert/edit link","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{children:"A"})]})},{label:(0,i18n.__)("Disable snapping and drop targeting","web-stories"),shortcut:(0,jsx_runtime.jsx)("kbd",{children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{lkbd:(0,jsx_runtime.jsx)(LargeKey,{})},children:(0,sprintf.Z)((0,i18n.__)("<span>Hold</span> <lkbd>%s</lkbd>","web-stories"),(0,utils.U2)("mod"))})})},{label:(0,i18n.__)("Access floating toolbar","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("ctrl")}),(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("alt")}),(0,jsx_runtime.jsx)("kbd",{children:"P"})]})},{label:(0,i18n.__)("Open context menu","web-stories"),shortcut:(0,jsx_runtime.jsxs)("kbd",{children:[(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("mod")}),(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("alt")}),(0,jsx_runtime.jsx)("kbd",{className:"large-key",children:(0,utils.U2)("shift")}),(0,jsx_runtime.jsx)("kbd",{children:"M"})]})},{label:(0,i18n.__)("Move element 1px","web-stories"),shortcut:(0,jsx_runtime.jsx)("kbd",{children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{lkbd:(0,jsx_runtime.jsx)(LargeKey,{}),shortcut:(0,jsx_runtime.jsx)(keyboard.z9,{shortcut:"shift"})},children:(0,sprintf.Z)((0,i18n.__)("<lkbd>%s</lkbd> <span>+ arrow keys</span>","web-stories"),(0,utils.U2)("shift"))})})}]}]},header=shortcuts.header,landmarks=shortcuts.landmarks.filter((o=>!o.disabled)),sections=shortcuts.sections.map((section=>({...section,commands:section.commands.filter((o=>!o.disabled))})));var expandPresetStyles=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts");const Wrapper=styled_components_browser_esm.ZP.dd.withConfig({displayName:"shortcutLabel__Wrapper",componentId:"sc-6tlmvo-0"})(["display:block;margin:0;kbd{"," display:flex;justify-content:",";align-items:center;margin:0;padding:0;color:",";background-color:transparent;& > kbd{display:flex;justify-content:center;align-items:center;padding:0 5px;height:24px;width:24px;border-radius:",";border:1px solid ",";color:",";}& > kbd.large-key{width:auto;}kbd + kbd{margin-left:2px;}kbd + span{margin-left:4px;}span + kbd{margin-left:4px;}}"],expandPresetStyles.K((({paragraph},{XSmall})=>paragraph[XSmall])),(({alignment})=>alignment),(({theme})=>theme.colors.fg.secondary),(({theme})=>theme.borders.radius.medium),(({theme})=>theme.colors.border.defaultNormal),(({theme})=>theme.colors.fg.primary));function ShortCutLabel({keys,alignment="center",...rest}){return(0,jsx_runtime.jsx)(Wrapper,{alignment,...rest,children:keys})}ShortCutLabel.displayName="ShortCutLabel";const shortcutLabel=ShortCutLabel,List=styled_components_browser_esm.ZP.dl.withConfig({displayName:"headerShortcut__List",componentId:"sc-1egg06k-0"})(["margin:24px;display:flex;flex-shrink:0;"]),Item=styled_components_browser_esm.ZP.dt.withConfig({displayName:"headerShortcut__Item",componentId:"sc-1egg06k-1"})(["margin:0 12px 0 0;"]);function HeaderShortcut(props){const{label,shortcut}=header;return(0,jsx_runtime.jsxs)(List,{children:[(0,jsx_runtime.jsx)(Item,{children:(0,jsx_runtime.jsx)(headline.s,{as:"h2",size:types.TextSize.XSmall,...props,children:label})}),(0,jsx_runtime.jsx)(shortcutLabel,{keys:shortcut})]})}HeaderShortcut.displayName="HeaderShortcut";const headerShortcut=HeaderShortcut;var typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts");const LandmarksWrapper=styled_components_browser_esm.ZP.dl.withConfig({displayName:"landmarkShortcuts__LandmarksWrapper",componentId:"sc-k7r8e2-0"})(["background-color:",";margin:0;padding:16px 24px;display:flex;justify-content:space-between;user-select:text;"],(({theme})=>theme.colors.bg.secondary)),Landmark=styled_components_browser_esm.ZP.div.withConfig({displayName:"landmarkShortcuts__Landmark",componentId:"sc-k7r8e2-1"})(["display:flex;flex-direction:column;"]),Label=(0,styled_components_browser_esm.ZP)(typography_text.x.Span).attrs({size:types.TextSize.XSmall}).withConfig({displayName:"landmarkShortcuts__Label",componentId:"sc-k7r8e2-2"})(["text-align:center;margin-top:8px;white-space:nowrap;display:inline-block;"]);function LandmarkShortcuts(){return(0,jsx_runtime.jsx)(LandmarksWrapper,{children:landmarks.map((({label,shortcut})=>(0,jsx_runtime.jsxs)(Landmark,{children:[(0,jsx_runtime.jsx)(shortcutLabel,{keys:shortcut}),(0,jsx_runtime.jsx)("dt",{children:(0,jsx_runtime.jsx)(Label,{children:label})})]},label)))})}LandmarkShortcuts.displayName="LandmarkShortcuts";const landmarkShortcuts=LandmarkShortcuts,Header=(0,styled_components_browser_esm.ZP)(headline.s).attrs({as:"h3",size:types.TextSize.XXSmall}).withConfig({displayName:"shortcutMenuSection__Header",componentId:"sc-xssjcb-0"})(["margin-top:24px;color:",";"],(({theme})=>theme.colors.fg.primary)),shortcutMenuSection_List=styled_components_browser_esm.ZP.dl.withConfig({displayName:"shortcutMenuSection__List",componentId:"sc-xssjcb-1"})(["display:grid;grid-template-columns:1fr;row-gap:12px;align-items:center;margin:12px 0 0;"]),ListRow=styled_components_browser_esm.ZP.div.withConfig({displayName:"shortcutMenuSection__ListRow",componentId:"sc-xssjcb-2"})(["display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto;column-gap:5px;align-items:center;dd{grid-column:1;grid-row:1;}dt{grid-column:2;grid-row:1;}"]),shortcutMenuSection_Label=(0,styled_components_browser_esm.ZP)(typography_text.x.Span).attrs({size:types.TextSize.Small}).withConfig({displayName:"shortcutMenuSection__Label",componentId:"sc-xssjcb-3"})(["display:inline-block;color:",";"],(({theme})=>theme.colors.fg.secondary));const shortcutMenuSection=function ShortcutMenuSection({title,commands}){const headerId=`header-${(0,v4.Z)()}`;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Header,{id:headerId,children:title}),(0,jsx_runtime.jsx)(shortcutMenuSection_List,{title,children:commands.map((({label,shortcut})=>(0,jsx_runtime.jsxs)(ListRow,{children:[(0,jsx_runtime.jsx)(shortcutLabel,{keys:shortcut,alignment:"left"}),(0,jsx_runtime.jsx)("dt",{children:(0,jsx_runtime.jsx)(shortcutMenuSection_Label,{children:label})})]},label)))})]})},ContentWrapper=styled_components_browser_esm.ZP.div.withConfig({displayName:"regularShortcuts__ContentWrapper",componentId:"sc-fl8s7-0"})(["display:flex;flex-direction:column;margin:0 24px 24px;*{user-select:text;}"]);function RegularShortcuts(){return(0,jsx_runtime.jsx)(ContentWrapper,{children:sections.map((({title,commands})=>(0,jsx_runtime.jsx)(shortcutMenuSection,{title,commands},title)))})}RegularShortcuts.displayName="RegularShortcuts";const regularShortcuts=RegularShortcuts;var keyboardShortcutsMenu_constants=__webpack_require__("./packages/story-editor/src/components/keyboardShortcutsMenu/constants.js"),keyboardShortcutsMenuContext=__webpack_require__("./packages/story-editor/src/components/keyboardShortcutsMenu/keyboardShortcutsMenuContext/index.ts");const Container=styled_components_browser_esm.ZP.div.withConfig({displayName:"shortcutMenu__Container",componentId:"sc-m0xcqa-0"})(["position:absolute;left:0;bottom:0;width:352px;border-radius:",";background-color:",";border:","px solid ",";"],(({theme})=>theme.borders.radius.small),(({theme})=>theme.colors.bg.primary),1,(({theme})=>theme.colors.border.defaultNormal)),EXTRA_SPACE=src_constants.mO+src_constants.Mz+keyboardShortcutsMenu_constants.I-2,FlexContent=styled_components_browser_esm.ZP.div.withConfig({displayName:"shortcutMenu__FlexContent",componentId:"sc-m0xcqa-1"})(["display:flex;flex-direction:column;max-height:calc( 100vh - ","px - ","px );"],EXTRA_SPACE,(({bottomOffset})=>bottomOffset)),CloseContainer=styled_components_browser_esm.ZP.div.withConfig({displayName:"shortcutMenu__CloseContainer",componentId:"sc-m0xcqa-2"})(["position:absolute;right:4px;top:4px;"]),ScrollableContent=styled_components_browser_esm.ZP.div.withConfig({displayName:"shortcutMenu__ScrollableContent",componentId:"sc-m0xcqa-3"})(["overflow:auto;flex-shrink:1;",";"],outline.L),HEADER_ID=`kb-header-${(0,v4.Z)()}`;function ShortcutMenu(){const anchorRef=(0,src.sO)(),containerRef=(0,src.sO)(),{close,toggle,isOpen}=(0,keyboardShortcutsMenuContext.A)((({actions,state})=>({toggle:actions.toggle,close:actions.close,isOpen:state.isOpen}))),[bottomOffset,setBottomOffset]=(0,src.eJ)(0);return(0,src.bt)((()=>{const node=containerRef.current;if(!node)return;const calc=()=>{const nodeRect=node.getBoundingClientRect(),docRect=node.ownerDocument.documentElement.getBoundingClientRect();setBottomOffset(docRect.height-nodeRect.y-nodeRect.height)};return calc(),setTimeout(calc),window.addEventListener("resize",calc),()=>window.removeEventListener("resize",calc)}),[]),(0,src.d4)((()=>{isOpen&&anchorRef.current&&anchorRef.current.focus()}),[isOpen]),(0,keyboard.Ew)(containerRef,keyboardShortcutsMenu_constants.H,toggle,[toggle]),(0,keyboard.Ew)(containerRef,"esc",close),(0,jsx_runtime.jsxs)(Container,{ref:containerRef,children:[(0,jsx_runtime.jsx)(CloseContainer,{children:(0,jsx_runtime.jsx)(button_button.z,{ref:anchorRef,type:constants.L$.Plain,size:constants.qE.Small,variant:constants.Wu.Circle,onClick:close,"aria-label":(0,i18n.__)("Close Menu","web-stories"),children:(0,jsx_runtime.jsx)(cross.Z,{})})}),(0,jsx_runtime.jsxs)(FlexContent,{bottomOffset,children:[(0,jsx_runtime.jsx)(headerShortcut,{id:HEADER_ID}),(0,jsx_runtime.jsxs)(ScrollableContent,{role:"presentation",tabIndex:0,children:[(0,jsx_runtime.jsx)(landmarkShortcuts,{}),(0,jsx_runtime.jsx)(regularShortcuts,{})]})]})]})}ShortcutMenu.displayName="ShortcutMenu";const shortcutMenu=ShortcutMenu},"./packages/story-editor/src/components/keyboardShortcutsMenu/stories/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_default:()=>_default,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_shortcutMenu__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/story-editor/src/components/keyboardShortcutsMenu/shortcutMenu.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Stories Editor/Components/Keyboard Shortcuts Menu",component:_shortcutMenu__WEBPACK_IMPORTED_MODULE_1__.Z},Container=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.div.withConfig({displayName:"stories__Container",componentId:"sc-1jp89ql-0"})(["width:800px;height:100vh;margin:-50px 10px 0;"]),_default={render:function Render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Container,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_shortcutMenu__WEBPACK_IMPORTED_MODULE_1__.Z,{})})}}},"./packages/story-editor/src/constants/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{mO:()=>ADMIN_TOOLBAR_HEIGHT,tl:()=>CANVAS_MIN_WIDTH,e0:()=>CAROUSEL_TRANSITION_DURATION,bh:()=>CarouselState,sk:()=>DESIGN_SPACE_MARGIN,sx:()=>FLOATING_MENU_DISTANCE,m5:()=>FONT_WEIGHT,f5:()=>FONT_WEIGHT_NAMES,Qu:()=>HEADER_GAP,Mz:()=>HEADER_HEIGHT,od:()=>HEADING_LEVELS,ab:()=>HIDDEN_PADDING,Fs:()=>LayerDirection,$c:()=>MAX_EXTRA_PAGES,LK:()=>MAX_PRODUCTS_PER_PAGE,V:()=>MEDIA_MIME_TYPES_OPTIMIZED_VIDEOS,AY:()=>MEDIA_POSTER_IMAGE_FILE_TYPE,Iu:()=>MEDIA_POSTER_IMAGE_MIME_TYPE,$8:()=>MEDIA_RECOMMENDED_MAX_VIDEO_DURATION,ZL:()=>MEDIA_RECOMMENDED_MIN_VIDEO_FPS,gY:()=>MEDIA_TRANSCODED_FILE_TYPE,ov:()=>MEDIA_TRANSCODED_MIME_TYPE,ve:()=>MEDIA_TRANSCODING_MAX_FILE_SIZE,q$:()=>MEDIA_VIDEO_DIMENSIONS_THRESHOLD,f6:()=>MEDIA_VIDEO_FILE_SIZE_THRESHOLD,Vo:()=>MEDIA_VIDEO_MINIMUM_DURATION,nz:()=>MULTIPLE_DISPLAY_VALUE,mh:()=>MULTIPLE_VALUE,dZ:()=>OUTLINK_THEME,Fl:()=>PAGE_NAV_WIDTH,Ls:()=>PAGE_WIDTH_FACTOR,SE:()=>PRESET_TYPES,H_:()=>SAVED_STYLE_HEIGHT,ZR:()=>SIDEBAR_WIDTH,Qw:()=>STABLE_ARRAY,D_:()=>TEXT_SET_SIZE,Iy:()=>TRACKING_EVENTS,uM:()=>ZoomSetting});var i18n=__webpack_require__("./packages/i18n/src/i18n.ts");const FONT_WEIGHT_NAMES={100:(0,i18n._x)("Thin","font weight","web-stories"),200:(0,i18n._x)("Extra-light","font weight","web-stories"),300:(0,i18n._x)("Light","font weight","web-stories"),400:(0,i18n._x)("Regular","font weight","web-stories"),500:(0,i18n._x)("Medium","font weight","web-stories"),600:(0,i18n._x)("Semi-bold","font weight","web-stories"),700:(0,i18n._x)("Bold","font weight","web-stories"),800:(0,i18n._x)("Extra-bold","font weight","web-stories"),900:(0,i18n._x)("Black","font weight","web-stories")},MEDIA_TRANSCODING_MAX_FILE_SIZE=2147483648,MEDIA_POSTER_IMAGE_FILE_TYPE="jpeg",MEDIA_POSTER_IMAGE_MIME_TYPE="image/jpeg",MEDIA_TRANSCODED_MIME_TYPE="video/mp4",MEDIA_TRANSCODED_FILE_TYPE="mp4",MEDIA_VIDEO_MINIMUM_DURATION=100,MEDIA_VIDEO_DIMENSIONS_THRESHOLD={HEIGHT:720,WIDTH:1280},MEDIA_VIDEO_FILE_SIZE_THRESHOLD=4e6,MEDIA_MIME_TYPES_OPTIMIZED_VIDEOS=["video/mp4"],MEDIA_RECOMMENDED_MAX_VIDEO_DURATION=15,MEDIA_RECOMMENDED_MIN_VIDEO_FPS=24,MULTIPLE_VALUE="((MULTIPLE))",MULTIPLE_DISPLAY_VALUE=(0,i18n.__)("Mixed","web-stories"),TRACKING_EVENTS={PAGE_NAVIGATION:{category:"page",label:"arrow_navigate"},PAGE_PREVIEW_CLICK:{category:"page",label:"carousel_navigate"},PAGE_ADD:{category:"page",label:"add_new"},PAGE_DELETE:{category:"page",label:"delete"},SELECT_ELEMENT:{category:"select_element"},LIBRARY_PANEL_CLICK:{category:"library_panel"},DESIGN_PANEL_CLICK:{category:"design_panel"},INSERT_ELEMENT:{category:"insert_element"},DELETE_ELEMENT:{category:"delete_element"},SET_BACKGROUND_MEDIA:{category:"background",label:"set_media_as_bg"}},HEADING_LEVELS={h1:(0,i18n.__)("Heading 1","web-stories"),h2:(0,i18n.__)("Heading 2","web-stories"),h3:(0,i18n.__)("Heading 3","web-stories"),p:(0,i18n.__)("Paragraph","web-stories")},ADMIN_TOOLBAR_HEIGHT=32,HEADER_HEIGHT=64,HEADER_GAP=52,CANVAS_MIN_WIDTH=570,SIDEBAR_WIDTH=360,PAGE_NAV_WIDTH=100,FLOATING_MENU_DISTANCE=10,MAX_PRODUCTS_PER_PAGE=6;let ZoomSetting=function(ZoomSetting){return ZoomSetting.Fill="FILL",ZoomSetting.Fit="FIT",ZoomSetting.Fixed="FIXED",ZoomSetting}({}),CarouselState=function(CarouselState){return CarouselState.Open="OPEN",CarouselState.Opening="OPENING",CarouselState.Closed="CLOSED",CarouselState.Closing="CLOSING",CarouselState}({});const CAROUSEL_TRANSITION_DURATION=300,PAGE_WIDTH_FACTOR=12,MAX_EXTRA_PAGES=4,DESIGN_SPACE_MARGIN=48,TEXT_SET_SIZE=150;let LayerDirection=function(LayerDirection){return LayerDirection.Front="FRONT",LayerDirection.Back="BACK",LayerDirection.Forward="FORWARD",LayerDirection.Backward="BACKWARD",LayerDirection}({});const FONT_WEIGHT={NORMAL:400,MEDIUM:500,BOLD:700},HIDDEN_PADDING={horizontal:8,vertical:4},SAVED_STYLE_HEIGHT=64,OUTLINK_THEME={DARK:"dark",LIGHT:"light",CUSTOM:"custom"},PRESET_TYPES={STYLE:"style",COLOR:"colors"},STABLE_ARRAY=[]},"./packages/story-editor/src/utils/noop.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function noop(){}__webpack_require__.d(__webpack_exports__,{Z:()=>noop})},"./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>esm_browser_v4});const esm_browser_native={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(arr,offset=0){return byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]}const esm_browser_v4=function v4(options,buf,offset){if(esm_browser_native.randomUUID&&!buf&&!options)return esm_browser_native.randomUUID();const rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(let i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return unsafeStringify(rnds)}}}]);