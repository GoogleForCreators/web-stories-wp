"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[3847],{"./packages/design-system/src/components/toggle/toggle.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/icons/checkmark_small.svg");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"toggle__Wrapper",componentId:"sc-3bc7bd-0"})(["padding:","px;"],4),Background=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"toggle__Background",componentId:"sc-3bc7bd-1"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["position:absolute;top:-","px;left:-","px;height:","px;width:","px;background-color:transparent;border-radius:",";border:","px solid ",";pointer-events:none;transition:all 0.3s;"],1,1,20,44,theme.borders.radius.x_large,1,theme.colors.border.defaultNormal))),Circle=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.span.withConfig({displayName:"toggle__Circle",componentId:"sc-3bc7bd-2"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["pointer-events:none;:after{content:'';position:absolute;top:","px;left:","px;height:","px;width:","px;background-color:",";border-radius:",";cursor:pointer;transition:background-color 0.3s,border-color 0.3s,left 0.15s;}"],-5,-5,28,28,theme.colors.fg.secondary,theme.borders.radius.round))),IconContainer=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"toggle__IconContainer",componentId:"sc-3bc7bd-3"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["position:absolute;width:","px;top:","px;left:","px;z-index:1;opacity:0;transition:opacity 0.15s;pointer-events:none;svg{color:",";}"],32,-6,19,theme.colors.standard.white))),ToggleContainer=styled_components__WEBPACK_IMPORTED_MODULE_2__.Ay.div.withConfig({displayName:"toggle__ToggleContainer",componentId:"sc-3bc7bd-4"})((({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.AH)(["position:relative;height:","px;width:","px;background-color:transparent;border-radius:",";input[type='checkbox']{position:absolute;top:-","px;left:-","px;height:","px;width:","px;margin:0;opacity:0;cursor:pointer;:disabled{cursor:default;~ ","{border-color:",";}:checked ~ ","{background-color:",";border-color:",";}~ ",":after{background-color:",";}:checked ~ ",":after{background-color:",";}~ "," svg{color:",";}}&:focus-visible{~ ","{outline:none;box-shadow:0 0 0 5px ",",0 0 0 7px ",";}}:checked{~ ","{background-color:",";border-color:",";}~ ",":after{left:","px;background-color:",";}~ ","{opacity:1;}}:hover{:not(:disabled) ~ ","{border-color:",";}:checked:not(:disabled) ~ ","{background-color:",";border-color:",";}}:active{~ ","{box-shadow:0 0 0 8px ",";}}}"],20,44,theme.borders.radius.x_large,.5,.5,20,44,Background,theme.colors.fg.disable,Background,theme.colors.fg.disable,theme.colors.fg.disable,Circle,theme.colors.fg.disable,Circle,theme.colors.bg.secondary,IconContainer,theme.colors.fg.disable,Background,theme.colors.bg.primary,theme.colors.border.focus,Background,theme.colors.interactiveBg.positivePress,theme.colors.interactiveBg.positivePress,Circle,21,theme.colors.interactiveBg.positiveNormal,IconContainer,Background,theme.colors.fg.secondary,Background,theme.colors.interactiveBg.positiveHover,theme.colors.interactiveBg.positiveHover,Background,theme.colors.shadow.active)));function Toggle(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(13);let className,inputProps,t1,t2,t3,t4,t5,t6;return $[0]!==t0?(({className,...inputProps}=t0),$[0]=t0,$[1]=className,$[2]=inputProps):(className=$[1],inputProps=$[2]),$[3]!==inputProps?(t1=react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",_extends({type:"checkbox"},inputProps)),$[3]=inputProps,$[4]=t1):t1=$[4],$[5]===Symbol.for("react.memo_cache_sentinel")?(t2=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Background,null),$[5]=t2):t2=$[5],$[6]===Symbol.for("react.memo_cache_sentinel")?(t3=react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconContainer,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons__WEBPACK_IMPORTED_MODULE_3__.A,null)),t4=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Circle,null),$[6]=t3,$[7]=t4):(t3=$[6],t4=$[7]),$[8]!==t1?(t5=react__WEBPACK_IMPORTED_MODULE_0__.createElement(ToggleContainer,null,t1,t2,t3,t4),$[8]=t1,$[9]=t5):t5=$[9],$[10]!==className||$[11]!==t5?(t6=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper,{className},t5),$[10]=className,$[11]=t5,$[12]=t6):t6=$[12],t6}const __WEBPACK_DEFAULT_EXPORT__=Toggle;Toggle.__docgenInfo={description:"",methods:[],displayName:"Toggle"}},"./packages/story-editor/src/components/header/buttons/buttonWithChecklistWarning.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/i18n/src/i18n.ts"),styled_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),_app__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/app/index.js"),_constants_zIndex__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/story-editor/src/constants/zIndex.ts"),_utils_useIsUploadingToStory__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/utils/useIsUploadingToStory.js"),_checklist__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/story-editor/src/components/checklist/index.js"),_tooltip__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/story-editor/src/components/tooltip/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Button=(0,styled_components__WEBPACK_IMPORTED_MODULE_7__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.$).withConfig({displayName:"buttonWithChecklistWarning__Button",componentId:"sc-jm08jq-0"})(["padding:4px 6px;height:32px;svg{width:24px;height:auto;}"]),InnerButton=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Rf)((function InnerButton(t0,ref){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(17);let buttonProps,checkpoint,onClick,t1,text;$[0]!==t0?(({text,checkpoint,hasHighPriorityIssues:t1,onClick,...buttonProps}=t0),$[0]=t0,$[1]=buttonProps,$[2]=checkpoint,$[3]=onClick,$[4]=t1,$[5]=text):(buttonProps=$[1],checkpoint=$[2],onClick=$[3],t1=$[4],text=$[5]);const hasHighPriorityIssues=void 0!==t1&&t1;let t2;$[6]!==onClick?(t2=evt=>{evt.currentTarget.blur(),onClick?.(evt)},$[6]=onClick,$[7]=t2):t2=$[7];const handleClick=t2;let t3,t4;return $[8]!==checkpoint||$[9]!==hasHighPriorityIssues?(t3=hasHighPriorityIssues&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_checklist__WEBPACK_IMPORTED_MODULE_5__._r,{checkpoint}),$[8]=checkpoint,$[9]=hasHighPriorityIssues,$[10]=t3):t3=$[10],$[11]!==buttonProps||$[12]!==handleClick||$[13]!==ref||$[14]!==t3||$[15]!==text?(t4=react__WEBPACK_IMPORTED_MODULE_0__.createElement(Button,_extends({ref,variant:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.Ak.Rectangle,type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.VQ.Primary,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.Mp.Small,onClick:handleClick},buttonProps),text,t3),$[11]=buttonProps,$[12]=handleClick,$[13]=ref,$[14]=t3,$[15]=text,$[16]=t4):t4=$[16],t4}));InnerButton.propTypes={checkpoint:prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOf(Object.values(_checklist__WEBPACK_IMPORTED_MODULE_5__.xh)),hasHighPriorityIssues:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,onClick:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,text:prop_types__WEBPACK_IMPORTED_MODULE_10___default().node.isRequired};const ButtonWithChecklistWarning=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Rf)((function ButtonWithChecklistWarning(t0,ref){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(28);let buttonProps,disabled,hasFutureDate;$[0]!==t0?(({disabled,hasFutureDate,...buttonProps}=t0),$[0]=t0,$[1]=buttonProps,$[2]=disabled,$[3]=hasFutureDate):(buttonProps=$[1],disabled=$[2],hasFutureDate=$[3]);const isUploading=(0,_utils_useIsUploadingToStory__WEBPACK_IMPORTED_MODULE_4__.A)(),{isSaving,canPublish,status}=(0,_app__WEBPACK_IMPORTED_MODULE_3__.P3)(_temp),{checkpoint:checkpoint_0,hasHighPriorityIssues:hasHighPriorityIssues_0}=(0,_checklist__WEBPACK_IMPORTED_MODULE_5__.Em)(_temp2);let t1,t2,t3;$[4]!==hasHighPriorityIssues_0?(t1=hasHighPriorityIssues_0?(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_11__.__)("Make updates before publishing to improve discoverability and performance on search engines","web-stories"):"",$[4]=hasHighPriorityIssues_0,$[5]=t1):t1=$[5],$[6]===Symbol.for("react.memo_cache_sentinel")?(t2=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_11__.__)("Review checklist to improve performance before publishing","web-stories"),$[6]=t2):t2=$[6],$[7]!==t1?(t3={[_checklist__WEBPACK_IMPORTED_MODULE_5__.xh.ALL]:t1,[_checklist__WEBPACK_IMPORTED_MODULE_5__.xh.ONLY_RECOMMENDED]:t2,[_checklist__WEBPACK_IMPORTED_MODULE_5__.xh.UNAVAILABLE]:""},$[7]=t1,$[8]=t3):t3=$[8];const TOOLTIP_TEXT=t3;let t4;$[9]===Symbol.for("react.memo_cache_sentinel")?(t4=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_11__.__)("Saving is disabled due to media currently being uploaded.","web-stories"),$[9]=t4):t4=$[9];const TOOLTIP_TEXT_UPLOADING=t4;let t5;$[10]===Symbol.for("react.memo_cache_sentinel")?(t5=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_11__.__)("Submit your work for review, and an Editor will be able to approve it for you.","web-stories"),$[10]=t5):t5=$[10];const TOOLTIP_TEXT_REVIEW=t5;let t6,t7,toolTip=isUploading?TOOLTIP_TEXT_UPLOADING:TOOLTIP_TEXT[checkpoint_0];canPublish||(toolTip=TOOLTIP_TEXT_REVIEW),$[11]!==hasFutureDate||$[12]!==status?(t6=()=>hasFutureDate&&"private"!==status?(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_11__.__)("Schedule","web-stories"):(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_11__.__)("Publish","web-stories"),t7=[hasFutureDate,status],$[11]=hasFutureDate,$[12]=status,$[13]=t6,$[14]=t7):(t6=$[13],t7=$[14]);const publishText=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t6,t7);let t8;$[15]!==canPublish||$[16]!==publishText?(t8=canPublish?publishText:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_11__.__)("Submit for review","web-stories"),$[15]=canPublish,$[16]=publishText,$[17]=t8):t8=$[17];const text=t8,t9=disabled||isSaving||isUploading;let t10,t11;return $[18]!==buttonProps||$[19]!==checkpoint_0||$[20]!==hasHighPriorityIssues_0||$[21]!==ref||$[22]!==t9||$[23]!==text?(t10=react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerButton,_extends({ref,text,disabled:t9,checkpoint:checkpoint_0,hasHighPriorityIssues:hasHighPriorityIssues_0},buttonProps)),$[18]=buttonProps,$[19]=checkpoint_0,$[20]=hasHighPriorityIssues_0,$[21]=ref,$[22]=t9,$[23]=text,$[24]=t10):t10=$[24],$[25]!==t10||$[26]!==toolTip?(t11=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tooltip__WEBPACK_IMPORTED_MODULE_6__.A,{title:toolTip,popupZIndexOverride:_constants_zIndex__WEBPACK_IMPORTED_MODULE_12__.Xl,hasTail:!0,placement:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_13__.W.BottomEnd},t10),$[25]=t10,$[26]=toolTip,$[27]=t11):t11=$[27],t11})),__WEBPACK_DEFAULT_EXPORT__=ButtonWithChecklistWarning;function _temp(t0){const{state}=t0;return{isSaving:state.meta?.isSaving,status:state.story.status,canPublish:Boolean(state?.capabilities?.publish)}}function _temp2(t0){const{state:t1}=t0,{checkpoint,hasHighPriorityIssues}=t1;return{checkpoint,hasHighPriorityIssues}}ButtonWithChecklistWarning.propTypes={disabled:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,hasFutureDate:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool},ButtonWithChecklistWarning.__docgenInfo={description:"",methods:[],displayName:"ButtonWithChecklistWarning",props:{disabled:{description:"",type:{name:"bool"},required:!1},hasFutureDate:{description:"",type:{name:"bool"},required:!1}}}},"./packages/story-editor/src/components/panels/document/excerpt/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>EXCERPT_MAX_LENGTH});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),src=__webpack_require__("./packages/react/src/index.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),story=__webpack_require__("./packages/story-editor/src/app/story/index.ts"),components_form=__webpack_require__("./packages/story-editor/src/components/form/index.js"),panel=__webpack_require__("./packages/story-editor/src/components/panels/panel/index.js"),highlights=__webpack_require__("./packages/story-editor/src/app/highlights/index.ts"),styles=__webpack_require__("./packages/story-editor/src/app/highlights/styles.js");const StyledText=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).withConfig({displayName:"excerpt__StyledText",componentId:"sc-t9wjp4-0"})(["color:",";margin-top:-4px;"],(({theme})=>theme.colors.fg.tertiary)),EXCERPT_MAX_LENGTH=200;function ExcerptPanel(t0){const $=(0,dist.c)(24),{nameOverride}=t0,{excerpt:excerpt_0,updateStory:updateStory_0}=(0,story.P3)(_temp);let t1,t2;$[0]!==updateStory_0?(t1=evt=>{updateStory_0({properties:{excerpt:evt.target.value}})},t2=[updateStory_0],$[0]=updateStory_0,$[1]=t1,$[2]=t2):(t1=$[1],t2=$[2]);const handleTextChange=(0,src.hb)(t1,t2),{highlight,resetHighlight,cancelHighlight}=(0,highlights.N)(_temp2),t3=highlight?.showEffect&&styles.A.FLASH;let t4;$[3]!==resetHighlight?(t4=()=>resetHighlight(),$[3]=resetHighlight,$[4]=t4):t4=$[4];const t5=nameOverride||"excerpt";let t6;$[5]===Symbol.for("react.memo_cache_sentinel")?(t6=(0,i18n.__)("Story Description","web-stories"),$[5]=t6):t6=$[5];const t7=!highlight;let t8,t10,t9;$[6]!==cancelHighlight||$[7]!==highlight?.focus||$[8]!==highlight?.showEffect?(t8=node=>{node&&highlight?.focus&&highlight?.showEffect&&(node.addEventListener("keydown",cancelHighlight,{once:!0}),node.focus())},$[6]=cancelHighlight,$[7]=highlight?.focus,$[8]=highlight?.showEffect,$[9]=t8):t8=$[9],$[10]===Symbol.for("react.memo_cache_sentinel")?(t9=(0,i18n.__)("Write a description of the story","web-stories"),t10=(0,i18n.__)("Story Description","web-stories"),$[10]=t10,$[11]=t9):(t10=$[10],t9=$[11]);const t11=highlight?.showEffect&&styles.A.OUTLINE;let t12,t13,t14;return $[12]!==excerpt_0||$[13]!==handleTextChange||$[14]!==t11||$[15]!==t8?(t12=react.createElement(components_form.fI,null,react.createElement(_StyledTextArea,{ref:t8,value:excerpt_0,onChange:handleTextChange,placeholder:t9,"aria-label":t10,maxLength:EXCERPT_MAX_LENGTH,showCount:!0,rows:4,$_css:t11})),$[12]=excerpt_0,$[13]=handleTextChange,$[14]=t11,$[15]=t8,$[16]=t12):t12=$[16],$[17]===Symbol.for("react.memo_cache_sentinel")?(t13=react.createElement(components_form.fI,null,react.createElement(StyledText,{size:types.$.XSmall},(0,i18n.__)("Stories with a description tend to do better on search and have a wider reach","web-stories"))),$[17]=t13):t13=$[17],$[18]!==t12||$[19]!==t3||$[20]!==t4||$[21]!==t5||$[22]!==t7?(t14=react.createElement(_StyledSimplePanel,{onAnimationEnd:t4,name:t5,title:t6,collapsedByDefault:!1,isPersistable:t7,$_css2:t3},t12,t13),$[18]=t12,$[19]=t3,$[20]=t4,$[21]=t5,$[22]=t7,$[23]=t14):t14=$[23],t14}function _temp2(state){return{highlight:state[highlights.xP.Excerpt],resetHighlight:state.onFocusOut,cancelHighlight:state.cancelEffect}}function _temp(t0){const{state:t1,actions:t2}=t0,{story:t3}=t1,{excerpt:t4}=t3,excerpt=void 0===t4?"":t4,{updateStory}=t2;return{excerpt,updateStory}}ExcerptPanel.propTypes={nameOverride:prop_types_default().string},ExcerptPanel.__docgenInfo={description:"",methods:[],displayName:"ExcerptPanel",props:{nameOverride:{description:"",type:{name:"string"},required:!1}}};var _StyledTextArea=(0,styled_components_browser_esm.Ay)(components_form.fs).withConfig({displayName:"excerpt___StyledTextArea",componentId:"sc-t9wjp4-1"})(["",""],(p=>p.$_css)),_StyledSimplePanel=(0,styled_components_browser_esm.Ay)(panel.RV).withConfig({displayName:"excerpt___StyledSimplePanel",componentId:"sc-t9wjp4-2"})(["",""],(p=>p.$_css2))},"./packages/story-editor/src/components/panels/document/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ag:()=>pageAdvancement,Ej:()=>slug});__webpack_require__("./packages/story-editor/src/components/panels/document/excerpt/index.js");var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),src=__webpack_require__("./packages/react/src/index.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),story=__webpack_require__("./packages/story-editor/src/app/story/index.ts"),config=__webpack_require__("./packages/story-editor/src/app/config/index.ts"),generalPageAdvancement=__webpack_require__("./packages/story-editor/src/components/panels/shared/generalPageAdvancement.js");function PageAdvancementPanel(t0){const $=(0,dist.c)(11),{nameOverride}=t0,{globalPageDuration}=(0,config.UK)();let t1;$[0]!==globalPageDuration?(t1=t2=>{const{state:t3,actions:t4}=t2,{story:t5}=t3,{autoAdvance,defaultPageDuration}=t5,{updateStory}=t4;return{autoAdvance,defaultPageDuration:defaultPageDuration||globalPageDuration,updateStory}},$[0]=globalPageDuration,$[1]=t1):t1=$[1];const{autoAdvance:autoAdvance_0,defaultPageDuration:defaultPageDuration_0,updateStory:updateStory_0}=(0,story.P3)(t1);let t2,t3;$[2]!==updateStory_0?(t2=newProps=>{const{pageDuration,...rest}=newProps,properties={...rest,defaultPageDuration:pageDuration};updateStory_0({properties})},t3=[updateStory_0],$[2]=updateStory_0,$[3]=t2,$[4]=t3):(t2=$[3],t3=$[4]);const onUpdate=(0,src.hb)(t2,t3),t4=nameOverride||"pageAdvancement";let t5,t6;return $[5]===Symbol.for("react.memo_cache_sentinel")?(t5=(0,i18n.__)("Control whether a story auto-advances between pages, or whether the reader has to manually tap to advance.","web-stories"),$[5]=t5):t5=$[5],$[6]!==autoAdvance_0||$[7]!==defaultPageDuration_0||$[8]!==onUpdate||$[9]!==t4?(t6=react.createElement(generalPageAdvancement.A,{panelName:t4,collapsedByDefault:!1,onUpdate,autoAdvance:autoAdvance_0,pageDuration:defaultPageDuration_0},t5),$[6]=autoAdvance_0,$[7]=defaultPageDuration_0,$[8]=onUpdate,$[9]=t4,$[10]=t6):t6=$[10],t6}const pageAdvancement=PageAdvancementPanel;PageAdvancementPanel.propTypes={nameOverride:prop_types_default().string},PageAdvancementPanel.__docgenInfo={description:"",methods:[],displayName:"PageAdvancementPanel",props:{nameOverride:{description:"",type:{name:"string"},required:!1}}};var styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),input=__webpack_require__("./packages/design-system/src/components/input/input.tsx"),typography_link=__webpack_require__("./packages/design-system/src/components/typography/link/index.tsx"),types=__webpack_require__("./packages/design-system/src/theme/types.ts");function safeDecodeURIComponent(uriComponent){try{return decodeURIComponent(uriComponent)}catch{return uriComponent}}var cleanForSlug=__webpack_require__("./packages/story-editor/src/utils/cleanForSlug.ts"),components_form=__webpack_require__("./packages/story-editor/src/components/form/index.js"),panel=__webpack_require__("./packages/story-editor/src/components/panels/panel/index.js"),styles=__webpack_require__("./packages/story-editor/src/components/panels/shared/styles.js");const MIN_MAX_PERMALINK={MIN:1,MAX:200},PermalinkRow=(0,styled_components_browser_esm.Ay)(components_form.fI).withConfig({displayName:"slug__PermalinkRow",componentId:"sc-12ylqoy-0"})(["margin-bottom:12px;input{color:",";:active,:focus,:focus-visible{color:",";}}"],(({theme})=>theme.colors.fg.tertiary),(({theme})=>theme.colors.fg.primary)),LinkContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"slug__LinkContainer",componentId:"sc-12ylqoy-1"})(["margin-bottom:16px;"]);function SlugPanel(t0){const $=(0,dist.c)(31),{nameOverride}=t0,{slug:savedSlug,link:link_0,permalinkConfig:permalinkConfig_0,updateStory:updateStory_0}=(0,story.P3)(_temp),[slug_0,setSlug]=(0,src.J0)(savedSlug);let t1,t2,t3,t4;$[0]!==savedSlug||$[1]!==setSlug?(t1=()=>{setSlug(savedSlug)},$[0]=savedSlug,$[1]=setSlug,$[2]=t1):t1=$[2],$[3]!==savedSlug?(t2=[savedSlug],$[3]=savedSlug,$[4]=t2):t2=$[4],(0,src.vJ)(t1,t2),$[5]!==updateStory_0?(t3=value=>{const newSlug=value.slice(0,MIN_MAX_PERMALINK.MAX);updateStory_0({properties:{slug:(0,cleanForSlug.A)(newSlug)}})},t4=[updateStory_0],$[5]=updateStory_0,$[6]=t3,$[7]=t4):(t3=$[6],t4=$[7]);const updateSlug=(0,src.hb)(t3,t4);let t5,t6;$[8]!==setSlug?(t5=evt=>setSlug((0,cleanForSlug.A)(evt.target.value,!0)),$[8]=setSlug,$[9]=t5):t5=$[9],$[10]===Symbol.for("react.memo_cache_sentinel")?(t6=[],$[10]=t6):t6=$[10];const handleChange=(0,src.hb)(t5,t6);let t7,t8;$[11]!==updateSlug?(t7=evt_0=>updateSlug(evt_0.target.value),t8=[updateSlug],$[11]=updateSlug,$[12]=t7,$[13]=t8):(t7=$[12],t8=$[13]);const handleBlur=(0,src.hb)(t7,t8);let t9;$[14]!==link_0||$[15]!==permalinkConfig_0||$[16]!==slug_0?(t9=slug_0&&permalinkConfig_0&&((value,{MIN,MAX})=>value>=MIN&&value<=MAX)(slug_0.length,MIN_MAX_PERMALINK)?permalinkConfig_0.prefix+slug_0+permalinkConfig_0.suffix:link_0,$[14]=link_0,$[15]=permalinkConfig_0,$[16]=slug_0,$[17]=t9):t9=$[17];const displayLink=t9,t10=nameOverride||"permalink";let t11,t12,t13,t14;return $[18]===Symbol.for("react.memo_cache_sentinel")?(t11=(0,i18n.__)("Permalink","web-stories"),$[18]=t11):t11=$[18],$[19]!==handleBlur||$[20]!==handleChange||$[21]!==permalinkConfig_0||$[22]!==slug_0?(t12=permalinkConfig_0&&react.createElement(PermalinkRow,null,react.createElement(input.A,{value:String(slug_0),onChange:handleChange,onBlur:handleBlur,placeholder:(0,i18n.__)("Enter slug","web-stories"),"aria-label":(0,i18n.__)("URL slug","web-stories"),minLength:MIN_MAX_PERMALINK.MIN,maxLength:MIN_MAX_PERMALINK.MAX,containerStyleOverride:styles.t})),$[19]=handleBlur,$[20]=handleChange,$[21]=permalinkConfig_0,$[22]=slug_0,$[23]=t12):t12=$[23],$[24]!==displayLink||$[25]!==link_0?(t13=react.createElement(LinkContainer,null,react.createElement(typography_link.N,{rel:"noreferrer",target:"_blank",href:link_0,size:types.$.Small},displayLink)),$[24]=displayLink,$[25]=link_0,$[26]=t13):t13=$[26],$[27]!==t10||$[28]!==t12||$[29]!==t13?(t14=react.createElement(panel.RV,{name:t10,title:t11,collapsedByDefault:!1},t12,t13),$[27]=t10,$[28]=t12,$[29]=t13,$[30]=t14):t14=$[30],t14}function _temp(t0){const{state:t1,actions:t2}=t0,{story:t3}=t1,{slug:t4,link,permalinkConfig}=t3,slug=void 0===t4?"":t4,{updateStory}=t2;return{slug:safeDecodeURIComponent(slug),link,permalinkConfig,updateStory}}const slug=SlugPanel;SlugPanel.propTypes={nameOverride:prop_types_default().string},SlugPanel.__docgenInfo={description:"",methods:[],displayName:"SlugPanel",props:{nameOverride:{description:"",type:{name:"string"},required:!1}}};var typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),app=__webpack_require__("./packages/story-editor/src/app/index.js"),backgroundAudioPanelContent=__webpack_require__("./packages/story-editor/src/components/panels/shared/media/backgroundAudioPanelContent.js");const HelperText=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).attrs({size:types.$.Small}).withConfig({displayName:"backgroundAudio__HelperText",componentId:"sc-1n4veap-0"})(["color:",";"],(({theme})=>theme.colors.fg.secondary));function BackgroundAudioPanel(t0){const $=(0,dist.c)(11),{nameOverride}=t0,{capabilities:t1}=(0,app.UK)(),{hasUploadMediaAction}=t1,{backgroundAudio:backgroundAudio_0,updateStory:updateStory_0}=(0,story.P3)(backgroundAudio_temp);let t2,t3;$[0]!==updateStory_0?(t2=updatedBackgroundAudio=>{updateStory_0({properties:{backgroundAudio:updatedBackgroundAudio}})},t3=[updateStory_0],$[0]=updateStory_0,$[1]=t2,$[2]=t3):(t2=$[1],t3=$[2]);const updateBackgroundAudio=(0,src.hb)(t2,t3);if(!backgroundAudio_0&&!hasUploadMediaAction)return null;const t4=nameOverride||"backgroundAudio";let t5,t6,t7,t8;return $[3]===Symbol.for("react.memo_cache_sentinel")?(t5=(0,i18n.__)("Background Audio","web-stories"),$[3]=t5):t5=$[3],$[4]===Symbol.for("react.memo_cache_sentinel")?(t6=react.createElement(components_form.fI,null,react.createElement(HelperText,null,(0,i18n.__)("Select an audio file that plays throughout the story.","web-stories"))),$[4]=t6):t6=$[4],$[5]!==backgroundAudio_0||$[6]!==updateBackgroundAudio?(t7=react.createElement(components_form.fI,null,react.createElement(backgroundAudioPanelContent.A,{backgroundAudio:backgroundAudio_0,updateBackgroundAudio})),$[5]=backgroundAudio_0,$[6]=updateBackgroundAudio,$[7]=t7):t7=$[7],$[8]!==t4||$[9]!==t7?(t8=react.createElement(panel.RV,{name:t4,title:t5,collapsedByDefault:!0},t6,t7),$[8]=t4,$[9]=t7,$[10]=t8):t8=$[10],t8}function backgroundAudio_temp(t0){const{state:t1,actions:t2}=t0,{story:t3}=t1,{backgroundAudio}=t3,{updateStory}=t2;return{backgroundAudio,updateStory}}BackgroundAudioPanel.propTypes={nameOverride:prop_types_default().string},BackgroundAudioPanel.__docgenInfo={description:"",methods:[],displayName:"BackgroundAudioPanel",props:{nameOverride:{description:"",type:{name:"string"},required:!1}}};__webpack_require__("./packages/story-editor/src/components/panels/document/taxonomies/taxonomies.js")},"./packages/story-editor/src/components/panels/shared/generalPageAdvancement.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_17__),styled_components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./packages/i18n/src/sprintf.ts"),uuid__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js"),_googleforcreators_tracking__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/tracking/src/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/design-system/src/components/toggle/toggle.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/design-system/src/components/input/numericInput.tsx"),_googleforcreators_units__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/units/src/range.ts"),_googleforcreators_output__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/output/src/index.ts"),_form__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/story-editor/src/components/form/index.js"),_panel__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/story-editor/src/components/panels/panel/index.js"),_styles__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/story-editor/src/components/panels/shared/styles.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SwitchRow=styled_components__WEBPACK_IMPORTED_MODULE_8__.Ay.div.withConfig({displayName:"generalPageAdvancement__SwitchRow",componentId:"sc-12jhjbx-0"})(["margin-bottom:16px;"]),JustifyEndRow=(0,styled_components__WEBPACK_IMPORTED_MODULE_8__.Ay)(_form__WEBPACK_IMPORTED_MODULE_5__.fI).withConfig({displayName:"generalPageAdvancement__JustifyEndRow",componentId:"sc-12jhjbx-1"})(["justify-content:flex-end;gap:8px;"]),MutedText=(0,styled_components__WEBPACK_IMPORTED_MODULE_8__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.E.Paragraph).attrs({size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.$.Small}).withConfig({displayName:"generalPageAdvancement__MutedText",componentId:"sc-12jhjbx-2"})(["color:",";"],(({theme})=>theme.colors.fg.secondary)),LabelText=(0,styled_components__WEBPACK_IMPORTED_MODULE_8__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.E.Label).attrs({size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.$.Small}).withConfig({displayName:"generalPageAdvancement__LabelText",componentId:"sc-12jhjbx-3"})(["color:",";"],(({theme})=>theme.colors.fg.secondary)),MIN_MAX_PAGE_DURATION={MIN:1,MAX:20};function GeneralPageAdvancementPanel(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(60);let children,onUpdate,panelName,rest,t1,t2,t3,t4;$[0]!==t0?(({pageDuration:t1,autoAdvance:t2,onUpdate,allowsOverride:t3,hasOverrideEnabled:t4,children,panelName,...rest}=t0),$[0]=t0,$[1]=children,$[2]=onUpdate,$[3]=panelName,$[4]=rest,$[5]=t1,$[6]=t2,$[7]=t3,$[8]=t4):(children=$[1],onUpdate=$[2],panelName=$[3],rest=$[4],t1=$[5],t2=$[6],t3=$[7],t4=$[8]);const pageDuration=void 0===t1?_googleforcreators_output__WEBPACK_IMPORTED_MODULE_4__.h4:t1,autoAdvance=void 0===t2?_googleforcreators_output__WEBPACK_IMPORTED_MODULE_4__.Pn:t2,allowsOverride=void 0!==t3&&t3,hasOverrideEnabled=void 0!==t4&&t4,[duration,setDuration]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.J0)(pageDuration);let t5,t6,t7,t8;$[9]!==pageDuration||$[10]!==setDuration?(t5=()=>{setDuration(pageDuration)},$[9]=pageDuration,$[10]=setDuration,$[11]=t5):t5=$[11],$[12]!==pageDuration?(t6=[pageDuration],$[12]=pageDuration,$[13]=t6):t6=$[13],(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.vJ)(t5,t6),$[14]!==duration||$[15]!==onUpdate?(t7=(_evt,value)=>{onUpdate({autoAdvance:value}),(0,_googleforcreators_tracking__WEBPACK_IMPORTED_MODULE_3__.sx)("change_page_advancement",{status:value?"auto":"manual",duration})},t8=[onUpdate,duration],$[14]=duration,$[15]=onUpdate,$[16]=t7,$[17]=t8):(t7=$[16],t8=$[17]);const onAdvanceChange=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t7,t8);let t9;$[18]!==autoAdvance||$[19]!==onUpdate||$[20]!==pageDuration||$[21]!==setDuration?(t9=value_0=>{const newValue=(0,_googleforcreators_units__WEBPACK_IMPORTED_MODULE_11__.qE)(value_0,MIN_MAX_PAGE_DURATION);value_0!==newValue&&setDuration(newValue),pageDuration!==newValue&&(onUpdate({pageDuration:newValue}),(0,_googleforcreators_tracking__WEBPACK_IMPORTED_MODULE_3__.sx)("change_page_advancement",{status:autoAdvance?"auto":"manual",duration:newValue}))},$[18]=autoAdvance,$[19]=onUpdate,$[20]=pageDuration,$[21]=setDuration,$[22]=t9):t9=$[22];const updatePageDuration=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.YQ)(t9,800);let t10,t11;$[23]!==setDuration||$[24]!==updatePageDuration?(t10=(_evt_0,newValue_0)=>{setDuration(newValue_0),updatePageDuration(newValue_0)},$[23]=setDuration,$[24]=updatePageDuration,$[25]=t10):t10=$[25],$[26]!==updatePageDuration?(t11=[updatePageDuration],$[26]=updatePageDuration,$[27]=t11):t11=$[27];const onDurationChange=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t10,t11);let t12,t13;$[28]!==hasOverrideEnabled||$[29]!==onUpdate?(t12=()=>onUpdate({override:!hasOverrideEnabled}),t13=[hasOverrideEnabled,onUpdate],$[28]=hasOverrideEnabled,$[29]=onUpdate,$[30]=t12,$[31]=t13):(t12=$[30],t13=$[31]);const onOverrideChange=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t12,t13),customAdvancementDisabled=allowsOverride&&!hasOverrideEnabled;let t14;$[32]===Symbol.for("react.memo_cache_sentinel")?(t14=[],$[32]=t14):t14=$[32];const toggleId=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(_temp,t14);let t15,t16,t17,t18,t19,t20,t21,t22,t23;return $[33]===Symbol.for("react.memo_cache_sentinel")?(t15=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Page Advancement","web-stories"),$[33]=t15):t15=$[33],$[34]!==children?(t16=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_form__WEBPACK_IMPORTED_MODULE_5__.fI,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(MutedText,null,children)),$[34]=children,$[35]=t16):t16=$[35],$[36]!==allowsOverride||$[37]!==hasOverrideEnabled||$[38]!==onOverrideChange||$[39]!==toggleId?(t17=allowsOverride&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(JustifyEndRow,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(LabelText,{htmlFor:toggleId},(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Override Story Defaults","web-stories")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_13__.A,{id:toggleId,checked:hasOverrideEnabled,onChange:onOverrideChange})),$[36]=allowsOverride,$[37]=hasOverrideEnabled,$[38]=onOverrideChange,$[39]=toggleId,$[40]=t17):t17=$[40],$[41]===Symbol.for("react.memo_cache_sentinel")?(t18=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Page Advancement","web-stories"),$[41]=t18):t18=$[41],$[42]===Symbol.for("react.memo_cache_sentinel")?(t19=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Auto","web-stories"),t20=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Manual","web-stories"),$[42]=t19,$[43]=t20):(t19=$[42],t20=$[43]),$[44]!==autoAdvance||$[45]!==customAdvancementDisabled||$[46]!==onAdvanceChange?(t21=react__WEBPACK_IMPORTED_MODULE_0__.createElement(SwitchRow,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_form__WEBPACK_IMPORTED_MODULE_5__.dO,{groupLabel:t18,name:"page-advancement-switch",value:autoAdvance,onLabel:t19,offLabel:t20,disabled:customAdvancementDisabled,onChange:onAdvanceChange})),$[44]=autoAdvance,$[45]=customAdvancementDisabled,$[46]=onAdvanceChange,$[47]=t21):t21=$[47],$[48]!==autoAdvance||$[49]!==customAdvancementDisabled||$[50]!==duration||$[51]!==onDurationChange?(t22=autoAdvance&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_form__WEBPACK_IMPORTED_MODULE_5__.fI,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_14__.A,{unit:` ${(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("seconds","web-stories")}`,suffix:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Duration","web-stories"),value:duration,onChange:onDurationChange,"aria-label":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Default page duration in seconds","web-stories"),min:MIN_MAX_PAGE_DURATION.MIN,max:MIN_MAX_PAGE_DURATION.MAX,disabled:customAdvancementDisabled,containerStyleOverride:_styles__WEBPACK_IMPORTED_MODULE_7__.t})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MutedText,null,(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_15__.A)((0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_12__._n)("Duration between %1$d and %2$d second.","Duration between %1$d and %2$d seconds.",MIN_MAX_PAGE_DURATION.MAX,"web-stories"),MIN_MAX_PAGE_DURATION.MIN,MIN_MAX_PAGE_DURATION.MAX))),$[48]=autoAdvance,$[49]=customAdvancementDisabled,$[50]=duration,$[51]=onDurationChange,$[52]=t22):t22=$[52],$[53]!==panelName||$[54]!==rest||$[55]!==t16||$[56]!==t17||$[57]!==t21||$[58]!==t22?(t23=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_panel__WEBPACK_IMPORTED_MODULE_6__.RV,_extends({name:panelName,title:t15},rest),t16,t17,t21,t22),$[53]=panelName,$[54]=rest,$[55]=t16,$[56]=t17,$[57]=t21,$[58]=t22,$[59]=t23):t23=$[59],t23}function _temp(){return`toggle_${(0,uuid__WEBPACK_IMPORTED_MODULE_16__.A)()}`}const __WEBPACK_DEFAULT_EXPORT__=GeneralPageAdvancementPanel;GeneralPageAdvancementPanel.propTypes={pageDuration:prop_types__WEBPACK_IMPORTED_MODULE_17___default().number,autoAdvance:prop_types__WEBPACK_IMPORTED_MODULE_17___default().bool,onUpdate:prop_types__WEBPACK_IMPORTED_MODULE_17___default().func.isRequired,allowsOverride:prop_types__WEBPACK_IMPORTED_MODULE_17___default().bool,hasOverrideEnabled:prop_types__WEBPACK_IMPORTED_MODULE_17___default().bool,children:prop_types__WEBPACK_IMPORTED_MODULE_17___default().node,panelName:prop_types__WEBPACK_IMPORTED_MODULE_17___default().string.isRequired},GeneralPageAdvancementPanel.__docgenInfo={description:"",methods:[],displayName:"GeneralPageAdvancementPanel",props:{pageDuration:{defaultValue:{value:"DEFAULT_PAGE_DURATION",computed:!0},description:"",type:{name:"number"},required:!1},autoAdvance:{defaultValue:{value:"DEFAULT_AUTO_ADVANCE",computed:!0},description:"",type:{name:"bool"},required:!1},allowsOverride:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},hasOverrideEnabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onUpdate:{description:"",type:{name:"func"},required:!0},children:{description:"",type:{name:"node"},required:!1},panelName:{description:"",type:{name:"string"},required:!0}}}},"./packages/story-editor/src/components/panels/shared/media/backgroundAudioPanelContent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>backgroundAudioPanelContent});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),button_button=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),outline=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),translateToExclusiveList=__webpack_require__("./packages/i18n/src/translateToExclusiveList.ts"),react_src=__webpack_require__("./packages/react/src/index.ts"),preloadVideo=__webpack_require__("./packages/media/src/preloadVideo.ts"),getVideoLength=__webpack_require__("./packages/media/src/getVideoLength.ts"),src_mimeTypes=__webpack_require__("./packages/media/src/mimeTypes.ts"),propTypes=__webpack_require__("./packages/media/src/types/propTypes.ts"),v4=__webpack_require__("./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js"),src=__webpack_require__("./packages/tracking/src/index.ts"),config=__webpack_require__("./packages/story-editor/src/app/config/index.ts"),components_form=__webpack_require__("./packages/story-editor/src/components/form/index.js"),useCORSProxy=__webpack_require__("./packages/story-editor/src/utils/useCORSProxy.ts"),hotlinkModal=__webpack_require__("./packages/story-editor/src/components/hotlinkModal/index.js"),noop=__webpack_require__("./packages/story-editor/src/utils/noop.ts"),captionsPanelContent=__webpack_require__("./packages/story-editor/src/components/panels/shared/media/captionsPanelContent.js"),loopPanelContent=__webpack_require__("./packages/story-editor/src/components/panels/shared/media/loopPanelContent.js"),play_filled=__webpack_require__("./packages/design-system/src/icons/play_filled.svg"),stop_filled=__webpack_require__("./packages/design-system/src/icons/stop_filled.svg"),expandPresetStyles=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),zIndex=__webpack_require__("./packages/story-editor/src/constants/zIndex.ts"),tooltip=__webpack_require__("./packages/story-editor/src/components/tooltip/index.js");const Play=(0,styled_components_browser_esm.Ay)(play_filled.A).withConfig({displayName:"audioPlayer__Play",componentId:"sc-gch3p5-0"})(["width:30px !important;height:30px !important;"]),Stop=(0,styled_components_browser_esm.Ay)(stop_filled.A).withConfig({displayName:"audioPlayer__Stop",componentId:"sc-gch3p5-1"})(["width:30px !important;height:30px !important;"]),StyledButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"audioPlayer__StyledButton",componentId:"sc-gch3p5-2"})(["",";"],(({theme})=>outline.Q(theme.colors.border.focus,theme.colors.bg.secondary))),Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"audioPlayer__Wrapper",componentId:"sc-gch3p5-3"})((({theme})=>(0,styled_components_browser_esm.AH)(["color:",";",";"],theme.colors.fg.primary,expandPresetStyles.s({preset:{...theme.typography.presets.paragraph[types.$.Small]},theme})))),Audio=styled_components_browser_esm.Ay.audio.withConfig({displayName:"audioPlayer__Audio",componentId:"sc-gch3p5-4"})(["display:none;"]);function AudioPlayer(t0){const $=(0,dist.c)(36),{src,mimeType,tracks:t1,audioId,loop,playerRef}=t0,tracks=void 0===t1?[]:t1,[isPlaying,setIsPlaying]=(0,react_src.J0)(!1),{getProxiedUrl}=(0,useCORSProxy.A)();let t2,t3;$[0]!==isPlaying||$[1]!==playerRef?(t2=()=>{const player=playerRef.current;player&&(isPlaying?player.pause():player.play().catch(noop.l))},t3=[isPlaying,playerRef],$[0]=isPlaying,$[1]=playerRef,$[2]=t2,$[3]=t3):(t2=$[2],t3=$[3]);const handlePlayPause=(0,react_src.hb)(t2,t3);let t4,t5,t6;$[4]!==playerRef||$[5]!==setIsPlaying?(t4=()=>{const player_0=playerRef.current;if(!player_0)return;const onAudioPlay=()=>setIsPlaying(!0),onAudioPause=()=>setIsPlaying(!1),onAudioEnd=()=>{player_0.currentTime=0,setIsPlaying(!1)};return player_0.addEventListener("play",onAudioPlay),player_0.addEventListener("pause",onAudioPause),player_0.addEventListener("ended",onAudioEnd),()=>{player_0.removeEventListener("play",onAudioPlay),player_0.removeEventListener("pause",onAudioPause),player_0.removeEventListener("ended",onAudioEnd)}},$[4]=playerRef,$[5]=setIsPlaying,$[6]=t4):t4=$[6],$[7]!==playerRef?(t5=[playerRef],$[7]=playerRef,$[8]=t5):t5=$[8],(0,react_src.vJ)(t4,t5),$[9]!==isPlaying?(t6=isPlaying?(0,i18n.__)("Pause","web-stories"):(0,i18n.__)("Play","web-stories"),$[9]=isPlaying,$[10]=t6):t6=$[10];const buttonTitle=t6;let t7;$[11]!==getProxiedUrl?(t7=track=>{const trackSrc=getProxiedUrl(track,track?.track);return{...track,track:trackSrc}},$[11]=getProxiedUrl,$[12]=t7):t7=$[12];const tracksFormatted=tracks.map(t7),T0=Wrapper,T1=Audio;let t9;$[13]!==mimeType||$[14]!==src?(t9=react.createElement("source",{src,type:mimeType}),$[13]=mimeType,$[14]=src,$[15]=t9):t9=$[15];const t10=tracksFormatted&&tracksFormatted.map(_temp);let t11,t12,t13,t14,t15;return $[16]!==T1||$[17]!==audioId||$[18]!==loop||$[19]!==playerRef||$[20]!==t10||$[21]!==t9?(t11=react.createElement(T1,{crossOrigin:"anonymous",loop,ref:playerRef,id:audioId},t9,t10),$[16]=T1,$[17]=audioId,$[18]=loop,$[19]=playerRef,$[20]=t10,$[21]=t9,$[22]=t11):t11=$[22],$[23]!==isPlaying?(t12=isPlaying?react.createElement(Stop,null):react.createElement(Play,null),$[23]=isPlaying,$[24]=t12):t12=$[24],$[25]!==buttonTitle||$[26]!==handlePlayPause||$[27]!==t12?(t13=react.createElement(StyledButton,{type:constants.VQ.Tertiary,size:constants.Mp.Small,variant:constants.Ak.Square,"aria-label":buttonTitle,onClick:handlePlayPause},t12),$[25]=buttonTitle,$[26]=handlePlayPause,$[27]=t12,$[28]=t13):t13=$[28],$[29]!==buttonTitle||$[30]!==t13?(t14=react.createElement(tooltip.A,{hasTail:!0,title:buttonTitle,popupZIndexOverride:zIndex.Xl},t13),$[29]=buttonTitle,$[30]=t13,$[31]=t14):t14=$[31],$[32]!==T0||$[33]!==t11||$[34]!==t14?(t15=react.createElement(T0,null,t11,t14),$[32]=T0,$[33]=t11,$[34]=t14,$[35]=t15):t15=$[35],t15}function _temp(t0,i){const{srclang,label,track:trackSrc_0,id:key}=t0;return react.createElement("track",{srcLang:srclang,label,kind:"metadata",src:trackSrc_0,key,default:0===i})}AudioPlayer.propTypes={src:prop_types_default().string.isRequired,mimeType:prop_types_default().string.isRequired,audioId:prop_types_default().string,loop:prop_types_default().bool,tracks:prop_types_default().arrayOf(propTypes.TL.trackResource),playerRef:prop_types_default().shape({current:prop_types_default().instanceOf(Element)}).isRequired};const audioPlayer=AudioPlayer;AudioPlayer.__docgenInfo={description:"",methods:[],displayName:"AudioPlayer",props:{tracks:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"custom",raw:"ResourcePropTypes.trackResource"}},required:!1},src:{description:"",type:{name:"string"},required:!0},mimeType:{description:"",type:{name:"string"},required:!0},audioId:{description:"",type:{name:"string"},required:!1},loop:{description:"",type:{name:"bool"},required:!1},playerRef:{description:"",type:{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}},required:!0}}};var fileRow=__webpack_require__("./packages/story-editor/src/components/panels/shared/media/fileRow.js");const backgroundAudioPanelContent_StyledButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"backgroundAudioPanelContent__StyledButton",componentId:"sc-t2iem8-0"})(["",";"],(({theme})=>outline.Q(theme.colors.border.focus,theme.colors.bg.secondary))),UploadButton=(0,styled_components_browser_esm.Ay)(backgroundAudioPanelContent_StyledButton).withConfig({displayName:"backgroundAudioPanelContent__UploadButton",componentId:"sc-t2iem8-1"})(["padding:12px 8px;"]),ButtonRow=(0,styled_components_browser_esm.Ay)(components_form.fI).withConfig({displayName:"backgroundAudioPanelContent__ButtonRow",componentId:"sc-t2iem8-2"})(["gap:12px;"]),SectionHeading=(0,styled_components_browser_esm.Ay)(typography_text.E.Paragraph).attrs({size:types.$.Small}).withConfig({displayName:"backgroundAudioPanelContent__SectionHeading",componentId:"sc-t2iem8-3"})(["font-weight:bold;margin-bottom:12px;"]);function BackgroundAudioPanelContent(t0){const $=(0,dist.c)(61),{backgroundAudio,updateBackgroundAudio,showCaptions:t1,showLoopControl:t2,audioId}=t0,showCaptions=void 0!==t1&&t1,showLoopControl=void 0!==t2&&t2,{allowedMimeTypes:t3,capabilities:t4,MediaUpload}=(0,config.UK)(),{audio:allowedAudioMimeTypes}=t3,{hasUploadMediaAction}=t4,[isOpen,setIsOpen]=(0,react_src.J0)(!1),{getProxiedUrl}=(0,useCORSProxy.A)();let t5,t6;$[0]!==allowedAudioMimeTypes?(t5=()=>allowedAudioMimeTypes.flatMap(backgroundAudioPanelContent_temp),t6=[allowedAudioMimeTypes],$[0]=allowedAudioMimeTypes,$[1]=t5,$[2]=t6):(t5=$[1],t6=$[2]);const allowedAudioFileTypes=(0,react_src.Kr)(t5,t6),{resource:t7,tracks:t8,loop:t9}=backgroundAudio||{},resource=void 0===t7?{}:t7,tracks=void 0===t8?[]:t8,loop=void 0===t9||t9,playerRef=(0,react_src.li)(),audioSrcProxied=getProxiedUrl(resource,resource?.src);let t10;$[3]!==allowedAudioFileTypes?(t10=(0,sprintf.A)((0,i18n.__)("Please choose only %s to insert into page.","web-stories"),(0,translateToExclusiveList.A)(allowedAudioFileTypes)),$[3]=allowedAudioFileTypes,$[4]=t10):t10=$[4];const onSelectErrorMessage=t10;let t11,t12;$[5]!==showCaptions||$[6]!==showLoopControl||$[7]!==updateBackgroundAudio?(t11=t13=>{const{src,id,mimeType,needsProxy,length,lengthFormatted}=t13,updatedBackgroundAudio={resource:{src,id,mimeType,length,lengthFormatted,needsProxy}};showCaptions&&(updatedBackgroundAudio.tracks=[]),showLoopControl&&(updatedBackgroundAudio.loop=!0),updateBackgroundAudio(updatedBackgroundAudio)},t12=[showCaptions,showLoopControl,updateBackgroundAudio],$[5]=showCaptions,$[6]=showLoopControl,$[7]=updateBackgroundAudio,$[8]=t11,$[9]=t12):(t11=$[8],t12=$[9]);const onSelect=(0,react_src.hb)(t11,t12);let t13,t14;$[10]!==getProxiedUrl||$[11]!==onSelect||$[12]!==setIsOpen?(t13=async t14=>{const{link,hotlinkInfo,needsProxy:needsProxy_0}=t14,{mimeType:mimeType_0}=hotlinkInfo,audioProxied=getProxiedUrl({needsProxy:needsProxy_0},link),videoEl=await(0,preloadVideo.A)(audioProxied),{length:length_0,lengthFormatted:lengthFormatted_0}=(0,getVideoLength.A)(videoEl);onSelect({src:link,mimeType:mimeType_0,length:length_0,lengthFormatted:lengthFormatted_0,needsProxy:needsProxy_0}),setIsOpen(!1),(0,src.sx)("hotlink_audio",{event_label:link,file_size:hotlinkInfo.fileSize,file_type:hotlinkInfo.mimeType,needs_proxy:needsProxy_0}),setIsOpen(!1)},$[10]=getProxiedUrl,$[11]=onSelect,$[12]=setIsOpen,$[13]=t13):t13=$[13],$[14]!==getProxiedUrl||$[15]!==onSelect?(t14=[getProxiedUrl,onSelect],$[14]=getProxiedUrl,$[15]=onSelect,$[16]=t14):t14=$[16];const onSelectHotlink=(0,react_src.hb)(t13,t14);let t15;$[17]===Symbol.for("react.memo_cache_sentinel")?(t15=[],$[17]=t15):t15=$[17];const onError=(0,react_src.hb)(_temp2,t15);let t16,t17;$[18]!==backgroundAudio||$[19]!==updateBackgroundAudio?(t16=newTracks=>{updateBackgroundAudio({...backgroundAudio,tracks:newTracks})},t17=[backgroundAudio,updateBackgroundAudio],$[18]=backgroundAudio,$[19]=updateBackgroundAudio,$[20]=t16,$[21]=t17):(t16=$[20],t17=$[21]);const updateTracks=(0,react_src.hb)(t16,t17);let t18,t19;$[22]!==backgroundAudio||$[23]!==updateBackgroundAudio?(t18=evt=>{updateBackgroundAudio({...backgroundAudio,loop:evt.target.checked})},t19=[backgroundAudio,updateBackgroundAudio],$[22]=backgroundAudio,$[23]=updateBackgroundAudio,$[24]=t18,$[25]=t19):(t18=$[24],t19=$[25]);const onChangeLoop=(0,react_src.hb)(t18,t19),handleRemoveTrack=(0,react_src.hb)((idToDelete=>{let newTracks_0=[];if(idToDelete){const trackIndex=tracks.findIndex((t20=>{const{id:id_0}=t20;return id_0===idToDelete}));newTracks_0=[...tracks.slice(0,trackIndex),...tracks.slice(trackIndex+1)]}updateTracks(newTracks_0)}),[tracks,updateTracks]);let t21,t22;$[26]!==updateTracks?(t21=t23=>{const{src:t24,id:id_1,needsProxy:t25}=t23,needsProxy_1=void 0!==t25&&t25,newTrack={track:void 0===t24?"":t24,trackId:id_1,id:(0,v4.A)(),kind:"captions",srclang:"",label:"",needsProxy:needsProxy_1};updateTracks([newTrack])},t22=[updateTracks],$[26]=updateTracks,$[27]=t21,$[28]=t22):(t21=$[27],t22=$[28]);const handleChangeTrack=(0,react_src.hb)(t21,t22);let t23;$[29]===Symbol.for("react.memo_cache_sentinel")?(t23=[],$[29]=t23):t23=$[29];const renderUploadButton=(0,react_src.hb)(_temp3,t23);let t24;$[30]===Symbol.for("react.memo_cache_sentinel")?(t24=[],$[30]=t24):t24=$[30];const renderUploadCaptionButton=(0,react_src.hb)(_temp4,t24);let t25,t26;$[31]!==playerRef||$[32]!==updateBackgroundAudio?(t25=()=>{playerRef.current&&playerRef.current.pause(),updateBackgroundAudio(null)},t26=[updateBackgroundAudio,playerRef],$[31]=playerRef,$[32]=updateBackgroundAudio,$[33]=t25,$[34]=t26):(t25=$[33],t26=$[34]);const handleRemove=(0,react_src.hb)(t25,t26);let t27,t28,t29,t30;$[35]!==allowedAudioMimeTypes||$[36]!==hasUploadMediaAction||$[37]!==onSelect?(t27=hasUploadMediaAction&&{label:(0,i18n.__)("Upload a file","web-stories"),value:"upload",onClick:noop.l,mediaPickerProps:{onSelect,onSelectErrorMessage:(0,i18n.__)("Please choose a VTT file to use as caption.","web-stories"),type:allowedAudioMimeTypes,title:(0,i18n.__)("Upload an audio file","web-stories"),buttonInsertText:(0,i18n.__)("Select audio file","web-stories")}},$[35]=allowedAudioMimeTypes,$[36]=hasUploadMediaAction,$[37]=onSelect,$[38]=t27):t27=$[38],$[39]===Symbol.for("react.memo_cache_sentinel")?(t28=(0,i18n.__)("Link to a file","web-stories"),$[39]=t28):t28=$[39],$[40]!==setIsOpen?(t29={label:t28,value:"hotlink",onClick:()=>{setIsOpen(!0)}},$[40]=setIsOpen,$[41]=t29):t29=$[41],$[42]!==t27||$[43]!==t29?(t30=[t27,t29].filter(Boolean),$[42]=t27,$[43]=t29,$[44]=t30):t30=$[44];const options=t30,t31=!resource?.src&&react.createElement(ButtonRow,{spaceBetween:!1},hasUploadMediaAction&&react.createElement(MediaUpload,{onSelect,onSelectErrorMessage,type:allowedAudioMimeTypes,title:(0,i18n.__)("Upload an audio file","web-stories"),buttonInsertText:(0,i18n.__)("Select audio file","web-stories"),render:renderUploadButton}),react.createElement(UploadButton,{variant:constants.Ak.Rectangle,type:constants.VQ.Secondary,size:constants.Mp.Small,onClick:()=>setIsOpen(!0)},(0,i18n.__)("Link to audio file","web-stories"))),t32=resource?.src&&react.createElement(react.Fragment,null,react.createElement(fileRow.A,{id:resource.id,src:resource.src,title:resource.src.split("/").pop(),isExternal:!resource.id,options,onRemove:handleRemove,removeItemLabel:(0,i18n.__)("Remove file","web-stories")},react.createElement(audioPlayer,{title:resource.src.substring(resource?.src.lastIndexOf("/")+1),src:audioSrcProxied,mimeType:resource.mimeType,tracks,audioId,playerRef,loop})),showCaptions&&react.createElement(react.Fragment,null,react.createElement(SectionHeading,null,(0,i18n.__)("Caption and Subtitles","web-stories")),react.createElement(captionsPanelContent.A,{captionText:(0,i18n.__)("Upload a file","web-stories"),tracks:tracks||[],handleChangeTrack,handleRemoveTrack,renderUploadButton:renderUploadCaptionButton})),showLoopControl&&resource?.length>0&&react.createElement(react.Fragment,null,react.createElement(SectionHeading,null,(0,i18n.__)("Options","web-stories")),react.createElement(components_form.fI,{spaceBetween:!1},react.createElement(loopPanelContent.A,{loop,onChange:onChangeLoop}))));let t33,t34,t35,t36;$[45]===Symbol.for("react.memo_cache_sentinel")?(t33=(0,i18n.__)("Insert external background audio","web-stories"),$[45]=t33):t33=$[45],$[46]!==setIsOpen?(t34=()=>setIsOpen(!1),$[46]=setIsOpen,$[47]=t34):t34=$[47],$[48]===Symbol.for("react.memo_cache_sentinel")?(t35=(0,i18n.__)("Use audio file","web-stories"),t36=(0,i18n.__)("Selecting audio file","web-stories"),$[48]=t35,$[49]=t36):(t35=$[48],t36=$[49]);const t37=!showCaptions&&!showLoopControl;let t38,t39;return $[50]!==allowedAudioFileTypes||$[51]!==isOpen||$[52]!==onError||$[53]!==onSelectHotlink||$[54]!==t34||$[55]!==t37?(t38=react.createElement(hotlinkModal.A,{title:t33,isOpen,onError,onSelect:onSelectHotlink,onClose:t34,allowedFileTypes:allowedAudioFileTypes,insertText:t35,insertingText:t36,canUseProxy:t37}),$[50]=allowedAudioFileTypes,$[51]=isOpen,$[52]=onError,$[53]=onSelectHotlink,$[54]=t34,$[55]=t37,$[56]=t38):t38=$[56],$[57]!==t31||$[58]!==t32||$[59]!==t38?(t39=react.createElement(react.Fragment,null,t31,t32,t38),$[57]=t31,$[58]=t32,$[59]=t38,$[60]=t39):t39=$[60],t39}function _temp4(open_0){return react.createElement(UploadButton,{onClick:open_0,type:constants.VQ.Secondary,size:constants.Mp.Small,variant:constants.Ak.Rectangle},(0,i18n.__)("Upload audio captions","web-stories"))}function _temp3(open){return react.createElement(UploadButton,{onClick:open,type:constants.VQ.Secondary,size:constants.Mp.Small,variant:constants.Ak.Rectangle},(0,i18n.__)("Upload an audio file","web-stories"))}function _temp2(err){return(0,src.Oz)("hotlink_audio",err?.message)}function backgroundAudioPanelContent_temp(type){return(0,src_mimeTypes.n)(type)}BackgroundAudioPanelContent.propTypes={backgroundAudio:prop_types_default().shape({resource:propTypes.Y3,loop:prop_types_default().bool,tracks:prop_types_default().arrayOf(propTypes.TL.trackResource)}),updateBackgroundAudio:prop_types_default().func.isRequired,showCaptions:prop_types_default().bool,showLoopControl:prop_types_default().bool,audioId:prop_types_default().string};const backgroundAudioPanelContent=BackgroundAudioPanelContent;BackgroundAudioPanelContent.__docgenInfo={description:"",methods:[],displayName:"BackgroundAudioPanelContent",props:{showCaptions:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},showLoopControl:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},backgroundAudio:{description:"",type:{name:"shape",value:{resource:{name:"custom",raw:"BackgroundAudioPropType",required:!1},loop:{name:"bool",required:!1},tracks:{name:"arrayOf",value:{name:"custom",raw:"ResourcePropTypes.trackResource"},required:!1}}},required:!1},updateBackgroundAudio:{description:"",type:{name:"func"},required:!0},audioId:{description:"",type:{name:"string"},required:!1}}}},"./packages/story-editor/src/components/panels/shared/media/captionsPanelContent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_17__),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/i18n/src/i18n.ts"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_media__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./packages/media/src/mimeTypes.ts"),_googleforcreators_media__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./packages/media/src/types/propTypes.ts"),_googleforcreators_tracking__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/tracking/src/index.ts"),_form__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/components/form/index.js"),_app_config__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/story-editor/src/app/config/index.ts"),_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/story-editor/src/constants/index.ts"),_hotlinkModal__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/story-editor/src/components/hotlinkModal/index.js"),_utils_noop__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/story-editor/src/utils/noop.ts"),_fileRow__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/story-editor/src/components/panels/shared/media/fileRow.js");const ButtonRow=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.Ay)(_form__WEBPACK_IMPORTED_MODULE_4__.fI).withConfig({displayName:"captionsPanelContent__ButtonRow",componentId:"sc-nb4jvi-0"})(["gap:12px;"]),FileName=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.E.Paragraph).attrs({size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__.$.Small}).withConfig({displayName:"captionsPanelContent__FileName",componentId:"sc-nb4jvi-1"})(["color:",";"],(({theme})=>theme.colors.fg.primary)),HotlinkButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_12__.$).withConfig({displayName:"captionsPanelContent__HotlinkButton",componentId:"sc-nb4jvi-2"})(["padding:12px 8px;"]);function CaptionsPanelContent(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(65),{isIndeterminate:t1,tracks:t2,captionText:t3,handleChangeTrack,handleRemoveTrack,renderUploadButton,removeItemLabel:t4}=t0,isIndeterminate=void 0!==t1&&t1;let t5;$[0]!==t2?(t5=void 0===t2?[]:t2,$[0]=t2,$[1]=t5):t5=$[1];const tracks=t5;let t6;$[2]!==t3?(t6=void 0===t3?(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Upload a file","web-stories"):t3,$[2]=t3,$[3]=t6):t6=$[3];const captionText=t6;let t7;$[4]!==t4?(t7=void 0===t4?(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Remove file","web-stories"):t4,$[4]=t4,$[5]=t7):t7=$[5];const removeItemLabel=t7,{allowedMimeTypes:t8,capabilities:t9,MediaUpload}=(0,_app_config__WEBPACK_IMPORTED_MODULE_5__.UK)(),{caption:t10}=t8;let t11;$[6]!==t10?(t11=void 0===t10?[]:t10,$[6]=t10,$[7]=t11):t11=$[7];const allowedCaptionMimeTypes=t11,{hasUploadMediaAction}=t9,[isOpen,setIsOpen]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.J0)(!1);let t12,t13;$[8]!==allowedCaptionMimeTypes?(t12=()=>allowedCaptionMimeTypes.flatMap(_temp),t13=[allowedCaptionMimeTypes],$[8]=allowedCaptionMimeTypes,$[9]=t12,$[10]=t13):(t12=$[9],t13=$[10]);const allowedFileTypes=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)(t12,t13);let t14,t15;$[11]!==handleChangeTrack||$[12]!==setIsOpen?(t14=t15=>{const{link,hotlinkInfo,needsProxy}=t15;handleChangeTrack({src:link,needsProxy}),(0,_googleforcreators_tracking__WEBPACK_IMPORTED_MODULE_3__.sx)("hotlink_caption",{event_label:link,file_size:hotlinkInfo.fileSize,file_type:hotlinkInfo.mimeType,needs_proxy:needsProxy}),setIsOpen(!1)},$[11]=handleChangeTrack,$[12]=setIsOpen,$[13]=t14):t14=$[13],$[14]!==handleChangeTrack?(t15=[handleChangeTrack],$[14]=handleChangeTrack,$[15]=t15):t15=$[15];const onSelect=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t14,t15);let t16;$[16]===Symbol.for("react.memo_cache_sentinel")?(t16=[],$[16]=t16):t16=$[16];const onError=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(_temp2,t16);if(!allowedCaptionMimeTypes?.length)return null;let t17,t18,t19,t20;$[17]!==allowedCaptionMimeTypes||$[18]!==captionText||$[19]!==handleChangeTrack||$[20]!==hasUploadMediaAction?(t17=hasUploadMediaAction&&{label:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Upload a file","web-stories"),value:"upload",onClick:_utils_noop__WEBPACK_IMPORTED_MODULE_14__.l,mediaPickerProps:{onSelect:handleChangeTrack,onSelectErrorMessage:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Please choose a VTT file to use as caption.","web-stories"),type:allowedCaptionMimeTypes,title:captionText,buttonInsertText:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Select caption","web-stories")}},$[17]=allowedCaptionMimeTypes,$[18]=captionText,$[19]=handleChangeTrack,$[20]=hasUploadMediaAction,$[21]=t17):t17=$[21],$[22]===Symbol.for("react.memo_cache_sentinel")?(t18=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Link to a file","web-stories"),$[22]=t18):t18=$[22],$[23]!==setIsOpen?(t19={label:t18,value:"hotlink",onClick:()=>{setIsOpen(!0)}},$[23]=setIsOpen,$[24]=t19):t19=$[24],$[25]!==t17||$[26]!==t19?(t20=[t17,t19].filter(Boolean),$[25]=t17,$[26]=t19,$[27]=t20):t20=$[27];const options=t20;let t21,t22,t23,t24,t25,t26,t27,t28,t29;if($[28]!==isIndeterminate?(t21=isIndeterminate&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_form__WEBPACK_IMPORTED_MODULE_4__.fI,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(FileName,null,_constants__WEBPACK_IMPORTED_MODULE_6__.Q6)),$[28]=isIndeterminate,$[29]=t21):t21=$[29],$[30]!==handleRemoveTrack||$[31]!==options||$[32]!==removeItemLabel||$[33]!==tracks){let t23;$[35]!==handleRemoveTrack||$[36]!==options||$[37]!==removeItemLabel?(t23=track_0=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_fileRow__WEBPACK_IMPORTED_MODULE_8__.A,{key:track_0.id,id:track_0.id,src:track_0.track,title:track_0.track.split("/").pop(),isExternal:!track_0.trackId,options,onRemove:handleRemoveTrack,removeItemLabel}),$[35]=handleRemoveTrack,$[36]=options,$[37]=removeItemLabel,$[38]=t23):t23=$[38],t22=tracks.map(t23),$[30]=handleRemoveTrack,$[31]=options,$[32]=removeItemLabel,$[33]=tracks,$[34]=t22}else t22=$[34];return $[39]!==MediaUpload||$[40]!==allowedCaptionMimeTypes||$[41]!==captionText||$[42]!==handleChangeTrack||$[43]!==hasUploadMediaAction||$[44]!==isIndeterminate||$[45]!==renderUploadButton||$[46]!==setIsOpen||$[47]!==tracks.length?(t23=!tracks.length&&!isIndeterminate&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ButtonRow,{spaceBetween:!1},hasUploadMediaAction&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(MediaUpload,{onSelect:handleChangeTrack,onSelectErrorMessage:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Please choose a VTT file to use as caption.","web-stories"),type:allowedCaptionMimeTypes,title:captionText,buttonInsertText:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Select caption","web-stories"),render:renderUploadButton}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(HotlinkButton,{variant:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_15__.Ak.Rectangle,type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_15__.VQ.Secondary,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_15__.Mp.Small,onClick:()=>setIsOpen(!0)},(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Link to caption file","web-stories"))),$[39]=MediaUpload,$[40]=allowedCaptionMimeTypes,$[41]=captionText,$[42]=handleChangeTrack,$[43]=hasUploadMediaAction,$[44]=isIndeterminate,$[45]=renderUploadButton,$[46]=setIsOpen,$[47]=tracks.length,$[48]=t23):t23=$[48],$[49]===Symbol.for("react.memo_cache_sentinel")?(t24=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Insert external captions","web-stories"),$[49]=t24):t24=$[49],$[50]!==setIsOpen?(t25=()=>setIsOpen(!1),$[50]=setIsOpen,$[51]=t25):t25=$[51],$[52]===Symbol.for("react.memo_cache_sentinel")?(t26=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Use caption","web-stories"),t27=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_13__.__)("Selecting caption","web-stories"),$[52]=t26,$[53]=t27):(t26=$[52],t27=$[53]),$[54]!==allowedFileTypes||$[55]!==isOpen||$[56]!==onError||$[57]!==onSelect||$[58]!==t25?(t28=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_hotlinkModal__WEBPACK_IMPORTED_MODULE_7__.A,{title:t24,isOpen,onSelect,onError,onClose:t25,allowedFileTypes,insertText:t26,insertingText:t27,canUseProxy:!1}),$[54]=allowedFileTypes,$[55]=isOpen,$[56]=onError,$[57]=onSelect,$[58]=t25,$[59]=t28):t28=$[59],$[60]!==t21||$[61]!==t22||$[62]!==t23||$[63]!==t28?(t29=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,t21,t22,t23,t28),$[60]=t21,$[61]=t22,$[62]=t23,$[63]=t28,$[64]=t29):t29=$[64],t29}function _temp2(err){return(0,_googleforcreators_tracking__WEBPACK_IMPORTED_MODULE_3__.Oz)("hotlink_caption",err?.message)}function _temp(type){return(0,_googleforcreators_media__WEBPACK_IMPORTED_MODULE_16__.n)(type)}CaptionsPanelContent.propTypes={isIndeterminate:prop_types__WEBPACK_IMPORTED_MODULE_17___default().bool,tracks:prop_types__WEBPACK_IMPORTED_MODULE_17___default().arrayOf(_googleforcreators_media__WEBPACK_IMPORTED_MODULE_18__.TL.trackResource),captionText:prop_types__WEBPACK_IMPORTED_MODULE_17___default().string,removeItemLabel:prop_types__WEBPACK_IMPORTED_MODULE_17___default().string,handleChangeTrack:prop_types__WEBPACK_IMPORTED_MODULE_17___default().func,handleRemoveTrack:prop_types__WEBPACK_IMPORTED_MODULE_17___default().func,renderUploadButton:prop_types__WEBPACK_IMPORTED_MODULE_17___default().func};const __WEBPACK_DEFAULT_EXPORT__=CaptionsPanelContent;CaptionsPanelContent.__docgenInfo={description:"",methods:[],displayName:"CaptionsPanelContent",props:{isIndeterminate:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},tracks:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"custom",raw:"ResourcePropTypes.trackResource"}},required:!1},captionText:{defaultValue:{value:"__('Upload a file', 'web-stories')",computed:!0},description:"",type:{name:"string"},required:!1},removeItemLabel:{defaultValue:{value:"__('Remove file', 'web-stories')",computed:!0},description:"",type:{name:"string"},required:!1},handleChangeTrack:{description:"",type:{name:"func"},required:!1},handleRemoveTrack:{description:"",type:{name:"func"},required:!1},renderUploadButton:{description:"",type:{name:"func"},required:!1}}}},"./packages/story-editor/src/components/panels/shared/media/dropDownMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/i18n/src/i18n.ts"),uuid__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/story-editor/node_modules/uuid/dist/esm-browser/v4.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/icons/checkmark_small.svg"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/components/menu/list/components.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/design-system/src/utils/noop.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./packages/design-system/src/components/popup/popup.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./packages/design-system/src/components/popup/constants.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./packages/design-system/src/components/menu/menu.tsx"),_app__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/app/index.js"),_utils_dropDownKeyEvents__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/components/panels/utils/dropDownKeyEvents.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const MenuButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.$).withConfig({displayName:"dropDownMenu__MenuButton",componentId:"sc-160pl0l-0"})(["top:4px;right:4px;"]),DropDownContainer=styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay.div.withConfig({displayName:"dropDownMenu__DropDownContainer",componentId:"sc-160pl0l-1"})(["margin-top:10px;"]),MenuContainer=styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay.div.withConfig({displayName:"dropDownMenu__MenuContainer",componentId:"sc-160pl0l-2"})(["z-index:1;"]),menuStylesOverride=(0,styled_components__WEBPACK_IMPORTED_MODULE_5__.AH)(["min-width:160px;margin-top:0;"]),ActiveIcon=(0,styled_components__WEBPACK_IMPORTED_MODULE_5__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.A).withConfig({displayName:"dropDownMenu__ActiveIcon",componentId:"sc-160pl0l-3"})(["position:absolute;left:4px;top:50%;transform:translateY(-50%);"]),CustomItemRenderer=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Rf)((function CustomItemRenderer(t0,ref){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(25);let isSelected,option,rest;$[0]!==t0?(({option,isSelected,...rest}=t0),$[0]=t0,$[1]=isSelected,$[2]=option,$[3]=rest):(isSelected=$[1],option=$[2],rest=$[3]);const{MediaUpload}=(0,_app__WEBPACK_IMPORTED_MODULE_3__.UK)();if(option.mediaPickerProps){let t1,t2;return $[4]!==isSelected||$[5]!==option.disabled||$[6]!==option.label||$[7]!==ref||$[8]!==rest?(t1=open=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.ck,_extends({},rest,{ref,isSelected,disabled:option.disabled,"aria-disabled":option.disabled,onClick:evt=>{rest.onClick?.(evt),open(evt)}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.Jg,{size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.$.Small},option.label)),$[4]=isSelected,$[5]=option.disabled,$[6]=option.label,$[7]=ref,$[8]=rest,$[9]=t1):t1=$[9],$[10]!==MediaUpload||$[11]!==option.mediaPickerProps||$[12]!==t1?(t2=react__WEBPACK_IMPORTED_MODULE_0__.createElement(MediaUpload,_extends({},option.mediaPickerProps,{render:t1})),$[10]=MediaUpload,$[11]=option.mediaPickerProps,$[12]=t1,$[13]=t2):t2=$[13],t2}let t1,t2,t3;return $[14]!==isSelected?(t1=isSelected&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActiveIcon,{"data-testid":"dropdownMenuItem_active_icon","aria-label":(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_10__.__)("Selected","web-stories"),width:32,height:32}),$[14]=isSelected,$[15]=t1):t1=$[15],$[16]!==option.label?(t2=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.Jg,{size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.$.Small},option.label),$[16]=option.label,$[17]=t2):t2=$[17],$[18]!==isSelected||$[19]!==option.disabled||$[20]!==ref||$[21]!==rest||$[22]!==t1||$[23]!==t2?(t3=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.ck,_extends({},rest,{ref,isSelected,disabled:option.disabled,"aria-disabled":option.disabled}),t1,t2),$[18]=isSelected,$[19]=option.disabled,$[20]=ref,$[21]=rest,$[22]=t1,$[23]=t2,$[24]=t3):t3=$[24],t3}));function DropDownMenu({display,isMenuOpen,onMenuOpen,onMenuClose,onMenuSelected,setParentActive=_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_12__.l,groups,children,ariaLabel=(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_10__.__)("More","web-stories"),className,...rest}){const MenuButtonRef=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.li)(),onClose=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)((()=>{onMenuClose(),MenuButtonRef.current?.focus(),setParentActive()}),[onMenuClose,setParentActive]),listId=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)((()=>`list-${(0,uuid__WEBPACK_IMPORTED_MODULE_13__.A)()}`),[]),buttonId=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.Kr)((()=>`button-${(0,uuid__WEBPACK_IMPORTED_MODULE_13__.A)()}`),[]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MenuContainer,{className},MenuButtonRef.current&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_utils_dropDownKeyEvents__WEBPACK_IMPORTED_MODULE_4__.A,{target:MenuButtonRef.current}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MenuButton,{type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_14__.VQ.Tertiary,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_14__.Mp.Small,variant:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_14__.Ak.Square,ref:MenuButtonRef,onClick:onMenuOpen,"aria-label":ariaLabel,"aria-pressed":isMenuOpen,"aria-haspopup":!0,"aria-expanded":isMenuOpen,"aria-owns":isMenuOpen?listId:null,id:buttonId,$display:display,tabIndex:display||isMenuOpen?0:-1},children),(display||isMenuOpen)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_15__.A,{anchor:MenuButtonRef,placement:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_16__.W.BottomStart,isOpen:isMenuOpen},react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropDownContainer,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_17__.A,_extends({parentId:buttonId,listId,handleMenuItemSelect:(evt,value)=>{onMenuSelected(value)},groups,onDismissMenu:onClose,hasMenuRole:!0,menuStylesOverride,renderItem:CustomItemRenderer},rest)))))}CustomItemRenderer.propTypes={option:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object,isSelected:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool};const __WEBPACK_DEFAULT_EXPORT__=DropDownMenu;DropDownMenu.__docgenInfo={description:"An icon button that displays a dropdown menu on click.\n\n@param {Object} props Component props.\n@param {boolean} props.display Whether the more icon should be displayed.\n@param {boolean} props.isMenuOpen If the dropdown menu is open.\n@param {Function} props.onMenuOpen Callback for when menu is opened.\n@param {Function} props.onMenuClose Callback for when menu is closed without any selections.\n@param {Function} props.onMenuSelected Callback for when menu is closed and an option selected.\n@param {Function} props.setParentActive Sets the parent element active.\n@param {Array} props.groups Menu items.\n@param {Object} props.children Children.\n@param {string} props.ariaLabel ARIA label for the toggle button.\n@param {string} props.className Class name.\n@return {null|*} Element or null.",methods:[],displayName:"DropDownMenu",props:{setParentActive:{defaultValue:{value:"noop",computed:!0},description:"",type:{name:"func"},required:!1},ariaLabel:{defaultValue:{value:"__('More', 'web-stories')",computed:!0},description:"",type:{name:"string"},required:!1},display:{description:"",type:{name:"bool"},required:!0},isMenuOpen:{description:"",type:{name:"bool"},required:!0},onMenuOpen:{description:"",type:{name:"func"},required:!0},onMenuClose:{description:"",type:{name:"func"},required:!0},onMenuSelected:{description:"",type:{name:"func"},required:!0},groups:{description:"",type:{name:"array"},required:!1},children:{description:"",type:{name:"node"},required:!1},className:{description:"",type:{name:"string"},required:!1}}}},"./packages/story-editor/src/components/panels/shared/media/fileRow.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_18__),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/icons/rotate.svg"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/icons/link.svg"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/design-system/src/icons/arrow_outline.svg"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/design-system/src/utils/useLiveRegion.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./packages/design-system/src/icons/trash.svg"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./packages/i18n/src/i18n.ts"),_form__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/story-editor/src/components/form/index.js"),_tooltip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/story-editor/src/components/tooltip/index.js"),_dropDownMenu__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/story-editor/src/components/panels/shared/media/dropDownMenu.js");const InputRow=styled_components__WEBPACK_IMPORTED_MODULE_6__.Ay.div.withConfig({displayName:"fileRow__InputRow",componentId:"sc-w8gml-0"})(["flex-grow:1;margin:0 8px;min-width:0;"]),ReplaceIcon=(0,styled_components__WEBPACK_IMPORTED_MODULE_6__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.A).withConfig({displayName:"fileRow__ReplaceIcon",componentId:"sc-w8gml-1"})(["vertical-align:bottom;"]),LinkIcon=(0,styled_components__WEBPACK_IMPORTED_MODULE_6__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.A).withConfig({displayName:"fileRow__LinkIcon",componentId:"sc-w8gml-2"})(["width:24px;height:24px;vertical-align:bottom;"]),UploadIcon=(0,styled_components__WEBPACK_IMPORTED_MODULE_6__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.A).withConfig({displayName:"fileRow__UploadIcon",componentId:"sc-w8gml-3"})(["width:24px;height:24px;vertical-align:bottom;"]),Link=styled_components__WEBPACK_IMPORTED_MODULE_6__.Ay.a.withConfig({displayName:"fileRow__Link",componentId:"sc-w8gml-4"})(["",";"],(({theme})=>(0,styled_components__WEBPACK_IMPORTED_MODULE_6__.AH)(["color:",";text-decoration:none;cursor:pointer;:hover,:active,:focus{text-decoration:underline;color:"," !important;}",""],theme.colors.fg.primary,theme.colors.fg.primary,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.Q(theme.colors.border.focus)))),StyledButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_6__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__.$).withConfig({displayName:"fileRow__StyledButton",componentId:"sc-w8gml-5"})(["",";"],(({theme})=>_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.Q(theme.colors.border.focus,theme.colors.bg.secondary))),FileName=(0,styled_components__WEBPACK_IMPORTED_MODULE_6__.Ay)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_12__.E.Paragraph).attrs({size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_13__.$.Small}).withConfig({displayName:"fileRow__FileName",componentId:"sc-w8gml-6"})(["color:",";text-overflow:ellipsis;overflow:hidden;"],(({theme})=>theme.colors.fg.primary));function FileRow(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(48),{id,isExternal,src,title,options,removeItemLabel,onRemove,children}=t0;let t1;$[0]!==options?(t1=[{options}],$[0]=options,$[1]=t1):t1=$[1];const groups=t1,[isMenuOpen,setIsMenuOpen]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.J0)(!1),speak=(0,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_14__.A)();let t2;$[2]!==setIsMenuOpen?(t2=()=>setIsMenuOpen(!0),$[2]=setIsMenuOpen,$[3]=t2):t2=$[3];const onMenuOpen=t2;let t3;$[4]!==setIsMenuOpen?(t3=()=>setIsMenuOpen(!1),$[4]=setIsMenuOpen,$[5]=t3):t3=$[5];const onMenuClose=t3;let t4,t5;$[6]!==options||$[7]!==setIsMenuOpen?(t4=value=>{setIsMenuOpen(!1),options.find((item=>item.value===value))?.onClick()},$[6]=options,$[7]=setIsMenuOpen,$[8]=t4):t4=$[8],$[9]!==options?(t5=[options],$[9]=options,$[10]=t5):t5=$[10];const onMenuSelected=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t4,t5);let t6,t7;$[11]!==id||$[12]!==onRemove||$[13]!==speak?(t6=()=>{onRemove(id),speak((0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_15__.__)("File removed","web-stories"))},t7=[id,onRemove,speak],$[11]=id,$[12]=onRemove,$[13]=speak,$[14]=t6,$[15]=t7):(t6=$[14],t7=$[15]);const onItemRemove=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.hb)(t6,t7);let t8;$[16]!==isExternal?(t8=isExternal?(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_15__.__)("External file","web-stories"):(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_15__.__)("Local file","web-stories"),$[16]=isExternal,$[17]=t8):t8=$[17];const label=t8,t9=`row-filename-${id}`;let t10,t11,t12,t13,t14,t15,t16,t17;return $[18]!==isExternal||$[19]!==label?(t10=isExternal?react__WEBPACK_IMPORTED_MODULE_0__.createElement(LinkIcon,{title:label}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(UploadIcon,{title:label}),$[18]=isExternal,$[19]=label,$[20]=t10):t10=$[20],$[21]!==label||$[22]!==t10?(t11=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tooltip__WEBPACK_IMPORTED_MODULE_4__.A,{title:label},t10),$[21]=label,$[22]=t10,$[23]=t11):t11=$[23],$[24]!==src||$[25]!==title?(t12=react__WEBPACK_IMPORTED_MODULE_0__.createElement(InputRow,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(FileName,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(Link,{href:src,rel:"noreferrer",target:"_blank"},title))),$[24]=src,$[25]=title,$[26]=t12):t12=$[26],$[27]!==groups||$[28]!==isMenuOpen||$[29]!==onMenuClose||$[30]!==onMenuOpen||$[31]!==onMenuSelected||$[32]!==options.length?(t13=options.length>0&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dropDownMenu__WEBPACK_IMPORTED_MODULE_5__.A,{onMenuOpen,isMenuOpen,onMenuSelected,display:!0,onMenuClose,groups,ariaLabel:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_15__.__)("Replace file","web-stories")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tooltip__WEBPACK_IMPORTED_MODULE_4__.A,{title:(0,_googleforcreators_i18n__WEBPACK_IMPORTED_MODULE_15__.__)("Replace","web-stories")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ReplaceIcon,null))),$[27]=groups,$[28]=isMenuOpen,$[29]=onMenuClose,$[30]=onMenuOpen,$[31]=onMenuSelected,$[32]=options.length,$[33]=t13):t13=$[33],$[34]===Symbol.for("react.memo_cache_sentinel")?(t14=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_16__.A,null),$[34]=t14):t14=$[34],$[35]!==onItemRemove||$[36]!==removeItemLabel?(t15=react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledButton,{"aria-label":removeItemLabel,type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_17__.VQ.Tertiary,size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_17__.Mp.Small,variant:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_17__.Ak.Square,onClick:onItemRemove},t14),$[35]=onItemRemove,$[36]=removeItemLabel,$[37]=t15):t15=$[37],$[38]!==removeItemLabel||$[39]!==t15?(t16=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tooltip__WEBPACK_IMPORTED_MODULE_4__.A,{hasTail:!0,title:removeItemLabel},t15),$[38]=removeItemLabel,$[39]=t15,$[40]=t16):t16=$[40],$[41]!==children||$[42]!==t11||$[43]!==t12||$[44]!==t13||$[45]!==t16||$[46]!==t9?(t17=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_form__WEBPACK_IMPORTED_MODULE_3__.fI,{key:t9},t11,t12,children,t13,t16),$[41]=children,$[42]=t11,$[43]=t12,$[44]=t13,$[45]=t16,$[46]=t9,$[47]=t17):t17=$[47],t17}FileRow.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_18___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_18___default().string,prop_types__WEBPACK_IMPORTED_MODULE_18___default().number]),isExternal:prop_types__WEBPACK_IMPORTED_MODULE_18___default().bool,src:prop_types__WEBPACK_IMPORTED_MODULE_18___default().string,title:prop_types__WEBPACK_IMPORTED_MODULE_18___default().string,options:prop_types__WEBPACK_IMPORTED_MODULE_18___default().array,removeItemLabel:prop_types__WEBPACK_IMPORTED_MODULE_18___default().string,onRemove:prop_types__WEBPACK_IMPORTED_MODULE_18___default().func,children:prop_types__WEBPACK_IMPORTED_MODULE_18___default().node};const __WEBPACK_DEFAULT_EXPORT__=FileRow;FileRow.__docgenInfo={description:"",methods:[],displayName:"FileRow",props:{id:{description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},isExternal:{description:"",type:{name:"bool"},required:!1},src:{description:"",type:{name:"string"},required:!1},title:{description:"",type:{name:"string"},required:!1},options:{description:"",type:{name:"array"},required:!1},removeItemLabel:{description:"",type:{name:"string"},required:!1},onRemove:{description:"",type:{name:"func"},required:!1},children:{description:"",type:{name:"node"},required:!1}}}},"./packages/story-editor/src/components/panels/utils/dropDownKeyEvents.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DropDownKeyEvents});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/components/keyboard/keyboard.tsx"),_canvas_useFocusCanvas__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/story-editor/src/components/canvas/useFocusCanvas.ts"),_utils_useRovingTabIndex__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/story-editor/src/utils/useRovingTabIndex/index.js");const BUTTON_NESTING_DEPTH=3;function DropDownKeyEvents(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(5),{target}=t0;let t1,t2;$[0]!==target?(t1={ref:target},$[0]=target,$[1]=t1):t1=$[1],$[2]===Symbol.for("react.memo_cache_sentinel")?(t2=[],$[2]=t2):t2=$[2],(0,_utils_useRovingTabIndex__WEBPACK_IMPORTED_MODULE_2__.A)(t1,t2,BUTTON_NESTING_DEPTH);const focusCanvas=(0,_canvas_useFocusCanvas__WEBPACK_IMPORTED_MODULE_1__.A)();let t3;return $[3]!==focusCanvas?(t3=[focusCanvas],$[3]=focusCanvas,$[4]=t3):t3=$[4],(0,_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__._h)(target,"tab",focusCanvas,t3),null}DropDownKeyEvents.propTypes={target:prop_types__WEBPACK_IMPORTED_MODULE_4___default().shape({current:prop_types__WEBPACK_IMPORTED_MODULE_4___default().instanceOf(Element)})}},"./packages/story-editor/src/components/publishModal/publishModal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>publishModal});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),theme=__webpack_require__("./packages/design-system/src/theme/theme.ts"),modal=__webpack_require__("./packages/design-system/src/components/modal/modal.tsx"),src=__webpack_require__("./packages/tracking/src/index.ts"),react_src=__webpack_require__("./packages/react/src/index.ts"),checklist=__webpack_require__("./packages/story-editor/src/components/checklist/index.js"),directionAware=__webpack_require__("./packages/story-editor/src/components/directionAware/index.js"),button_button=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),cross=__webpack_require__("./packages/design-system/src/icons/cross.svg"),constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),headline=__webpack_require__("./packages/design-system/src/components/typography/headline/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts");const INPUT_KEYS_EXCERPT="excerpt",INPUT_KEYS_TITLE="title";var buttonWithChecklistWarning=__webpack_require__("./packages/story-editor/src/components/header/buttons/buttonWithChecklistWarning.js");const _Header=styled_components_browser_esm.Ay.header.withConfig({displayName:"header___Header",componentId:"sc-yxsju1-0"})(["width:100%;height:",";display:flex;align-items:center;margin-bottom:",";background-color:",";border-top-left-radius:",";border-top-right-radius:",";"],"44px","1px",(({theme})=>theme.colors.bg.secondary),(({theme})=>theme.borders.radius.medium),(({theme})=>theme.borders.radius.medium)),CloseButton=(0,styled_components_browser_esm.Ay)(button_button.$).withConfig({displayName:"header__CloseButton",componentId:"sc-yxsju1-1"})(["margin:6px auto 5px 6px;"]),PublishButtonWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"header__PublishButtonWrapper",componentId:"sc-yxsju1-2"})(["margin:6px 6px 5px auto;"]),Header=t0=>{const $=(0,dist.c)(12),{onClose,onPublish,publishButtonDisabled,hasFutureDate}=t0;let t1,t2,t3,t4,t5,t6;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t1=(0,i18n.__)("Close","web-stories"),t2=react.createElement(cross.A,null),$[0]=t1,$[1]=t2):(t1=$[0],t2=$[1]),$[2]!==onClose?(t3=react.createElement(CloseButton,{variant:constants.Ak.Square,size:constants.Mp.Small,type:constants.VQ.Tertiary,onClick:onClose,"aria-label":t1},t2),$[2]=onClose,$[3]=t3):t3=$[3],$[4]===Symbol.for("react.memo_cache_sentinel")?(t4=react.createElement(headline.$,{as:"h2",size:types.$.XXXSmall},(0,i18n.__)("Story Details","web-stories")),$[4]=t4):t4=$[4],$[5]!==hasFutureDate||$[6]!==onPublish||$[7]!==publishButtonDisabled?(t5=react.createElement(PublishButtonWrapper,null,react.createElement(buttonWithChecklistWarning.A,{onClick:onPublish,disabled:publishButtonDisabled,hasFutureDate})),$[5]=hasFutureDate,$[6]=onPublish,$[7]=publishButtonDisabled,$[8]=t5):t5=$[8],$[9]!==t3||$[10]!==t5?(t6=react.createElement(_Header,null,t3,t4,t5),$[9]=t3,$[10]=t5,$[11]=t6):t6=$[11],t6},header=Header;Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{onClose:{description:"",type:{name:"func"},required:!0},onPublish:{description:"",type:{name:"func"},required:!0},publishButtonDisabled:{description:"",type:{name:"bool"},required:!1},hasFutureDate:{description:"",type:{name:"bool"},required:!1}}};var scrollbar=__webpack_require__("./packages/design-system/src/theme/helpers/scrollbar.ts"),useSidebar=__webpack_require__("./packages/story-editor/src/components/sidebar/useSidebar.js"),textArea=__webpack_require__("./packages/design-system/src/components/textArea/textArea.tsx"),app=__webpack_require__("./packages/story-editor/src/app/index.js"),storyUpdates=__webpack_require__("./packages/story-editor/src/utils/storyUpdates.ts"),excerpt=__webpack_require__("./packages/story-editor/src/components/panels/document/excerpt/index.js");const FormSection=styled_components_browser_esm.Ay.div.withConfig({displayName:"mainStoryInfo__FormSection",componentId:"sc-1f06m84-0"})(["padding:0 4px;&:first-of-type{margin:20px 0px 0px;}"]),_TextArea=(0,styled_components_browser_esm.Ay)(textArea.A).withConfig({displayName:"mainStoryInfo___TextArea",componentId:"sc-1f06m84-1"})(["margin:8px 0 0;& > p{margin-bottom:-4px;}"]),MainStoryInfo=()=>{const $=(0,dist.c)(31),updateStory=(0,app.P3)(_temp),_inputValues=(0,app.P3)(_temp2),slug_0=(0,app.P3)(_temp3),IsolatedStatusPanel=(0,useSidebar.A)(_temp4),[inputValues,setInputValues]=(0,react_src.J0)(_inputValues);let t0,t1;$[0]!==slug_0||$[1]!==updateStory?(t0=newTitle=>{(0,storyUpdates.H)({currentSlug:slug_0,currentTitle:newTitle,updateStory})},t1=[slug_0,updateStory],$[0]=slug_0,$[1]=updateStory,$[2]=t0,$[3]=t1):(t0=$[2],t1=$[3]);const handleUpdateSlug=(0,react_src.hb)(t0,t1);let t2,t3;$[4]!==handleUpdateSlug||$[5]!==updateStory?(t2=t4=>{const{target}=t4,{value,name}=target;updateStory({properties:{[name]:value}}),name===INPUT_KEYS_TITLE&&handleUpdateSlug(value)},t3=[handleUpdateSlug,updateStory],$[4]=handleUpdateSlug,$[5]=updateStory,$[6]=t2,$[7]=t3):(t2=$[6],t3=$[7]);const handleUpdateStoryInfo=(0,react_src.hb)(t2,t3);let t4;$[8]!==setInputValues?(t4=t5=>{const{currentTarget}=t5;setInputValues((prev=>({...prev,[currentTarget.name]:currentTarget.value})))},$[8]=setInputValues,$[9]=t4):t4=$[9];const onInputChange=t4;let t5;$[10]===Symbol.for("react.memo_cache_sentinel")?(t5=react.createElement(headline.$,{as:"label",size:types.$.XXSmall,htmlFor:"story-title"},(0,i18n.__)("Story Title","web-stories")),$[10]=t5):t5=$[10];const t6=inputValues[INPUT_KEYS_TITLE];let t7,t8,t9,t10;$[11]===Symbol.for("react.memo_cache_sentinel")?(t7=(0,i18n.__)("Story Title","web-stories"),t8=(0,i18n.__)("Add title","web-stories"),$[11]=t7,$[12]=t8):(t7=$[11],t8=$[12]),$[13]!==handleUpdateStoryInfo||$[14]!==onInputChange||$[15]!==t6?(t9=react.createElement(FormSection,null,t5,react.createElement(_TextArea,{name:INPUT_KEYS_TITLE,id:"story-title",showCount:!0,value:t6,onChange:onInputChange,onBlur:handleUpdateStoryInfo,"aria-label":t7,placeholder:t8})),$[13]=handleUpdateStoryInfo,$[14]=onInputChange,$[15]=t6,$[16]=t9):t9=$[16],$[17]===Symbol.for("react.memo_cache_sentinel")?(t10=react.createElement(headline.$,{as:"label",size:types.$.XXSmall,htmlFor:"story-excerpt"},(0,i18n.__)("Story Description","web-stories")),$[17]=t10):t10=$[17];const t11=inputValues[INPUT_KEYS_EXCERPT];let t12,t13,t14,t15,t16,t17;return $[18]===Symbol.for("react.memo_cache_sentinel")?(t12=(0,i18n.__)("Story Description","web-stories"),t13=(0,i18n.__)("Write a description of the story","web-stories"),t14=(0,i18n.__)("Stories with a description tend to do better on search and have a wider reach","web-stories"),$[18]=t12,$[19]=t13,$[20]=t14):(t12=$[18],t13=$[19],t14=$[20]),$[21]!==handleUpdateStoryInfo||$[22]!==onInputChange||$[23]!==t11?(t15=react.createElement(FormSection,null,t10,react.createElement(_TextArea,{name:INPUT_KEYS_EXCERPT,id:"story-excerpt",showCount:!0,maxLength:excerpt.q,value:t11,"aria-label":t12,placeholder:t13,hint:t14,onChange:onInputChange,onBlur:handleUpdateStoryInfo})),$[21]=handleUpdateStoryInfo,$[22]=onInputChange,$[23]=t11,$[24]=t15):t15=$[24],$[25]!==IsolatedStatusPanel?(t16=IsolatedStatusPanel&&react.createElement(IsolatedStatusPanel,null),$[25]=IsolatedStatusPanel,$[26]=t16):t16=$[26],$[27]!==t15||$[28]!==t16||$[29]!==t9?(t17=react.createElement(react.Fragment,null,t9,t15,t16),$[27]=t15,$[28]=t16,$[29]=t9,$[30]=t17):t17=$[30],t17},mainStoryInfo=MainStoryInfo;function _temp(t0){const{actions}=t0;return actions.updateStory}function _temp2(t0){const{state:t1}=t0,{story}=t1;return{[INPUT_KEYS_EXCERPT]:story.excerpt,[INPUT_KEYS_TITLE]:story.title||""}}function _temp3(t0){const{state:t1}=t0,{story:t2}=t1,{slug}=t2;return slug}function _temp4(t0){const{data}=t0;return data?.modalSidebarTab?.IsolatedStatusPanel}MainStoryInfo.__docgenInfo={description:"",methods:[],displayName:"MainStoryInfo"};var typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),mediaInput_types=__webpack_require__("./packages/design-system/src/components/mediaInput/types.ts"),src_constants=__webpack_require__("./packages/units/src/constants.ts"),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),translateToExclusiveList=__webpack_require__("./packages/i18n/src/translateToExclusiveList.ts"),src_mimeTypes=__webpack_require__("./packages/media/src/mimeTypes.ts"),story_editor_src_constants=__webpack_require__("./packages/story-editor/src/constants/index.ts"),components_form=__webpack_require__("./packages/story-editor/src/components/form/index.js");const PreviewWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"storyPreview__PreviewWrapper",componentId:"sc-zk17py-0"})(["width:","px;height:","px;position:relative;margin-top:8px;"],(({width})=>width),(({height})=>height));PreviewWrapper.propTypes={width:prop_types_default().number.isRequired,height:prop_types_default().number.isRequired};const PreviewContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"storyPreview__PreviewContainer",componentId:"sc-zk17py-1"})(["width:","px;height:","px;position:absolute;"],(({width})=>width),(({height})=>height));PreviewContainer.propTypes={width:prop_types_default().number.isRequired,height:prop_types_default().number.isRequired};const Image=styled_components_browser_esm.Ay.img.withConfig({displayName:"storyPreview__Image",componentId:"sc-zk17py-2"})(["height:100%;width:100%;display:block;aspect-ratio:",";object-fit:cover;border-radius:",";background:",";"],src_constants.iZ,(({theme})=>theme.borders.radius.medium),(({theme})=>theme.colors.interactiveBg.primaryNormal)),EmptyPlaceholder=styled_components_browser_esm.Ay.div.withConfig({displayName:"storyPreview__EmptyPlaceholder",componentId:"sc-zk17py-3"})(["height:100%;border-radius:",";background:",";"],(({theme})=>theme.borders.radius.medium),(({theme})=>theme.colors.interactiveBg.primaryNormal)),Gradient=styled_components_browser_esm.Ay.div.withConfig({displayName:"storyPreview__Gradient",componentId:"sc-zk17py-4"})(["position:absolute;bottom:0;height:67%;width:100%;border-radius:",";background:",";"],(({theme})=>theme.borders.radius.medium),(({theme})=>theme.colors.gradient.posterOverlay)),ScrimWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"storyPreview__ScrimWrapper",componentId:"sc-zk17py-5"})(["position:absolute;top:0;box-sizing:border-box;width:100%;height:100%;border-radius:",";background:",";padding:8px;"],(({theme})=>theme.borders.radius.medium),(({theme})=>theme.colors.opacity.black3)),ScrimContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"storyPreview__ScrimContainer",componentId:"sc-zk17py-6"})(["display:flex;height:100%;width:100%;flex-wrap:wrap;justify-content:space-between;"]),ScrimTop=styled_components_browser_esm.Ay.div.withConfig({displayName:"storyPreview__ScrimTop",componentId:"sc-zk17py-7"})(["display:grid;grid-template-columns:50% 50%;grid-template-rows:auto;grid-template-areas:'publisherLogo editButton';justify-content:inherit;width:100%;"]),PublisherLogo=styled_components_browser_esm.Ay.img.withConfig({displayName:"storyPreview__PublisherLogo",componentId:"sc-zk17py-8"})(["grid-area:publisherLogo;height:24px;width:24px;border-radius:2px;box-shadow:0 0 8px rgba(0,0,0,0.08);"]),StyledMedia=(0,styled_components_browser_esm.Ay)(components_form.$U).withConfig({displayName:"storyPreview__StyledMedia",componentId:"sc-zk17py-9"})(["grid-area:editButton;display:flex;flex-direction:row-reverse;"]),ScrimBottom=styled_components_browser_esm.Ay.div.withConfig({displayName:"storyPreview__ScrimBottom",componentId:"sc-zk17py-10"})(["width:100%;margin:auto 0 0;align-self:flex-end;"]),Title=(0,styled_components_browser_esm.Ay)(headline.$).attrs({as:"h3",size:types.$.XSmall}).withConfig({displayName:"storyPreview__Title",componentId:"sc-zk17py-11"})(["max-height:calc(1.2em * 3);display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;padding:0;margin:0 0 4px;overflow:hidden;text-overflow:ellipsis;color:",";"],(({theme})=>theme.colors.fg.primary)),Publisher=(0,styled_components_browser_esm.Ay)(typography_text.E.Span).attrs({size:types.$.Medium}).withConfig({displayName:"storyPreview__Publisher",componentId:"sc-zk17py-12"})(["display:block;margin:0;padding:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",";"],(({theme})=>theme.colors.fg.secondary)),StoryPreview=()=>{const $=(0,dist.c)(47),{title,featuredMedia,publisherLogo,updateStory}=(0,app.P3)(storyPreview_temp),{allowedImageMimeTypes,hasUploadMediaAction,publisher}=(0,app.UK)(storyPreview_temp2);let t0,t1;$[0]!==allowedImageMimeTypes?(t0=()=>allowedImageMimeTypes.flatMap(storyPreview_temp3),t1=[allowedImageMimeTypes],$[0]=allowedImageMimeTypes,$[1]=t0,$[2]=t1):(t0=$[1],t1=$[2]);const allowedImageFileTypes=(0,react_src.Kr)(t0,t1);let t2;$[3]===Symbol.for("react.memo_cache_sentinel")?(t2=Math.round(232/src_constants.iZ),$[3]=t2):t2=$[3];const mediaHeight=t2;let t3,t4;$[4]!==updateStory?(t3=newPoster=>updateStory({properties:{featuredMedia:{id:newPoster.id,url:newPoster.src,height:newPoster.height,width:newPoster.width,isExternal:newPoster.isExternal,needsProxy:newPoster.needsProxy}}}),t4=[updateStory],$[4]=updateStory,$[5]=t3,$[6]=t4):(t3=$[5],t4=$[6]);const handleChangePoster=(0,react_src.hb)(t3,t4);let t5;$[7]===Symbol.for("react.memo_cache_sentinel")?(t5=(0,i18n.__)("No file types are currently supported.","web-stories"),$[7]=t5):t5=$[7];let posterErrorMessage=t5;if(allowedImageFileTypes.length){let t6;$[8]!==allowedImageFileTypes?(t6=(0,sprintf.A)((0,i18n.__)("Please choose only %s as a poster.","web-stories"),(0,translateToExclusiveList.A)(allowedImageFileTypes)),$[8]=allowedImageFileTypes,$[9]=t6):t6=$[9],posterErrorMessage=t6}const t6=hasUploadMediaAction&&"upload";let t7;$[10]!==t6?(t7=[t6,"hotlink"].filter(Boolean),$[10]=t6,$[11]=t7):t7=$[11];const menuOptions=t7;let t8,t9,t10,t11,t12,t13,t14,t15,t16,t17,t18,t19,t20,t21,t22,t23,t24,t25;return $[12]===Symbol.for("react.memo_cache_sentinel")?(t8=react.createElement(headline.$,{as:"label",size:types.$.XXSmall},(0,i18n.__)("Cover Preview","web-stories")),$[12]=t8):t8=$[12],$[13]!==featuredMedia?(t9=featuredMedia?.url?react.createElement(Image,{crossOrigin:"anonymous",decoding:"async",src:featuredMedia.url,width:featuredMedia.width,height:featuredMedia.height,alt:(0,i18n.__)("Preview image","web-stories"),"data-testid":"story_preview_featured_media"}):react.createElement(EmptyPlaceholder,null),$[13]=featuredMedia,$[14]=t9):t9=$[14],$[15]===Symbol.for("react.memo_cache_sentinel")?(t10=react.createElement(Gradient,null),$[15]=t10):t10=$[15],$[16]!==publisherLogo?(t11=publisherLogo?.url?.length>0&&react.createElement(PublisherLogo,{crossOrigin:"anonymous",decoding:"async",width:publisherLogo.width,height:publisherLogo.height,src:publisherLogo.url,alt:(0,i18n.__)("Publisher Logo","web-stories")}),$[16]=publisherLogo,$[17]=t11):t11=$[17],$[18]===Symbol.for("react.memo_cache_sentinel")?(t12=(0,i18n.__)("Select as poster image","web-stories"),t13=(0,i18n.__)("Use external image as poster image","web-stories"),t14=(0,i18n.__)("Use image as poster image","web-stories"),t15=(0,i18n.__)("Using image as poster image","web-stories"),t16=(0,i18n.__)("Select as poster image","web-stories"),$[18]=t12,$[19]=t13,$[20]=t14,$[21]=t15,$[22]=t16):(t12=$[18],t13=$[19],t14=$[20],t15=$[21],t16=$[22]),$[23]===Symbol.for("react.memo_cache_sentinel")?(t17=(0,i18n.__)("Poster image","web-stories"),$[23]=t17):t17=$[23],$[24]===Symbol.for("react.memo_cache_sentinel")?(t18={width:640,height:853},$[24]=t18):t18=$[24],$[25]!==allowedImageMimeTypes||$[26]!==featuredMedia||$[27]!==handleChangePoster||$[28]!==menuOptions||$[29]!==posterErrorMessage?(t19=react.createElement(StyledMedia,{onChange:handleChangePoster,title:t12,hotlinkTitle:t13,hotlinkInsertText:t14,hotlinkInsertingText:t15,buttonInsertText:t16,type:allowedImageMimeTypes,ariaLabel:t17,onChangeErrorText:posterErrorMessage,imgProps:featuredMedia,variant:mediaInput_types.Q.None,menuOptions,cropParams:t18}),$[25]=allowedImageMimeTypes,$[26]=featuredMedia,$[27]=handleChangePoster,$[28]=menuOptions,$[29]=posterErrorMessage,$[30]=t19):t19=$[30],$[31]!==t11||$[32]!==t19?(t20=react.createElement(ScrimTop,null,t11,t19),$[31]=t11,$[32]=t19,$[33]=t20):t20=$[33],$[34]!==title?(t21=title&&react.createElement(Title,null,title),$[34]=title,$[35]=t21):t21=$[35],$[36]!==publisher?(t22=publisher&&react.createElement(Publisher,{"data-testid":"story_preview_publisher"},publisher),$[36]=publisher,$[37]=t22):t22=$[37],$[38]!==t21||$[39]!==t22?(t23=react.createElement(ScrimBottom,null,t21,t22),$[38]=t21,$[39]=t22,$[40]=t23):t23=$[40],$[41]!==t20||$[42]!==t23?(t24=react.createElement(ScrimWrapper,null,react.createElement(ScrimContainer,null,t20,t23)),$[41]=t20,$[42]=t23,$[43]=t24):t24=$[43],$[44]!==t24||$[45]!==t9?(t25=react.createElement(react.Fragment,null,t8,react.createElement(PreviewWrapper,{width:232,height:mediaHeight},react.createElement(PreviewContainer,{width:232,height:mediaHeight},t9,t10,t24))),$[44]=t24,$[45]=t9,$[46]=t25):t25=$[46],t25},storyPreview=StoryPreview;function storyPreview_temp(t0){const{state:t1,actions}=t0,{story}=t1;return{title:story?.title,featuredMedia:story?.featuredMedia||{},publisherLogo:story?.publisherLogo||{},updateStory:actions.updateStory}}function storyPreview_temp2(t0){const{allowedMimeTypes,capabilities,metadata}=t0;return{allowedImageMimeTypes:allowedMimeTypes?.image||story_editor_src_constants.qW,hasUploadMediaAction:capabilities?.hasUploadMediaAction,publisher:metadata?.publisher}}function storyPreview_temp3(type){return(0,src_mimeTypes.n)(type)}StoryPreview.__docgenInfo={description:"",methods:[],displayName:"StoryPreview"};var icons_checkbox=__webpack_require__("./packages/design-system/src/icons/checkbox.svg"),zIndex=__webpack_require__("./packages/story-editor/src/constants/zIndex.ts"),checklist_constants=__webpack_require__("./packages/story-editor/src/components/checklist/constants.js"),countContext=__webpack_require__("./packages/story-editor/src/components/checklist/countContext/index.js"),toggleButton=__webpack_require__("./packages/story-editor/src/components/toggleButton/index.js");const ChecklistButton=t0=>{const $=(0,dist.c)(5),{handleReviewChecklist}=t0,priorityCount=(0,countContext.L_)(checklist_constants.co.PRIORITY);let t1,t2,t3;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t1=(0,i18n.__)("Checklist","web-stories"),t2=(0,i18n.__)("Checklist","web-stories"),$[0]=t1,$[1]=t2):(t1=$[0],t2=$[1]),$[2]!==handleReviewChecklist||$[3]!==priorityCount?(t3=react.createElement(toggleButton.f,{MainIcon:icons_checkbox.A,label:t1,"aria-label":t2,popupZIndexOverride:zIndex.Xl,onClick:handleReviewChecklist,notificationCount:priorityCount}),$[2]=handleReviewChecklist,$[3]=priorityCount,$[4]=t3):t3=$[4],t3},checklistButton=ChecklistButton;ChecklistButton.__docgenInfo={description:"",methods:[],displayName:"ChecklistButton",props:{handleReviewChecklist:{description:"",type:{name:"func"},required:!1}}};const Main=styled_components_browser_esm.Ay.div.withConfig({displayName:"content__Main",componentId:"sc-1d1lm9j-0"})(["display:grid;min-width:917px;width:100%;height:calc(100% - "," - ",");grid-template-columns:30.5% 34% 35.5%;grid-template-rows:auto;grid-template-areas:'preview mainPanel sidePanel' 'footer mainPanel sidePanel';"],"1px","44px"),_StoryPreview=styled_components_browser_esm.Ay.div.withConfig({displayName:"content___StoryPreview",componentId:"sc-1d1lm9j-1"})(["grid-area:preview;margin:20px 18px 0 32px;"]),_MainStoryInfo=styled_components_browser_esm.Ay.div.withConfig({displayName:"content___MainStoryInfo",componentId:"sc-1d1lm9j-2"})(["grid-area:mainPanel;display:flex;flex-direction:column;padding:0 16px;overflow-y:scroll;gap:34px;& > section{border:none;& > h2{padding-top:0;padding-bottom:2px;& > button{height:1em;}}}"]),PanelContainer=styled_components_browser_esm.Ay.div.attrs({role:"tabpanel"}).withConfig({displayName:"content__PanelContainer",componentId:"sc-1d1lm9j-3"})(["grid-area:sidePanel;height:100%;margin-left:18px;background-color:",";border-bottom-right-radius:",";overflow-y:scroll;",";"],(({theme})=>theme.colors.bg.secondary),(({theme})=>theme.borders.radius.medium),scrollbar.W),Footer=styled_components_browser_esm.Ay.div.withConfig({displayName:"content__Footer",componentId:"sc-1d1lm9j-4"})(["grid-area:footer;display:flex;align-items:flex-end;margin:0 18px 20px 32px;"]),Content=t0=>{const $=(0,dist.c)(11),{handleReviewChecklist}=t0,{DocumentPane,id:paneId}=(0,useSidebar.A)(content_temp),hasChecklist=(0,checklist.WY)();let t1,t2,t3,t4,t5;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t1=react.createElement(_StoryPreview,null,react.createElement(storyPreview,null)),t2=react.createElement(_MainStoryInfo,null,react.createElement(mainStoryInfo,null)),$[0]=t1,$[1]=t2):(t1=$[0],t2=$[1]),$[2]!==DocumentPane||$[3]!==paneId?(t3=DocumentPane&&react.createElement(PanelContainer,{"aria-label":(0,i18n.__)("Story Settings","web-stories"),id:paneId},react.createElement(DocumentPane,null)),$[2]=DocumentPane,$[3]=paneId,$[4]=t3):t3=$[4],$[5]!==handleReviewChecklist||$[6]!==hasChecklist?(t4=hasChecklist&&react.createElement(Footer,null,react.createElement(checklistButton,{handleReviewChecklist})),$[5]=handleReviewChecklist,$[6]=hasChecklist,$[7]=t4):t4=$[7],$[8]!==t3||$[9]!==t4?(t5=react.createElement(Main,null,t1,t2,t3,t4),$[8]=t3,$[9]=t4,$[10]=t5):t5=$[10],t5},content=Content;function content_temp(t0){const{data}=t0;return data?.modalSidebarTab||{}}Content.__docgenInfo={description:"",methods:[],displayName:"Content",props:{handleReviewChecklist:{description:"",type:{name:"func"},required:!1}}};const Container=styled_components_browser_esm.Ay.div.withConfig({displayName:"publishModal__Container",componentId:"sc-16gvo2-0"})(["height:100%;color:",";background-color:",";border:",";border-radius:",";"],theme.w.colors.fg.primary,theme.w.colors.bg.primary,`1px solid ${theme.w.colors.divider.primary}`,theme.w.borders.radius.medium);function PublishModal(t0){const $=(0,dist.c)(21),{isOpen,onPublish,onClose,publishButtonDisabled,hasFutureDate}=t0,openChecklist=(0,checklist.Em)(publishModal_temp);let t1,t2,t3,t4;$[0]!==isOpen?(t1=()=>{isOpen&&(0,src.sx)("publish_modal")},t2=[isOpen],$[0]=isOpen,$[1]=t1,$[2]=t2):(t1=$[1],t2=$[2]),(0,react_src.vJ)(t1,t2),$[3]!==onClose||$[4]!==openChecklist?(t3=()=>{(0,src.sx)("review_prepublish_checklist"),onClose({focusPublishButton:!1}),openChecklist()},t4=[onClose,openChecklist],$[3]=onClose,$[4]=openChecklist,$[5]=t3,$[6]=t4):(t3=$[5],t4=$[6]);const handleReviewChecklist=(0,react_src.hb)(t3,t4);let t5,t6,t7,t8,t9;return $[7]===Symbol.for("react.memo_cache_sentinel")?(t5=(0,i18n.__)("Story details","web-stories"),t6={display:"block",width:"71vw",minWidth:"917px",height:"66vh",minHeight:"580px",overflow:"hidden"},t7={backgroundColor:theme.w.colors.inverted.interactiveBg.modalScrim},$[7]=t5,$[8]=t6,$[9]=t7):(t5=$[7],t6=$[8],t7=$[9]),$[10]!==handleReviewChecklist||$[11]!==hasFutureDate||$[12]!==isOpen||$[13]!==onClose||$[14]!==onPublish||$[15]!==publishButtonDisabled?(t8=isOpen&&react.createElement(directionAware.A,null,react.createElement(Container,null,react.createElement(header,{hasFutureDate,publishButtonDisabled,onClose,onPublish}),react.createElement(content,{handleReviewChecklist}))),$[10]=handleReviewChecklist,$[11]=hasFutureDate,$[12]=isOpen,$[13]=onClose,$[14]=onPublish,$[15]=publishButtonDisabled,$[16]=t8):t8=$[16],$[17]!==isOpen||$[18]!==onClose||$[19]!==t8?(t9=react.createElement(modal.A,{isOpen,onClose,contentLabel:t5,contentStyles:t6,overlayStyles:t7},t8),$[17]=isOpen,$[18]=onClose,$[19]=t8,$[20]=t9):t9=$[20],t9}function publishModal_temp(t0){const{actions}=t0;return actions.handleReviewChecklist}const publishModal=PublishModal;PublishModal.propTypes={isOpen:prop_types_default().bool,onPublish:prop_types_default().func.isRequired,onClose:prop_types_default().func.isRequired,hasFutureDate:prop_types_default().bool,publishButtonDisabled:prop_types_default().bool},PublishModal.__docgenInfo={description:"",methods:[],displayName:"PublishModal",props:{isOpen:{description:"",type:{name:"bool"},required:!1},onPublish:{description:"",type:{name:"func"},required:!0},onClose:{description:"",type:{name:"func"},required:!0},hasFutureDate:{description:"",type:{name:"bool"},required:!1},publishButtonDisabled:{description:"",type:{name:"bool"},required:!1}}}},"./packages/story-editor/src/utils/storyUpdates.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>updateSlug});var _cleanForSlug__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/story-editor/src/utils/cleanForSlug.ts");const updateSlug=({currentSlug,currentTitle,updateStory})=>{if(!currentSlug){updateStory({properties:{slug:encodeURIComponent((0,_cleanForSlug__WEBPACK_IMPORTED_MODULE_0__.A)(currentTitle))}})}}},"./packages/story-editor/src/utils/useIsUploadingToStory.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/index.ts"),_app__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/story-editor/src/app/index.js");function _temp5(t0){const{state:t1}=t0,{isCurrentResourceUploading,isCurrentResourceProcessing}=t1;return{isCurrentResourceUploading,isCurrentResourceProcessing}}function _temp4(t0){const{state:t1}=t0,{pages:t2}=t1;return(void 0===t2?[]:t2).reduce(_temp3,[])}function _temp3(acc,curr){return acc.push(...curr.elements.filter(_temp).map(_temp2)),acc}function _temp2(t0){const{resource}=t0;return resource.id}function _temp(t0){const{type,isExternal}=t0;return["image","video","gif"].includes(type)&&!isExternal}const __WEBPACK_DEFAULT_EXPORT__=function useIsUploadingToStory(){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(5),resourceIds=(0,_app__WEBPACK_IMPORTED_MODULE_2__.P3)(_temp4),{isCurrentResourceUploading:isCurrentResourceUploading_0,isCurrentResourceProcessing:isCurrentResourceProcessing_0}=(0,_app__WEBPACK_IMPORTED_MODULE_2__.HZ)(_temp5);let t0,t1;return $[0]!==isCurrentResourceProcessing_0||$[1]!==isCurrentResourceUploading_0||$[2]!==resourceIds?(t0=()=>Boolean(resourceIds?.some((resourceId=>isCurrentResourceUploading_0(resourceId)||isCurrentResourceProcessing_0(resourceId)))),t1=[resourceIds,isCurrentResourceUploading_0,isCurrentResourceProcessing_0],$[0]=isCurrentResourceProcessing_0,$[1]=isCurrentResourceUploading_0,$[2]=resourceIds,$[3]=t0,$[4]=t1):(t0=$[3],t1=$[4]),(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_1__.Kr)(t0,t1)}}}]);