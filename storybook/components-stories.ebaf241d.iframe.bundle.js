"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[5007],{"./packages/animation/node_modules/uuid/dist/esm-browser/v4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_v4});const esm_browser_native={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let getRandomValues;const rnds8=new Uint8Array(16);const byteToHex=[];for(let i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(arr,offset=0){return(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase()}const esm_browser_v4=function v4(options,buf,offset){if(esm_browser_native.randomUUID&&!buf&&!options)return esm_browser_native.randomUUID();const rnds=(options=options||{}).random??options.rng?.()??function rng(){if(!getRandomValues){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}();if(rnds.length<16)throw new Error("Random bytes length must be >= 16");if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){if((offset=offset||0)<0||offset+16>buf.length)throw new RangeError(`UUID byte range ${offset}:${offset+15} is out of buffer bounds`);for(let i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return unsafeStringify(rnds)}},"./packages/animation/src/components/stories/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AMPStory:()=>AMPStory,_default:()=>_default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/index.ts"),___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/animation/src/components/index.ts"),_storybookUtils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/animation/src/storybookUtils/index.js"),_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/animation/src/types/index.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__={title:"Dashboard/Components/StoryAnimation",component:___WEBPACK_IMPORTED_MODULE_3__};function ColorSquare(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(8);let color,rest,t1,t2;return $[0]!==t0?(({color,...rest}=t0),$[0]=t0,$[1]=color,$[2]=rest):(color=$[1],rest=$[2]),$[3]!==color?(t1={position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:color},$[3]=color,$[4]=t1):t1=$[4],$[5]!==rest||$[6]!==t1?(t2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",_extends({style:t1},rest)),$[5]=rest,$[6]=t1,$[7]=t2):t2=$[7],t2}function SquareWrapper(t0){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(3),{children}=t0;let t1,t2;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t1={position:"relative",marginTop:20,height:50,width:50},$[0]=t1):t1=$[0],$[1]!==children?(t2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:t1},children),$[1]=children,$[2]=t2):t2=$[2],t2}ColorSquare.propTypes={color:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string},SquareWrapper.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_6___default().node};const animations=[{id:"1",targets:["some-id"],type:_types__WEBPACK_IMPORTED_MODULE_5__.J6.Fade},{id:"2",targets:["some-id"],type:_types__WEBPACK_IMPORTED_MODULE_5__.J6.Flip},{id:"3",targets:["some-id"],type:_types__WEBPACK_IMPORTED_MODULE_5__.J6.Spin},{id:"4",targets:["some-id"],type:_types__WEBPACK_IMPORTED_MODULE_5__.J6.FloatOn,duration:1e3}],_default={render:function Render(){const[state,setState]=(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_2__.J0)(0);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AnimationProvider,{animations,onWAAPIFinish:()=>{setState((v=>v+1))}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_storybookUtils__WEBPACK_IMPORTED_MODULE_4__.DM,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(SquareWrapper,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.WAAPIWrapper,{target:"some-id"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ColorSquare,{id:"some-id",color:state%2?"tomato":"green"}))))}},AMPStory={render:function Render(){const pages=[{id:"first-page",animations:[{id:"ir",targets:["el1"],type:_types__WEBPACK_IMPORTED_MODULE_5__.J6.Bounce,duration:1e3}]},{id:"second-page",animations:[{id:"a5",targets:["el2"],type:_types__WEBPACK_IMPORTED_MODULE_5__.J6.Bounce,duration:2e3}]},{id:"third-page",animations:[{id:"a1",targets:["el3"],type:_types__WEBPACK_IMPORTED_MODULE_5__.J6.Bounce},{id:"a2",targets:["el4"],type:_types__WEBPACK_IMPORTED_MODULE_5__.J6.Bounce,delay:100},{id:"a3",targets:["el5"],type:_types__WEBPACK_IMPORTED_MODULE_5__.J6.Bounce,delay:300},{id:"a4",targets:["el6"],type:_types__WEBPACK_IMPORTED_MODULE_5__.J6.Bounce,delay:500}],elements:[{id:"el3",color:"red",width:"50px"},{id:"el4",color:"orange",width:"100px"},{id:"el5",color:"blue",width:"200px"},{id:"el6",color:"green",width:"150px"}]}];return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{width:"100%",height:"640px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("amp-story",{standalone:!0,title:"My Story",publisher:"The AMP Team","publisher-logo-src":"https://example.com/logo/1x1.png","poster-portrait-src":"https://example.com/my-story/poster/3x4.jpg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("amp-story-page",{id:"p0"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("amp-img",{src:"https://picsum.photos/id/58/300",width:"300",height:"300"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("amp-story-page",{id:pages[0].id},react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AnimationProvider,{animations:pages[0].animations},react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AMPKeyframes,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AMPAnimations,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AMPWrapper,{target:"el1",style:{width:"300px",height:"300px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("amp-img",{src:"https://picsum.photos/id/237/300",width:"300",height:"300"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("amp-story-page",{id:pages[1].id},react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AnimationProvider,{animations:pages[1].animations},react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AMPKeyframes,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AMPAnimations,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AMPWrapper,{target:"el2",style:{width:"300px",height:"300px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("amp-img",{src:"https://picsum.photos/id/17/300",width:"300",height:"300"}))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("amp-story-page",{id:pages[2].id},react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AnimationProvider,{animations:pages[2].animations},react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AMPKeyframes,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AMPAnimations,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("amp-story-grid-layer",{template:"vertical"},pages[2].elements.map((element=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.AMPWrapper,{key:element.id,target:element.id,style:{width:element.width,height:"50px",marginBottom:"10px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:element.color}})))))))))}}},"./packages/animation/src/storybookUtils/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{zB:()=>AMPStoryWrapper,yw:()=>AMP_STORY_ASPECT_RATIO,DM:()=>PlayButton});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-compiler-runtime/dist/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),constants=__webpack_require__("./packages/units/src/constants.ts"),components=__webpack_require__("./packages/animation/src/components/index.ts");const ampBoilerplate=function Boilerplate(){const $=(0,dist.c)(2);let t0,t1;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t0=react.createElement("style",{"amp-boilerplate":"",dangerouslySetInnerHTML:{__html:"body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}"}}),$[0]=t0):t0=$[0],$[1]===Symbol.for("react.memo_cache_sentinel")?(t1=react.createElement(react.Fragment,null,t0,react.createElement("noscript",null,react.createElement("style",{"amp-boilerplate":"",dangerouslySetInnerHTML:{__html:"body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}"}}))),$[1]=t1):t1=$[1],t1},AMP_STORY_ASPECT_RATIO=`${constants.bj}:${constants.WY}`;function AMPStoryWrapper(t0){const $=(0,dist.c)(4),{children}=t0;let t1,t2,t3;return $[0]===Symbol.for("react.memo_cache_sentinel")?(t1={width:"100%",height:"640px"},t2=react.createElement(ampBoilerplate,null),$[0]=t1,$[1]=t2):(t1=$[0],t2=$[1]),$[2]!==children?(t3=react.createElement("div",{style:t1},t2,react.createElement("amp-story",{standalone:!0,title:"My Story",publisher:"The AMP Team","publisher-logo-src":"https://example.com/logo/1x1.png","poster-portrait-src":"https://example.com/my-story/poster/3x4.jpg"},children)),$[2]=children,$[3]=t3):t3=$[3],t3}AMPStoryWrapper.propTypes={children:prop_types_default().node};const PlayButton=()=>{const $=(0,dist.c)(11),{actions:t0}=(0,components.useStoryAnimationContext)(),{WAAPIAnimationMethods}=t0;let t1;$[0]===Symbol.for("react.memo_cache_sentinel")?(t1={play:"play",pause:"pause",reset:"reset"},$[0]=t1):t1=$[0];const label=t1;let t2,t3,t4,t5;return $[1]!==WAAPIAnimationMethods.play?(t2=react.createElement("button",{onClick:WAAPIAnimationMethods.play},label.play),$[1]=WAAPIAnimationMethods.play,$[2]=t2):t2=$[2],$[3]!==WAAPIAnimationMethods.pause?(t3=react.createElement("button",{onClick:WAAPIAnimationMethods.pause},label.pause),$[3]=WAAPIAnimationMethods.pause,$[4]=t3):t3=$[4],$[5]!==WAAPIAnimationMethods.reset?(t4=react.createElement("button",{onClick:WAAPIAnimationMethods.reset},label.reset),$[5]=WAAPIAnimationMethods.reset,$[6]=t4):t4=$[6],$[7]!==t2||$[8]!==t3||$[9]!==t4?(t5=react.createElement(react.Fragment,null,t2,t3,t4),$[7]=t2,$[8]=t3,$[9]=t4,$[10]=t5):t5=$[10],t5}}}]);